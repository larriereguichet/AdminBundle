/*! For license information please see admin.js.LICENSE.txt */
(()=>{var t={4721:(t,e,r)=>{var n={"./collapse_controller.js":5752,"./lag_admin_collection_controller.js":7810,"./lag_admin_textarea_controller.js":8891,"./select2_controller.js":5593,"./show_controller.js":7079,"./tinymce_controller.js":1968};function s(t){var e=i(t);return r(e)}function i(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}s.keys=function(){return Object.keys(n)},s.resolve=i,t.exports=s,s.id=4721},6599:(t,e,r)=>{"use strict";r.d(e,{Mx:()=>J,Qr:()=>ct});class n{constructor(t,e,r){this.eventTarget=t,this.eventName=e,this.eventOptions=r,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(t){this.unorderedBindings.add(t)}bindingDisconnected(t){this.unorderedBindings.delete(t)}handleEvent(t){const e=function(t){if("immediatePropagationStopped"in t)return t;{const{stopImmediatePropagation:e}=t;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}(t);for(const t of this.bindings){if(e.immediatePropagationStopped)break;t.handleEvent(e)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort(((t,e)=>{const r=t.index,n=e.index;return r<n?-1:r>n?1:0}))}}class s{constructor(t){this.application=t,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach((t=>t.connect())))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach((t=>t.disconnect())))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce(((t,e)=>t.concat(Array.from(e.values()))),[])}bindingConnected(t){this.fetchEventListenerForBinding(t).bindingConnected(t)}bindingDisconnected(t,e=!1){this.fetchEventListenerForBinding(t).bindingDisconnected(t),e&&this.clearEventListenersForBinding(t)}handleError(t,e,r={}){this.application.handleError(t,`Error ${e}`,r)}clearEventListenersForBinding(t){const e=this.fetchEventListenerForBinding(t);e.hasBindings()||(e.disconnect(),this.removeMappedEventListenerFor(t))}removeMappedEventListenerFor(t){const{eventTarget:e,eventName:r,eventOptions:n}=t,s=this.fetchEventListenerMapForEventTarget(e),i=this.cacheKey(r,n);s.delete(i),0==s.size&&this.eventListenerMaps.delete(e)}fetchEventListenerForBinding(t){const{eventTarget:e,eventName:r,eventOptions:n}=t;return this.fetchEventListener(e,r,n)}fetchEventListener(t,e,r){const n=this.fetchEventListenerMapForEventTarget(t),s=this.cacheKey(e,r);let i=n.get(s);return i||(i=this.createEventListener(t,e,r),n.set(s,i)),i}createEventListener(t,e,r){const s=new n(t,e,r);return this.started&&s.connect(),s}fetchEventListenerMapForEventTarget(t){let e=this.eventListenerMaps.get(t);return e||(e=new Map,this.eventListenerMaps.set(t,e)),e}cacheKey(t,e){const r=[t];return Object.keys(e).sort().forEach((t=>{r.push(`${e[t]?"":"!"}${t}`)})),r.join(":")}}const i={stop:({event:t,value:e})=>(e&&t.stopPropagation(),!0),prevent:({event:t,value:e})=>(e&&t.preventDefault(),!0),self:({event:t,value:e,element:r})=>!e||r===t.target},o=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function l(t){return"window"==t?window:"document"==t?document:void 0}function a(t){return t.replace(/(?:[_-])([a-z0-9])/g,((t,e)=>e.toUpperCase()))}function c(t){return a(t.replace(/--/g,"-").replace(/__/g,"_"))}function u(t){return t.charAt(0).toUpperCase()+t.slice(1)}function h(t){return t.replace(/([A-Z])/g,((t,e)=>`-${e.toLowerCase()}`))}function d(t){return null!=t}function f(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const p=["meta","ctrl","alt","shift"];class g{constructor(t,e,r,n){this.element=t,this.index=e,this.eventTarget=r.eventTarget||t,this.eventName=r.eventName||function(t){const e=t.tagName.toLowerCase();if(e in m)return m[e](t)}(t)||v("missing event name"),this.eventOptions=r.eventOptions||{},this.identifier=r.identifier||v("missing identifier"),this.methodName=r.methodName||v("missing method name"),this.keyFilter=r.keyFilter||"",this.schema=n}static forToken(t,e){return new this(t.element,t.index,function(t){const e=t.trim().match(o)||[];let r=e[2],n=e[3];return n&&!["keydown","keyup","keypress"].includes(r)&&(r+=`.${n}`,n=""),{eventTarget:l(e[4]),eventName:r,eventOptions:e[7]?(s=e[7],s.split(":").reduce(((t,e)=>Object.assign(t,{[e.replace(/^!/,"")]:!/^!/.test(e)})),{})):{},identifier:e[5],methodName:e[6],keyFilter:e[1]||n};var s}(t.content),e)}toString(){const t=this.keyFilter?`.${this.keyFilter}`:"",e=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${t}${e}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(t){if(!this.keyFilter)return!1;const e=this.keyFilter.split("+");if(this.keyFilterDissatisfied(t,e))return!0;const r=e.filter((t=>!p.includes(t)))[0];return!!r&&(f(this.keyMappings,r)||v(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[r].toLowerCase()!==t.key.toLowerCase())}shouldIgnoreMouseEvent(t){if(!this.keyFilter)return!1;const e=[this.keyFilter];return!!this.keyFilterDissatisfied(t,e)}get params(){const t={},e=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(const{name:r,value:n}of Array.from(this.element.attributes)){const s=r.match(e),i=s&&s[1];i&&(t[a(i)]=b(n))}return t}get eventTargetName(){return(t=this.eventTarget)==window?"window":t==document?"document":void 0;var t}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(t,e){const[r,n,s,i]=p.map((t=>e.includes(t)));return t.metaKey!==r||t.ctrlKey!==n||t.altKey!==s||t.shiftKey!==i}}const m={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:t=>"submit"==t.getAttribute("type")?"click":"input",select:()=>"change",textarea:()=>"input"};function v(t){throw new Error(t)}function b(t){try{return JSON.parse(t)}catch(e){return t}}class y{constructor(t,e){this.context=t,this.action=e}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(t){const e=this.prepareActionEvent(t);this.willBeInvokedByEvent(t)&&this.applyEventModifiers(e)&&this.invokeWithEvent(e)}get eventName(){return this.action.eventName}get method(){const t=this.controller[this.methodName];if("function"==typeof t)return t;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(t){const{element:e}=this.action,{actionDescriptorFilters:r}=this.context.application,{controller:n}=this.context;let s=!0;for(const[i,o]of Object.entries(this.eventOptions))if(i in r){const l=r[i];s=s&&l({name:i,value:o,event:t,element:e,controller:n})}return s}prepareActionEvent(t){return Object.assign(t,{params:this.action.params})}invokeWithEvent(t){const{target:e,currentTarget:r}=t;try{this.method.call(this.controller,t),this.context.logDebugActivity(this.methodName,{event:t,target:e,currentTarget:r,action:this.methodName})}catch(e){const{identifier:r,controller:n,element:s,index:i}=this,o={identifier:r,controller:n,element:s,index:i,event:t};this.context.handleError(e,`invoking action "${this.action}"`,o)}}willBeInvokedByEvent(t){const e=t.target;return!(t instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(t))&&(!(t instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(t))&&(this.element===e||(e instanceof Element&&this.element.contains(e)?this.scope.containsElement(e):this.scope.containsElement(this.action.element))))}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}}class x{constructor(t,e){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=t,this.started=!1,this.delegate=e,this.elements=new Set,this.mutationObserver=new MutationObserver((t=>this.processMutations(t)))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(t){this.started&&(this.mutationObserver.disconnect(),this.started=!1),t(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){const t=new Set(this.matchElementsInTree());for(const e of Array.from(this.elements))t.has(e)||this.removeElement(e);for(const e of Array.from(t))this.addElement(e)}}processMutations(t){if(this.started)for(const e of t)this.processMutation(e)}processMutation(t){"attributes"==t.type?this.processAttributeChange(t.target,t.attributeName):"childList"==t.type&&(this.processRemovedNodes(t.removedNodes),this.processAddedNodes(t.addedNodes))}processAttributeChange(t,e){this.elements.has(t)?this.delegate.elementAttributeChanged&&this.matchElement(t)?this.delegate.elementAttributeChanged(t,e):this.removeElement(t):this.matchElement(t)&&this.addElement(t)}processRemovedNodes(t){for(const e of Array.from(t)){const t=this.elementFromNode(e);t&&this.processTree(t,this.removeElement)}}processAddedNodes(t){for(const e of Array.from(t)){const t=this.elementFromNode(e);t&&this.elementIsActive(t)&&this.processTree(t,this.addElement)}}matchElement(t){return this.delegate.matchElement(t)}matchElementsInTree(t=this.element){return this.delegate.matchElementsInTree(t)}processTree(t,e){for(const r of this.matchElementsInTree(t))e.call(this,r)}elementFromNode(t){if(t.nodeType==Node.ELEMENT_NODE)return t}elementIsActive(t){return t.isConnected==this.element.isConnected&&this.element.contains(t)}addElement(t){this.elements.has(t)||this.elementIsActive(t)&&(this.elements.add(t),this.delegate.elementMatched&&this.delegate.elementMatched(t))}removeElement(t){this.elements.has(t)&&(this.elements.delete(t),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(t))}}class w{constructor(t,e,r){this.attributeName=e,this.delegate=r,this.elementObserver=new x(t,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(t){this.elementObserver.pause(t)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(t){return t.hasAttribute(this.attributeName)}matchElementsInTree(t){const e=this.matchElement(t)?[t]:[],r=Array.from(t.querySelectorAll(this.selector));return e.concat(r)}elementMatched(t){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(t,this.attributeName)}elementUnmatched(t){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(t,this.attributeName)}elementAttributeChanged(t,e){this.delegate.elementAttributeValueChanged&&this.attributeName==e&&this.delegate.elementAttributeValueChanged(t,e)}}function O(t,e,r){A(t,e).add(r)}function E(t,e,r){A(t,e).delete(r),function(t,e){const r=t.get(e);null!=r&&0==r.size&&t.delete(e)}(t,e)}function A(t,e){let r=t.get(e);return r||(r=new Set,t.set(e,r)),r}class N{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce(((t,e)=>t.concat(Array.from(e))),[])}get size(){return Array.from(this.valuesByKey.values()).reduce(((t,e)=>t+e.size),0)}add(t,e){O(this.valuesByKey,t,e)}delete(t,e){E(this.valuesByKey,t,e)}has(t,e){const r=this.valuesByKey.get(t);return null!=r&&r.has(e)}hasKey(t){return this.valuesByKey.has(t)}hasValue(t){return Array.from(this.valuesByKey.values()).some((e=>e.has(t)))}getValuesForKey(t){const e=this.valuesByKey.get(t);return e?Array.from(e):[]}getKeysForValue(t){return Array.from(this.valuesByKey).filter((([e,r])=>r.has(t))).map((([t,e])=>t))}}class S{constructor(t,e,r,n){this._selector=e,this.details=n,this.elementObserver=new x(t,this),this.delegate=r,this.matchesByElement=new N}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(t){this._selector=t,this.refresh()}start(){this.elementObserver.start()}pause(t){this.elementObserver.pause(t)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(t){const{selector:e}=this;if(e){const r=t.matches(e);return this.delegate.selectorMatchElement?r&&this.delegate.selectorMatchElement(t,this.details):r}return!1}matchElementsInTree(t){const{selector:e}=this;if(e){const r=this.matchElement(t)?[t]:[],n=Array.from(t.querySelectorAll(e)).filter((t=>this.matchElement(t)));return r.concat(n)}return[]}elementMatched(t){const{selector:e}=this;e&&this.selectorMatched(t,e)}elementUnmatched(t){const e=this.matchesByElement.getKeysForValue(t);for(const r of e)this.selectorUnmatched(t,r)}elementAttributeChanged(t,e){const{selector:r}=this;if(r){const e=this.matchElement(t),n=this.matchesByElement.has(r,t);e&&!n?this.selectorMatched(t,r):!e&&n&&this.selectorUnmatched(t,r)}}selectorMatched(t,e){this.delegate.selectorMatched(t,e,this.details),this.matchesByElement.add(e,t)}selectorUnmatched(t,e){this.delegate.selectorUnmatched(t,e,this.details),this.matchesByElement.delete(e,t)}}class k{constructor(t,e){this.element=t,this.delegate=e,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver((t=>this.processMutations(t)))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(const t of this.knownAttributeNames)this.refreshAttribute(t,null)}processMutations(t){if(this.started)for(const e of t)this.processMutation(e)}processMutation(t){const e=t.attributeName;e&&this.refreshAttribute(e,t.oldValue)}refreshAttribute(t,e){const r=this.delegate.getStringMapKeyForAttribute(t);if(null!=r){this.stringMap.has(t)||this.stringMapKeyAdded(r,t);const n=this.element.getAttribute(t);if(this.stringMap.get(t)!=n&&this.stringMapValueChanged(n,r,e),null==n){const e=this.stringMap.get(t);this.stringMap.delete(t),e&&this.stringMapKeyRemoved(r,t,e)}else this.stringMap.set(t,n)}}stringMapKeyAdded(t,e){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(t,e)}stringMapValueChanged(t,e,r){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(t,e,r)}stringMapKeyRemoved(t,e,r){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(t,e,r)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map((t=>t.name))}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}}class _{constructor(t,e,r){this.attributeObserver=new w(t,e,this),this.delegate=r,this.tokensByElement=new N}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(t){this.attributeObserver.pause(t)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(t){this.tokensMatched(this.readTokensForElement(t))}elementAttributeValueChanged(t){const[e,r]=this.refreshTokensForElement(t);this.tokensUnmatched(e),this.tokensMatched(r)}elementUnmatchedAttribute(t){this.tokensUnmatched(this.tokensByElement.getValuesForKey(t))}tokensMatched(t){t.forEach((t=>this.tokenMatched(t)))}tokensUnmatched(t){t.forEach((t=>this.tokenUnmatched(t)))}tokenMatched(t){this.delegate.tokenMatched(t),this.tokensByElement.add(t.element,t)}tokenUnmatched(t){this.delegate.tokenUnmatched(t),this.tokensByElement.delete(t.element,t)}refreshTokensForElement(t){const e=this.tokensByElement.getValuesForKey(t),r=this.readTokensForElement(t),n=function(t,e){const r=Math.max(t.length,e.length);return Array.from({length:r},((r,n)=>[t[n],e[n]]))}(e,r).findIndex((([t,e])=>{return n=e,!((r=t)&&n&&r.index==n.index&&r.content==n.content);var r,n}));return-1==n?[[],[]]:[e.slice(n),r.slice(n)]}readTokensForElement(t){const e=this.attributeName;return function(t,e,r){return t.trim().split(/\s+/).filter((t=>t.length)).map(((t,n)=>({element:e,attributeName:r,content:t,index:n})))}(t.getAttribute(e)||"",t,e)}}class L{constructor(t,e,r){this.tokenListObserver=new _(t,e,this),this.delegate=r,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(t){const{element:e}=t,{value:r}=this.fetchParseResultForToken(t);r&&(this.fetchValuesByTokenForElement(e).set(t,r),this.delegate.elementMatchedValue(e,r))}tokenUnmatched(t){const{element:e}=t,{value:r}=this.fetchParseResultForToken(t);r&&(this.fetchValuesByTokenForElement(e).delete(t),this.delegate.elementUnmatchedValue(e,r))}fetchParseResultForToken(t){let e=this.parseResultsByToken.get(t);return e||(e=this.parseToken(t),this.parseResultsByToken.set(t,e)),e}fetchValuesByTokenForElement(t){let e=this.valuesByTokenByElement.get(t);return e||(e=new Map,this.valuesByTokenByElement.set(t,e)),e}parseToken(t){try{return{value:this.delegate.parseValueForToken(t)}}catch(t){return{error:t}}}}class T{constructor(t,e){this.context=t,this.delegate=e,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new L(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(t){const e=new y(this.context,t);this.bindingsByAction.set(t,e),this.delegate.bindingConnected(e)}disconnectAction(t){const e=this.bindingsByAction.get(t);e&&(this.bindingsByAction.delete(t),this.delegate.bindingDisconnected(e))}disconnectAllActions(){this.bindings.forEach((t=>this.delegate.bindingDisconnected(t,!0))),this.bindingsByAction.clear()}parseValueForToken(t){const e=g.forToken(t,this.schema);if(e.identifier==this.identifier)return e}elementMatchedValue(t,e){this.connectAction(e)}elementUnmatchedValue(t,e){this.disconnectAction(e)}}class C{constructor(t,e){this.context=t,this.receiver=e,this.stringMapObserver=new k(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(t){if(t in this.valueDescriptorMap)return this.valueDescriptorMap[t].name}stringMapKeyAdded(t,e){const r=this.valueDescriptorMap[e];this.hasValue(t)||this.invokeChangedCallback(t,r.writer(this.receiver[t]),r.writer(r.defaultValue))}stringMapValueChanged(t,e,r){const n=this.valueDescriptorNameMap[e];null!==t&&(null===r&&(r=n.writer(n.defaultValue)),this.invokeChangedCallback(e,t,r))}stringMapKeyRemoved(t,e,r){const n=this.valueDescriptorNameMap[t];this.hasValue(t)?this.invokeChangedCallback(t,n.writer(this.receiver[t]),r):this.invokeChangedCallback(t,n.writer(n.defaultValue),r)}invokeChangedCallbacksForDefaultValues(){for(const{key:t,name:e,defaultValue:r,writer:n}of this.valueDescriptors)null==r||this.controller.data.has(t)||this.invokeChangedCallback(e,n(r),void 0)}invokeChangedCallback(t,e,r){const n=`${t}Changed`,s=this.receiver[n];if("function"==typeof s){const n=this.valueDescriptorNameMap[t];try{const t=n.reader(e);let i=r;r&&(i=n.reader(r)),s.call(this.receiver,t,i)}catch(t){throw t instanceof TypeError&&(t.message=`Stimulus Value "${this.context.identifier}.${n.name}" - ${t.message}`),t}}}get valueDescriptors(){const{valueDescriptorMap:t}=this;return Object.keys(t).map((e=>t[e]))}get valueDescriptorNameMap(){const t={};return Object.keys(this.valueDescriptorMap).forEach((e=>{const r=this.valueDescriptorMap[e];t[r.name]=r})),t}hasValue(t){const e=`has${u(this.valueDescriptorNameMap[t].name)}`;return this.receiver[e]}}class q{constructor(t,e){this.context=t,this.delegate=e,this.targetsByName=new N}start(){this.tokenListObserver||(this.tokenListObserver=new _(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:t,content:e}){this.scope.containsElement(t)&&this.connectTarget(t,e)}tokenUnmatched({element:t,content:e}){this.disconnectTarget(t,e)}connectTarget(t,e){var r;this.targetsByName.has(e,t)||(this.targetsByName.add(e,t),null===(r=this.tokenListObserver)||void 0===r||r.pause((()=>this.delegate.targetConnected(t,e))))}disconnectTarget(t,e){var r;this.targetsByName.has(e,t)&&(this.targetsByName.delete(e,t),null===(r=this.tokenListObserver)||void 0===r||r.pause((()=>this.delegate.targetDisconnected(t,e))))}disconnectAllTargets(){for(const t of this.targetsByName.keys)for(const e of this.targetsByName.getValuesForKey(t))this.disconnectTarget(e,t)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}}function j(t,e){const r=M(t);return Array.from(r.reduce(((t,r)=>(function(t,e){const r=t[e];return Array.isArray(r)?r:[]}(r,e).forEach((e=>t.add(e))),t)),new Set))}function I(t,e){return M(t).reduce(((t,r)=>(t.push(...function(t,e){const r=t[e];return r?Object.keys(r).map((t=>[t,r[t]])):[]}(r,e)),t)),[])}function M(t){const e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}class R{constructor(t,e){this.started=!1,this.context=t,this.delegate=e,this.outletsByName=new N,this.outletElementsByName=new N,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach((t=>{this.setupSelectorObserverForOutlet(t),this.setupAttributeObserverForOutlet(t)})),this.started=!0,this.dependentContexts.forEach((t=>t.refresh())))}refresh(){this.selectorObserverMap.forEach((t=>t.refresh())),this.attributeObserverMap.forEach((t=>t.refresh()))}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach((t=>t.stop())),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach((t=>t.stop())),this.attributeObserverMap.clear())}selectorMatched(t,e,{outletName:r}){const n=this.getOutlet(t,r);n&&this.connectOutlet(n,t,r)}selectorUnmatched(t,e,{outletName:r}){const n=this.getOutletFromMap(t,r);n&&this.disconnectOutlet(n,t,r)}selectorMatchElement(t,{outletName:e}){const r=this.selector(e),n=this.hasOutlet(t,e),s=t.matches(`[${this.schema.controllerAttribute}~=${e}]`);return!!r&&(n&&s&&t.matches(r))}elementMatchedAttribute(t,e){const r=this.getOutletNameFromOutletAttributeName(e);r&&this.updateSelectorObserverForOutlet(r)}elementAttributeValueChanged(t,e){const r=this.getOutletNameFromOutletAttributeName(e);r&&this.updateSelectorObserverForOutlet(r)}elementUnmatchedAttribute(t,e){const r=this.getOutletNameFromOutletAttributeName(e);r&&this.updateSelectorObserverForOutlet(r)}connectOutlet(t,e,r){var n;this.outletElementsByName.has(r,e)||(this.outletsByName.add(r,t),this.outletElementsByName.add(r,e),null===(n=this.selectorObserverMap.get(r))||void 0===n||n.pause((()=>this.delegate.outletConnected(t,e,r))))}disconnectOutlet(t,e,r){var n;this.outletElementsByName.has(r,e)&&(this.outletsByName.delete(r,t),this.outletElementsByName.delete(r,e),null===(n=this.selectorObserverMap.get(r))||void 0===n||n.pause((()=>this.delegate.outletDisconnected(t,e,r))))}disconnectAllOutlets(){for(const t of this.outletElementsByName.keys)for(const e of this.outletElementsByName.getValuesForKey(t))for(const r of this.outletsByName.getValuesForKey(t))this.disconnectOutlet(r,e,t)}updateSelectorObserverForOutlet(t){const e=this.selectorObserverMap.get(t);e&&(e.selector=this.selector(t))}setupSelectorObserverForOutlet(t){const e=this.selector(t),r=new S(document.body,e,this,{outletName:t});this.selectorObserverMap.set(t,r),r.start()}setupAttributeObserverForOutlet(t){const e=this.attributeNameForOutletName(t),r=new w(this.scope.element,e,this);this.attributeObserverMap.set(t,r),r.start()}selector(t){return this.scope.outlets.getSelectorForOutletName(t)}attributeNameForOutletName(t){return this.scope.schema.outletAttributeForScope(this.identifier,t)}getOutletNameFromOutletAttributeName(t){return this.outletDefinitions.find((e=>this.attributeNameForOutletName(e)===t))}get outletDependencies(){const t=new N;return this.router.modules.forEach((e=>{j(e.definition.controllerConstructor,"outlets").forEach((r=>t.add(r,e.identifier)))})),t}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){const t=this.dependentControllerIdentifiers;return this.router.contexts.filter((e=>t.includes(e.identifier)))}hasOutlet(t,e){return!!this.getOutlet(t,e)||!!this.getOutletFromMap(t,e)}getOutlet(t,e){return this.application.getControllerForElementAndIdentifier(t,e)}getOutletFromMap(t,e){return this.outletsByName.getValuesForKey(e).find((e=>e.element===t))}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}}class F{constructor(t,e){this.logDebugActivity=(t,e={})=>{const{identifier:r,controller:n,element:s}=this;e=Object.assign({identifier:r,controller:n,element:s},e),this.application.logDebugActivity(this.identifier,t,e)},this.module=t,this.scope=e,this.controller=new t.controllerConstructor(this),this.bindingObserver=new T(this,this.dispatcher),this.valueObserver=new C(this,this.controller),this.targetObserver=new q(this,this),this.outletObserver=new R(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(t){this.handleError(t,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(t){this.handleError(t,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(t){this.handleError(t,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(t,e,r={}){const{identifier:n,controller:s,element:i}=this;r=Object.assign({identifier:n,controller:s,element:i},r),this.application.handleError(t,`Error ${e}`,r)}targetConnected(t,e){this.invokeControllerMethod(`${e}TargetConnected`,t)}targetDisconnected(t,e){this.invokeControllerMethod(`${e}TargetDisconnected`,t)}outletConnected(t,e,r){this.invokeControllerMethod(`${c(r)}OutletConnected`,t,e)}outletDisconnected(t,e,r){this.invokeControllerMethod(`${c(r)}OutletDisconnected`,t,e)}invokeControllerMethod(t,...e){const r=this.controller;"function"==typeof r[t]&&r[t](...e)}}function B(t){return function(t,e){const r=D(t),n=function(t,e){return P(e).reduce(((r,n)=>{const s=function(t,e,r){const n=Object.getOwnPropertyDescriptor(t,r);if(!n||!("value"in n)){const t=Object.getOwnPropertyDescriptor(e,r).value;return n&&(t.get=n.get||t.get,t.set=n.set||t.set),t}}(t,e,n);return s&&Object.assign(r,{[n]:s}),r}),{})}(t.prototype,e);return Object.defineProperties(r.prototype,n),r}(t,function(t){const e=j(t,"blessings");return e.reduce(((e,r)=>{const n=r(t);for(const t in n){const r=e[t]||{};e[t]=Object.assign(r,n[t])}return e}),{})}(t))}const P="function"==typeof Object.getOwnPropertySymbols?t=>[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)]:Object.getOwnPropertyNames,D=(()=>{function t(t){function e(){return Reflect.construct(t,arguments,new.target)}return e.prototype=Object.create(t.prototype,{constructor:{value:e}}),Reflect.setPrototypeOf(e,t),e}try{return function(){const e=t((function(){this.a.call(this)}));e.prototype.a=function(){},new e}(),t}catch(t){return t=>class extends t{}}})();class ${constructor(t,e){this.application=t,this.definition=function(t){return{identifier:t.identifier,controllerConstructor:B(t.controllerConstructor)}}(e),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(t){const e=this.fetchContextForScope(t);this.connectedContexts.add(e),e.connect()}disconnectContextForScope(t){const e=this.contextsByScope.get(t);e&&(this.connectedContexts.delete(e),e.disconnect())}fetchContextForScope(t){let e=this.contextsByScope.get(t);return e||(e=new F(this,t),this.contextsByScope.set(t,e)),e}}class U{constructor(t){this.scope=t}has(t){return this.data.has(this.getDataKey(t))}get(t){return this.getAll(t)[0]}getAll(t){const e=this.data.get(this.getDataKey(t))||"";return e.match(/[^\s]+/g)||[]}getAttributeName(t){return this.data.getAttributeNameForKey(this.getDataKey(t))}getDataKey(t){return`${t}-class`}get data(){return this.scope.data}}class V{constructor(t){this.scope=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(t){const e=this.getAttributeNameForKey(t);return this.element.getAttribute(e)}set(t,e){const r=this.getAttributeNameForKey(t);return this.element.setAttribute(r,e),this.get(t)}has(t){const e=this.getAttributeNameForKey(t);return this.element.hasAttribute(e)}delete(t){if(this.has(t)){const e=this.getAttributeNameForKey(t);return this.element.removeAttribute(e),!0}return!1}getAttributeNameForKey(t){return`data-${this.identifier}-${h(t)}`}}class z{constructor(t){this.warnedKeysByObject=new WeakMap,this.logger=t}warn(t,e,r){let n=this.warnedKeysByObject.get(t);n||(n=new Set,this.warnedKeysByObject.set(t,n)),n.has(e)||(n.add(e),this.logger.warn(r,t))}}function K(t,e){return`[${t}~="${e}"]`}class H{constructor(t){this.scope=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(t){return null!=this.find(t)}find(...t){return t.reduce(((t,e)=>t||this.findTarget(e)||this.findLegacyTarget(e)),void 0)}findAll(...t){return t.reduce(((t,e)=>[...t,...this.findAllTargets(e),...this.findAllLegacyTargets(e)]),[])}findTarget(t){const e=this.getSelectorForTargetName(t);return this.scope.findElement(e)}findAllTargets(t){const e=this.getSelectorForTargetName(t);return this.scope.findAllElements(e)}getSelectorForTargetName(t){return K(this.schema.targetAttributeForScope(this.identifier),t)}findLegacyTarget(t){const e=this.getLegacySelectorForTargetName(t);return this.deprecate(this.scope.findElement(e),t)}findAllLegacyTargets(t){const e=this.getLegacySelectorForTargetName(t);return this.scope.findAllElements(e).map((e=>this.deprecate(e,t)))}getLegacySelectorForTargetName(t){const e=`${this.identifier}.${t}`;return K(this.schema.targetAttribute,e)}deprecate(t,e){if(t){const{identifier:r}=this,n=this.schema.targetAttribute,s=this.schema.targetAttributeForScope(r);this.guide.warn(t,`target:${e}`,`Please replace ${n}="${r}.${e}" with ${s}="${e}". The ${n} attribute is deprecated and will be removed in a future version of Stimulus.`)}return t}get guide(){return this.scope.guide}}class W{constructor(t,e){this.scope=t,this.controllerElement=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(t){return null!=this.find(t)}find(...t){return t.reduce(((t,e)=>t||this.findOutlet(e)),void 0)}findAll(...t){return t.reduce(((t,e)=>[...t,...this.findAllOutlets(e)]),[])}getSelectorForOutletName(t){const e=this.schema.outletAttributeForScope(this.identifier,t);return this.controllerElement.getAttribute(e)}findOutlet(t){const e=this.getSelectorForOutletName(t);if(e)return this.findElement(e,t)}findAllOutlets(t){const e=this.getSelectorForOutletName(t);return e?this.findAllElements(e,t):[]}findElement(t,e){return this.scope.queryElements(t).filter((r=>this.matchesElement(r,t,e)))[0]}findAllElements(t,e){return this.scope.queryElements(t).filter((r=>this.matchesElement(r,t,e)))}matchesElement(t,e,r){const n=t.getAttribute(this.scope.schema.controllerAttribute)||"";return t.matches(e)&&n.split(" ").includes(r)}}class G{constructor(t,e,r,n){this.targets=new H(this),this.classes=new U(this),this.data=new V(this),this.containsElement=t=>t.closest(this.controllerSelector)===this.element,this.schema=t,this.element=e,this.identifier=r,this.guide=new z(n),this.outlets=new W(this.documentScope,e)}findElement(t){return this.element.matches(t)?this.element:this.queryElements(t).find(this.containsElement)}findAllElements(t){return[...this.element.matches(t)?[this.element]:[],...this.queryElements(t).filter(this.containsElement)]}queryElements(t){return Array.from(this.element.querySelectorAll(t))}get controllerSelector(){return K(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new G(this.schema,document.documentElement,this.identifier,this.guide.logger)}}class Z{constructor(t,e,r){this.element=t,this.schema=e,this.delegate=r,this.valueListObserver=new L(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(t){const{element:e,content:r}=t;return this.parseValueForElementAndIdentifier(e,r)}parseValueForElementAndIdentifier(t,e){const r=this.fetchScopesByIdentifierForElement(t);let n=r.get(e);return n||(n=this.delegate.createScopeForElementAndIdentifier(t,e),r.set(e,n)),n}elementMatchedValue(t,e){const r=(this.scopeReferenceCounts.get(e)||0)+1;this.scopeReferenceCounts.set(e,r),1==r&&this.delegate.scopeConnected(e)}elementUnmatchedValue(t,e){const r=this.scopeReferenceCounts.get(e);r&&(this.scopeReferenceCounts.set(e,r-1),1==r&&this.delegate.scopeDisconnected(e))}fetchScopesByIdentifierForElement(t){let e=this.scopesByIdentifierByElement.get(t);return e||(e=new Map,this.scopesByIdentifierByElement.set(t,e)),e}}class Q{constructor(t){this.application=t,this.scopeObserver=new Z(this.element,this.schema,this),this.scopesByIdentifier=new N,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce(((t,e)=>t.concat(e.contexts)),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(t){this.unloadIdentifier(t.identifier);const e=new $(this.application,t);this.connectModule(e);const r=t.controllerConstructor.afterLoad;r&&r.call(t.controllerConstructor,t.identifier,this.application)}unloadIdentifier(t){const e=this.modulesByIdentifier.get(t);e&&this.disconnectModule(e)}getContextForElementAndIdentifier(t,e){const r=this.modulesByIdentifier.get(e);if(r)return r.contexts.find((e=>e.element==t))}proposeToConnectScopeForElementAndIdentifier(t,e){const r=this.scopeObserver.parseValueForElementAndIdentifier(t,e);r?this.scopeObserver.elementMatchedValue(r.element,r):console.error(`Couldn't find or create scope for identifier: "${e}" and element:`,t)}handleError(t,e,r){this.application.handleError(t,e,r)}createScopeForElementAndIdentifier(t,e){return new G(this.schema,t,e,this.logger)}scopeConnected(t){this.scopesByIdentifier.add(t.identifier,t);const e=this.modulesByIdentifier.get(t.identifier);e&&e.connectContextForScope(t)}scopeDisconnected(t){this.scopesByIdentifier.delete(t.identifier,t);const e=this.modulesByIdentifier.get(t.identifier);e&&e.disconnectContextForScope(t)}connectModule(t){this.modulesByIdentifier.set(t.identifier,t);this.scopesByIdentifier.getValuesForKey(t.identifier).forEach((e=>t.connectContextForScope(e)))}disconnectModule(t){this.modulesByIdentifier.delete(t.identifier);this.scopesByIdentifier.getValuesForKey(t.identifier).forEach((e=>t.disconnectContextForScope(e)))}}const X={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:t=>`data-${t}-target`,outletAttributeForScope:(t,e)=>`data-${t}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},Y("abcdefghijklmnopqrstuvwxyz".split("").map((t=>[t,t])))),Y("0123456789".split("").map((t=>[t,t]))))};function Y(t){return t.reduce(((t,[e,r])=>Object.assign(Object.assign({},t),{[e]:r})),{})}class J{constructor(t=document.documentElement,e=X){this.logger=console,this.debug=!1,this.logDebugActivity=(t,e,r={})=>{this.debug&&this.logFormattedMessage(t,e,r)},this.element=t,this.schema=e,this.dispatcher=new s(this),this.router=new Q(this),this.actionDescriptorFilters=Object.assign({},i)}static start(t,e){const r=new this(t,e);return r.start(),r}async start(){await new Promise((t=>{"loading"==document.readyState?document.addEventListener("DOMContentLoaded",(()=>t())):t()})),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(t,e){this.load({identifier:t,controllerConstructor:e})}registerActionOption(t,e){this.actionDescriptorFilters[t]=e}load(t,...e){(Array.isArray(t)?t:[t,...e]).forEach((t=>{t.controllerConstructor.shouldLoad&&this.router.loadDefinition(t)}))}unload(t,...e){(Array.isArray(t)?t:[t,...e]).forEach((t=>this.router.unloadIdentifier(t)))}get controllers(){return this.router.contexts.map((t=>t.controller))}getControllerForElementAndIdentifier(t,e){const r=this.router.getContextForElementAndIdentifier(t,e);return r?r.controller:null}handleError(t,e,r){var n;this.logger.error("%s\n\n%o\n\n%o",e,t,r),null===(n=window.onerror)||void 0===n||n.call(window,e,"",0,0,t)}logFormattedMessage(t,e,r={}){r=Object.assign({application:this},r),this.logger.groupCollapsed(`${t} #${e}`),this.logger.log("details:",Object.assign({},r)),this.logger.groupEnd()}}function tt(t,e,r){return t.application.getControllerForElementAndIdentifier(e,r)}function et(t,e,r){let n=tt(t,e,r);return n||(t.application.router.proposeToConnectScopeForElementAndIdentifier(e,r),n=tt(t,e,r),n||void 0)}function rt([t,e],r){return function(t){const{token:e,typeDefinition:r}=t,n=`${h(e)}-value`,s=function(t){const{controller:e,token:r,typeDefinition:n}=t,s={controller:e,token:r,typeObject:n},i=function(t){const{controller:e,token:r,typeObject:n}=t,s=d(n.type),i=d(n.default),o=s&&i,l=s&&!i,a=!s&&i,c=nt(n.type),u=st(t.typeObject.default);if(l)return c;if(a)return u;if(c!==u){throw new Error(`The specified default value for the Stimulus Value "${e?`${e}.${r}`:r}" must match the defined type "${c}". The provided default value of "${n.default}" is of type "${u}".`)}if(o)return c}(s),o=st(n),l=nt(n),a=i||o||l;if(a)return a;const c=e?`${e}.${n}`:r;throw new Error(`Unknown value type "${c}" for "${r}" value`)}(t);return{type:s,key:n,name:a(n),get defaultValue(){return function(t){const e=nt(t);if(e)return it[e];const r=f(t,"default"),n=f(t,"type"),s=t;if(r)return s.default;if(n){const{type:t}=s,e=nt(t);if(e)return it[e]}return t}(r)},get hasCustomDefaultValue(){return void 0!==st(r)},reader:ot[s],writer:lt[s]||lt.default}}({controller:r,token:t,typeDefinition:e})}function nt(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function st(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}return Array.isArray(t)?"array":"[object Object]"===Object.prototype.toString.call(t)?"object":void 0}const it={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},ot={array(t){const e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${t}" of type "${st(e)}"`);return e},boolean:t=>!("0"==t||"false"==String(t).toLowerCase()),number:t=>Number(t.replace(/_/g,"")),object(t){const e=JSON.parse(t);if(null===e||"object"!=typeof e||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${t}" of type "${st(e)}"`);return e},string:t=>t},lt={default:function(t){return`${t}`},array:at,object:at};function at(t){return JSON.stringify(t)}class ct{constructor(t){this.context=t}static get shouldLoad(){return!0}static afterLoad(t,e){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(t,{target:e=this.element,detail:r={},prefix:n=this.identifier,bubbles:s=!0,cancelable:i=!0}={}){const o=new CustomEvent(n?`${n}:${t}`:t,{detail:r,bubbles:s,cancelable:i});return e.dispatchEvent(o),o}}ct.blessings=[function(t){return j(t,"classes").reduce(((t,e)=>{return Object.assign(t,{[`${r=e}Class`]:{get(){const{classes:t}=this;if(t.has(r))return t.get(r);{const e=t.getAttributeName(r);throw new Error(`Missing attribute "${e}"`)}}},[`${r}Classes`]:{get(){return this.classes.getAll(r)}},[`has${u(r)}Class`]:{get(){return this.classes.has(r)}}});var r}),{})},function(t){return j(t,"targets").reduce(((t,e)=>{return Object.assign(t,{[`${r=e}Target`]:{get(){const t=this.targets.find(r);if(t)return t;throw new Error(`Missing target element "${r}" for "${this.identifier}" controller`)}},[`${r}Targets`]:{get(){return this.targets.findAll(r)}},[`has${u(r)}Target`]:{get(){return this.targets.has(r)}}});var r}),{})},function(t){const e=I(t,"values"),r={valueDescriptorMap:{get(){return e.reduce(((t,e)=>{const r=rt(e,this.identifier),n=this.data.getAttributeNameForKey(r.key);return Object.assign(t,{[n]:r})}),{})}}};return e.reduce(((t,e)=>Object.assign(t,function(t,e){const r=rt(t,e),{key:n,name:s,reader:i,writer:o}=r;return{[s]:{get(){const t=this.data.get(n);return null!==t?i(t):r.defaultValue},set(t){void 0===t?this.data.delete(n):this.data.set(n,o(t))}},[`has${u(s)}`]:{get(){return this.data.has(n)||r.hasCustomDefaultValue}}}}(e))),r)},function(t){return j(t,"outlets").reduce(((t,e)=>Object.assign(t,function(t){const e=c(t);return{[`${e}Outlet`]:{get(){const e=this.outlets.find(t),r=this.outlets.getSelectorForOutletName(t);if(e){const r=et(this,e,t);if(r)return r;throw new Error(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${r}".`)}},[`${e}Outlets`]:{get(){const e=this.outlets.findAll(t);return e.length>0?e.map((e=>{const r=et(this,e,t);if(r)return r;console.warn(`The provided outlet element is missing an outlet controller "${t}" instance for host controller "${this.identifier}"`,e)})).filter((t=>t)):[]}},[`${e}OutletElement`]:{get(){const e=this.outlets.find(t),r=this.outlets.getSelectorForOutletName(t);if(e)return e;throw new Error(`Missing outlet element "${t}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${r}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(t)}},[`has${u(e)}Outlet`]:{get(){return this.outlets.has(t)}}}}(e))),{})}],ct.targets=[],ct.outlets=[],ct.values={}},5752:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>a});r(5399),r(1517),r(8052),r(228),r(50),r(1013),r(739),r(9373),r(9903),r(9749),r(6544),r(9288),r(4254),r(752),r(1694),r(6265);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function s(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,(i=s.key,o=void 0,o=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!==n(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===n(o)?o:String(o)),s)}var i,o}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,s=l(t);if(e){var i=l(this).constructor;r=Reflect.construct(s,arguments,i)}else r=s.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var a=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}(a,t);var e,r,n,l=o(a);function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),l.apply(this,arguments)}return e=a,(r=[{key:"connect",value:function(){var t=this.element.dataset.target;if(t){var e=document.querySelector(t);e&&this.element.addEventListener("click",(function(t){t.preventDefault(),e.classList.add("collapse"),e.classList.toggle("show"),e.classList.contains("show")?e.textContent=e.dataset.collapsedMessage:e.textContent=e.dataset.collapseMessage}))}}}])&&s(e.prototype,r),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(r(6599).Qr)},7810:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>u});r(9693),r(228),r(7522),r(7049),r(1694),r(4043),r(7267),r(24),r(2826),r(2320),r(9373),r(9903),r(9749),r(6544),r(9288),r(739),r(5399),r(1517),r(8052),r(50),r(1013),r(4254),r(752),r(6265);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,s=l(t);if(e){var i=l(this).constructor;r=Reflect.construct(s,arguments,i)}else r=s.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}function a(t,e,r){return(e=c(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t){var e=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!==n(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===n(e)?e:String(e)}var u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}(a,t);var e,r,n,l=o(a);function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),l.apply(this,arguments)}return e=a,(r=[{key:"connect",value:function(){Array.from(this.collectionContainerTarget.children).forEach((function(t){}))}},{key:"addCollectionElement",value:function(t){var e=document.createElement("div");e.innerHTML=this.element.dataset.prototypeValue.replace(/__name__/g,this.element.dataset.indexValue),this.collectionContainerTarget.appendChild(e),this.element.dataset.indexValue=(parseInt(this.element.dataset.indexValue)+1).toString()}},{key:"removeCollectionElement",value:function(t){t.preventDefault();var e=t.currentTarget.dataset.formCollectionIndex;this.element.querySelector('[data-form-collection="item"][data-form-collection-index="'+e+'"]').remove()}},{key:"addTagFormDeleteLink",value:function(t){var e=document.createElement("button");e.innerText=this.element.dataset.deleteLabel,e.classList.add("btn","btn-danger"),t.append(e),e.addEventListener("click",(function(e){e.preventDefault(),t.remove()}))}}])&&s(e.prototype,r),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(r(6599).Qr);a(u,"targets",["collectionContainer"]),a(u,"values",{index:Number,prototype:String})},8891:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>ll});var n={};r.r(n),r.d(n,{Attributor:()=>Ue,AttributorStore:()=>Qe,BlockBlot:()=>ar,ClassAttributor:()=>We,ContainerBlot:()=>ur,EmbedBlot:()=>hr,InlineBlot:()=>or,LeafBlot:()=>tr,ParentBlot:()=>sr,Registry:()=>Ke,Scope:()=>$e,ScrollBlot:()=>pr,StyleAttributor:()=>Ze,TextBlot:()=>mr});r(9358),r(4284),r(5399),r(1517),r(8052),r(228),r(50),r(1013),r(739),r(9373),r(9903),r(9749),r(6544),r(9288),r(4254),r(752),r(1694),r(6265);var s=r(6599);const i=function(){this.__data__=[],this.size=0};const o=function(t,e){return t===e||t!=t&&e!=e};const l=function(t,e){for(var r=t.length;r--;)if(o(t[r][0],e))return r;return-1};var a=Array.prototype.splice;const c=function(t){var e=this.__data__,r=l(e,t);return!(r<0)&&(r==e.length-1?e.pop():a.call(e,r,1),--this.size,!0)};const u=function(t){var e=this.__data__,r=l(e,t);return r<0?void 0:e[r][1]};const h=function(t){return l(this.__data__,t)>-1};const d=function(t,e){var r=this.__data__,n=l(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function f(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}f.prototype.clear=i,f.prototype.delete=c,f.prototype.get=u,f.prototype.has=h,f.prototype.set=d;const p=f;const g=function(){this.__data__=new p,this.size=0};const m=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};const v=function(t){return this.__data__.get(t)};const b=function(t){return this.__data__.has(t)};const y="object"==typeof global&&global&&global.Object===Object&&global;var x="object"==typeof self&&self&&self.Object===Object&&self;const w=y||x||Function("return this")();const O=w.Symbol;var E=Object.prototype,A=E.hasOwnProperty,N=E.toString,S=O?O.toStringTag:void 0;const k=function(t){var e=A.call(t,S),r=t[S];try{t[S]=void 0;var n=!0}catch(t){}var s=N.call(t);return n&&(e?t[S]=r:delete t[S]),s};var _=Object.prototype.toString;const L=function(t){return _.call(t)};var T=O?O.toStringTag:void 0;const C=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":T&&T in Object(t)?k(t):L(t)};const q=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};const j=function(t){if(!q(t))return!1;var e=C(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};const I=w["__core-js_shared__"];var M,R=(M=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+M:"";const F=function(t){return!!R&&R in t};var B=Function.prototype.toString;const P=function(t){if(null!=t){try{return B.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var D=/^\[object .+?Constructor\]$/,$=Function.prototype,U=Object.prototype,V=$.toString,z=U.hasOwnProperty,K=RegExp("^"+V.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const H=function(t){return!(!q(t)||F(t))&&(j(t)?K:D).test(P(t))};const W=function(t,e){return null==t?void 0:t[e]};const G=function(t,e){var r=W(t,e);return H(r)?r:void 0};const Z=G(w,"Map");const Q=G(Object,"create");const X=function(){this.__data__=Q?Q(null):{},this.size=0};const Y=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var J=Object.prototype.hasOwnProperty;const tt=function(t){var e=this.__data__;if(Q){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return J.call(e,t)?e[t]:void 0};var et=Object.prototype.hasOwnProperty;const rt=function(t){var e=this.__data__;return Q?void 0!==e[t]:et.call(e,t)};const nt=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Q&&void 0===e?"__lodash_hash_undefined__":e,this};function st(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}st.prototype.clear=X,st.prototype.delete=Y,st.prototype.get=tt,st.prototype.has=rt,st.prototype.set=nt;const it=st;const ot=function(){this.size=0,this.__data__={hash:new it,map:new(Z||p),string:new it}};const lt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};const at=function(t,e){var r=t.__data__;return lt(e)?r["string"==typeof e?"string":"hash"]:r.map};const ct=function(t){var e=at(this,t).delete(t);return this.size-=e?1:0,e};const ut=function(t){return at(this,t).get(t)};const ht=function(t){return at(this,t).has(t)};const dt=function(t,e){var r=at(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function ft(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ft.prototype.clear=ot,ft.prototype.delete=ct,ft.prototype.get=ut,ft.prototype.has=ht,ft.prototype.set=dt;const pt=ft;const gt=function(t,e){var r=this.__data__;if(r instanceof p){var n=r.__data__;if(!Z||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new pt(n)}return r.set(t,e),this.size=r.size,this};function mt(t){var e=this.__data__=new p(t);this.size=e.size}mt.prototype.clear=g,mt.prototype.delete=m,mt.prototype.get=v,mt.prototype.has=b,mt.prototype.set=gt;const vt=mt;const bt=function(){try{var t=G(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();const yt=function(t,e,r){"__proto__"==e&&bt?bt(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r};const xt=function(t,e,r){(void 0!==r&&!o(t[e],r)||void 0===r&&!(e in t))&&yt(t,e,r)};const wt=function(t){return function(e,r,n){for(var s=-1,i=Object(e),o=n(e),l=o.length;l--;){var a=o[t?l:++s];if(!1===r(i[a],a,i))break}return e}}();var Ot="object"==typeof exports&&exports&&!exports.nodeType&&exports,Et=Ot&&"object"==typeof module&&module&&!module.nodeType&&module,At=Et&&Et.exports===Ot?w.Buffer:void 0,Nt=At?At.allocUnsafe:void 0;const St=function(t,e){if(e)return t.slice();var r=t.length,n=Nt?Nt(r):new t.constructor(r);return t.copy(n),n};const kt=w.Uint8Array;const _t=function(t){var e=new t.constructor(t.byteLength);return new kt(e).set(new kt(t)),e};const Lt=function(t,e){var r=e?_t(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)};const Tt=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e};var Ct=Object.create;const qt=function(){function t(){}return function(e){if(!q(e))return{};if(Ct)return Ct(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();const jt=function(t,e){return function(r){return t(e(r))}};const It=jt(Object.getPrototypeOf,Object);var Mt=Object.prototype;const Rt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Mt)};const Ft=function(t){return"function"!=typeof t.constructor||Rt(t)?{}:qt(It(t))};const Bt=function(t){return null!=t&&"object"==typeof t};const Pt=function(t){return Bt(t)&&"[object Arguments]"==C(t)};var Dt=Object.prototype,$t=Dt.hasOwnProperty,Ut=Dt.propertyIsEnumerable;const Vt=Pt(function(){return arguments}())?Pt:function(t){return Bt(t)&&$t.call(t,"callee")&&!Ut.call(t,"callee")};const zt=Array.isArray;const Kt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};const Ht=function(t){return null!=t&&Kt(t.length)&&!j(t)};const Wt=function(t){return Bt(t)&&Ht(t)};const Gt=function(){return!1};var Zt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Qt=Zt&&"object"==typeof module&&module&&!module.nodeType&&module,Xt=Qt&&Qt.exports===Zt?w.Buffer:void 0;const Yt=(Xt?Xt.isBuffer:void 0)||Gt;var Jt=Function.prototype,te=Object.prototype,ee=Jt.toString,re=te.hasOwnProperty,ne=ee.call(Object);const se=function(t){if(!Bt(t)||"[object Object]"!=C(t))return!1;var e=It(t);if(null===e)return!0;var r=re.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&ee.call(r)==ne};var ie={};ie["[object Float32Array]"]=ie["[object Float64Array]"]=ie["[object Int8Array]"]=ie["[object Int16Array]"]=ie["[object Int32Array]"]=ie["[object Uint8Array]"]=ie["[object Uint8ClampedArray]"]=ie["[object Uint16Array]"]=ie["[object Uint32Array]"]=!0,ie["[object Arguments]"]=ie["[object Array]"]=ie["[object ArrayBuffer]"]=ie["[object Boolean]"]=ie["[object DataView]"]=ie["[object Date]"]=ie["[object Error]"]=ie["[object Function]"]=ie["[object Map]"]=ie["[object Number]"]=ie["[object Object]"]=ie["[object RegExp]"]=ie["[object Set]"]=ie["[object String]"]=ie["[object WeakMap]"]=!1;const oe=function(t){return Bt(t)&&Kt(t.length)&&!!ie[C(t)]};const le=function(t){return function(e){return t(e)}};var ae="object"==typeof exports&&exports&&!exports.nodeType&&exports,ce=ae&&"object"==typeof module&&module&&!module.nodeType&&module,ue=ce&&ce.exports===ae&&y.process;const he=function(){try{var t=ce&&ce.require&&ce.require("util").types;return t||ue&&ue.binding&&ue.binding("util")}catch(t){}}();var de=he&&he.isTypedArray;const fe=de?le(de):oe;const pe=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};var ge=Object.prototype.hasOwnProperty;const me=function(t,e,r){var n=t[e];ge.call(t,e)&&o(n,r)&&(void 0!==r||e in t)||yt(t,e,r)};const ve=function(t,e,r,n){var s=!r;r||(r={});for(var i=-1,o=e.length;++i<o;){var l=e[i],a=n?n(r[l],t[l],l,r,t):void 0;void 0===a&&(a=t[l]),s?yt(r,l,a):me(r,l,a)}return r};const be=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var ye=/^(?:0|[1-9]\d*)$/;const xe=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&ye.test(t))&&t>-1&&t%1==0&&t<e};var we=Object.prototype.hasOwnProperty;const Oe=function(t,e){var r=zt(t),n=!r&&Vt(t),s=!r&&!n&&Yt(t),i=!r&&!n&&!s&&fe(t),o=r||n||s||i,l=o?be(t.length,String):[],a=l.length;for(var c in t)!e&&!we.call(t,c)||o&&("length"==c||s&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||xe(c,a))||l.push(c);return l};const Ee=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e};var Ae=Object.prototype.hasOwnProperty;const Ne=function(t){if(!q(t))return Ee(t);var e=Rt(t),r=[];for(var n in t)("constructor"!=n||!e&&Ae.call(t,n))&&r.push(n);return r};const Se=function(t){return Ht(t)?Oe(t,!0):Ne(t)};const ke=function(t){return ve(t,Se(t))};const _e=function(t,e,r,n,s,i,o){var l=pe(t,r),a=pe(e,r),c=o.get(a);if(c)xt(t,r,c);else{var u=i?i(l,a,r+"",t,e,o):void 0,h=void 0===u;if(h){var d=zt(a),f=!d&&Yt(a),p=!d&&!f&&fe(a);u=a,d||f||p?zt(l)?u=l:Wt(l)?u=Tt(l):f?(h=!1,u=St(a,!0)):p?(h=!1,u=Lt(a,!0)):u=[]:se(a)||Vt(a)?(u=l,Vt(l)?u=ke(l):q(l)&&!j(l)||(u=Ft(a))):h=!1}h&&(o.set(a,u),s(u,a,n,i,o),o.delete(a)),xt(t,r,u)}};const Le=function t(e,r,n,s,i){e!==r&&wt(r,(function(o,l){if(i||(i=new vt),q(o))_e(e,r,l,n,t,s,i);else{var a=s?s(pe(e,l),o,l+"",e,r,i):void 0;void 0===a&&(a=o),xt(e,l,a)}}),Se)};const Te=function(t){return t};const Ce=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)};var qe=Math.max;const je=function(t,e,r){return e=qe(void 0===e?t.length-1:e,0),function(){for(var n=arguments,s=-1,i=qe(n.length-e,0),o=Array(i);++s<i;)o[s]=n[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=n[s];return l[e]=r(o),Ce(t,this,l)}};const Ie=function(t){return function(){return t}};const Me=bt?function(t,e){return bt(t,"toString",{configurable:!0,enumerable:!1,value:Ie(e),writable:!0})}:Te;var Re=Date.now;const Fe=function(t){var e=0,r=0;return function(){var n=Re(),s=16-(n-r);if(r=n,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Me);const Be=function(t,e){return Fe(je(t,e,Te),t+"")};const Pe=function(t,e,r){if(!q(r))return!1;var n=typeof e;return!!("number"==n?Ht(r)&&xe(e,r.length):"string"==n&&e in r)&&o(r[e],t)};const De=function(t){return Be((function(e,r){var n=-1,s=r.length,i=s>1?r[s-1]:void 0,o=s>2?r[2]:void 0;for(i=t.length>3&&"function"==typeof i?(s--,i):void 0,o&&Pe(r[0],r[1],o)&&(i=s<3?void 0:i,s=1),e=Object(e);++n<s;){var l=r[n];l&&t(e,l,n,i)}return e}))}((function(t,e,r){Le(t,e,r)}));var $e=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))($e||{});class Ue{constructor(t,e,r={}){this.attrName=t,this.keyName=e;const n=$e.TYPE&$e.ATTRIBUTE;this.scope=null!=r.scope?r.scope&$e.LEVEL|n:$e.ATTRIBUTE,null!=r.whitelist&&(this.whitelist=r.whitelist)}static keys(t){return Array.from(t.attributes).map((t=>t.name))}add(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)}canAdd(t,e){return null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1)}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class Ve extends Error{constructor(t){super(t="[Parchment] "+t),this.message=t,this.name=this.constructor.name}}const ze=class t{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(null==t)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let r=null;try{r=t.parentNode}catch{return null}return this.find(r,e)}return null}create(e,r,n){const s=this.query(r);if(null==s)throw new Ve(`Unable to create ${r} blot`);const i=s,o=r instanceof Node||r.nodeType===Node.TEXT_NODE?r:i.create(n),l=new i(e,o,n);return t.blots.set(l.domNode,l),l}find(e,r=!1){return t.find(e,r)}query(t,e=$e.ANY){let r;return"string"==typeof t?r=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?r=this.types.text:"number"==typeof t?t&$e.LEVEL&$e.BLOCK?r=this.types.block:t&$e.LEVEL&$e.INLINE&&(r=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some((t=>(r=this.classes[t],!!r))),r=r||this.tags[t.tagName]),null==r?null:"scope"in r&&e&$e.LEVEL&r.scope&&e&$e.TYPE&r.scope?r:null}register(...t){return t.map((t=>{const e="blotName"in t,r="attrName"in t;if(!e&&!r)throw new Ve("Invalid definition");if(e&&"abstract"===t.blotName)throw new Ve("Cannot register abstract class");const n=e?t.blotName:r?t.attrName:void 0;return this.types[n]=t,r?"string"==typeof t.keyName&&(this.attributes[t.keyName]=t):e&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map((t=>t.toUpperCase())):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach((e=>{(null==this.tags[e]||null==t.className)&&(this.tags[e]=t)})))),t}))}};ze.blots=new WeakMap;let Ke=ze;function He(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter((t=>0===t.indexOf(`${e}-`)))}const We=class extends Ue{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map((t=>t.split("-").slice(0,-1).join("-")))}add(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0)}remove(t){He(t,this.keyName).forEach((e=>{t.classList.remove(e)})),0===t.classList.length&&t.removeAttribute("class")}value(t){const e=(He(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}};function Ge(t){const e=t.split("-"),r=e.slice(1).map((t=>t[0].toUpperCase()+t.slice(1))).join("");return e[0]+r}const Ze=class extends Ue{static keys(t){return(t.getAttribute("style")||"").split(";").map((t=>t.split(":")[0].trim()))}add(t,e){return!!this.canAdd(t,e)&&(t.style[Ge(this.keyName)]=e,!0)}remove(t){t.style[Ge(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[Ge(this.keyName)];return this.canAdd(t,e)?e:""}};const Qe=class{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=Ke.find(this.domNode);if(null==t)return;const e=Ue.keys(this.domNode),r=We.keys(this.domNode),n=Ze.keys(this.domNode);e.concat(r).concat(n).forEach((e=>{const r=t.scroll.query(e,$e.ATTRIBUTE);r instanceof Ue&&(this.attributes[r.attrName]=r)}))}copy(t){Object.keys(this.attributes).forEach((e=>{const r=this.attributes[e].value(this.domNode);t.format(e,r)}))}move(t){this.copy(t),Object.keys(this.attributes).forEach((t=>{this.attributes[t].remove(this.domNode)})),this.attributes={}}values(){return Object.keys(this.attributes).reduce(((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t)),{})}},Xe=class{constructor(t,e){this.scroll=t,this.domNode=e,Ke.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(null==this.tagName)throw new Ve("Blot definition missing tagName");let e,r;return Array.isArray(this.tagName)?("string"==typeof t?(r=t.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):"number"==typeof t&&(r=t),e="number"==typeof r?document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?document.createElement(r):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){null!=this.parent&&this.parent.removeChild(this),Ke.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,r,n){const s=this.isolate(t,e);if(null!=this.scroll.query(r,$e.BLOT)&&n)s.wrap(r,n);else if(null!=this.scroll.query(r,$e.ATTRIBUTE)){const t=this.scroll.create(this.statics.scope);s.wrap(t),t.format(r,n)}}insertAt(t,e,r){const n=null==r?this.scroll.create("text",e):this.scroll.create(e,r),s=this.split(t);this.parent.insertBefore(n,s||void 0)}isolate(t,e){const r=this.split(t);if(null==r)throw new Error("Attempt to isolate at end");return r.split(e),r}length(){return 1}offset(t=this.parent){return null==this.parent||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const r="string"==typeof t?this.scroll.create(t,e):t;return null!=this.parent&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(t,e){return 0===t?this:this.next}update(t,e){}wrap(t,e){const r="string"==typeof t?this.scroll.create(t,e):t;if(null!=this.parent&&this.parent.insertBefore(r,this.next||void 0),"function"!=typeof r.appendChild)throw new Ve(`Cannot wrap ${t}`);return r.appendChild(this),r}};Xe.blotName="abstract";let Ye=Xe;const Je=class extends Ye{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Je.scope=$e.INLINE_BLOT;const tr=Je;class er{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let r=e();for(;r&&t>0;)t-=1,r=e();return r}contains(t){const e=this.iterator();let r=e();for(;r;){if(r===t)return!0;r=e()}return!1}indexOf(t){const e=this.iterator();let r=e(),n=0;for(;r;){if(r===t)return n;n+=1,r=e()}return-1}insertBefore(t,e){null!=t&&(this.remove(t),t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,r=this.head;for(;null!=r;){if(r===t)return e;e+=r.length(),r=r.next}return-1}remove(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return null!=t&&(t=t.next),e}}find(t,e=!1){const r=this.iterator();let n=r();for(;n;){const s=n.length();if(t<s||e&&t===s&&(null==n.next||0!==n.next.length()))return[n,t];t-=s,n=r()}return[null,0]}forEach(t){const e=this.iterator();let r=e();for(;r;)t(r),r=e()}forEachAt(t,e,r){if(e<=0)return;const[n,s]=this.find(t);let i=t-s;const o=this.iterator(n);let l=o();for(;l&&i<t+e;){const n=l.length();t>i?r(l,t-i,Math.min(e,i+n-t)):r(l,0,Math.min(n,t+e-i)),i+=n,l=o()}}map(t){return this.reduce(((e,r)=>(e.push(t(r)),e)),[])}reduce(t,e){const r=this.iterator();let n=r();for(;n;)e=t(e,n),n=r();return e}}function rr(t,e){const r=e.find(t);if(r)return r;try{return e.create(t)}catch{const r=e.create($e.INLINE);return Array.from(t.childNodes).forEach((t=>{r.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(r.domNode,t),r.attach(),r}}const nr=class t extends Ye{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach((t=>{t.attach()}))}attachUI(e){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=e,t.uiClass&&this.uiNode.classList.add(t.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new er,Array.from(this.domNode.childNodes).filter((t=>t!==this.uiNode)).reverse().forEach((t=>{try{const e=rr(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(t){if(t instanceof Ve)return;throw t}}))}deleteAt(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,((t,e,r)=>{t.deleteAt(e,r)}))}descendant(e,r=0){const[n,s]=this.children.find(r);return null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e?[n,s]:n instanceof t?n.descendant(e,s):[null,-1]}descendants(e,r=0,n=Number.MAX_VALUE){let s=[],i=n;return this.children.forEachAt(r,n,((r,n,o)=>{(null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e)&&s.push(r),r instanceof t&&(s=s.concat(r.descendants(e,n,i))),i-=o})),s}detach(){this.children.forEach((t=>{t.detach()})),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach((r=>{e||this.statics.allowedChildren.some((t=>r instanceof t))||(r.statics.scope===$e.BLOCK_BLOT?(null!=r.next&&this.splitAfter(r),null!=r.prev&&this.splitAfter(r.prev),r.parent.unwrap(),e=!0):r instanceof t?r.unwrap():r.remove())}))}formatAt(t,e,r,n){this.children.forEachAt(t,e,((t,e,s)=>{t.formatAt(e,s,r,n)}))}insertAt(t,e,r){const[n,s]=this.children.find(t);if(n)n.insertAt(s,e,r);else{const t=null==r?this.scroll.create("text",e):this.scroll.create(e,r);this.appendChild(t)}}insertBefore(t,e){null!=t.parent&&t.parent.children.remove(t);let r=null;this.children.insertBefore(t,e||null),t.parent=this,null!=e&&(r=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(t.domNode,r),t.attach()}length(){return this.children.reduce(((t,e)=>t+e.length()),0)}moveChildren(t,e){this.children.forEach((r=>{t.insertBefore(r,e)}))}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,r=!1){const[n,s]=this.children.find(e,r),i=[[this,e]];return n instanceof t?i.concat(n.path(s,r)):(null!=n&&i.push([n,s]),i)}removeChild(t){this.children.remove(t)}replaceWith(e,r){const n="string"==typeof e?this.scroll.create(e,r):e;return n instanceof t&&this.moveChildren(n),super.replaceWith(n)}split(t,e=!1){if(!e){if(0===t)return this;if(t===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(t,this.length(),((t,n,s)=>{const i=t.split(n,e);null!=i&&r.appendChild(i)})),r}splitAfter(t){const e=this.clone();for(;null!=t.next;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const r=[],n=[];t.forEach((t=>{t.target===this.domNode&&"childList"===t.type&&(r.push(...t.addedNodes),n.push(...t.removedNodes))})),n.forEach((t=>{if(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const e=this.scroll.find(t);null!=e&&(null==e.domNode.parentNode||e.domNode.parentNode===this.domNode)&&e.detach()})),r.filter((t=>t.parentNode===this.domNode&&t!==this.uiNode)).sort(((t,e)=>t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1)).forEach((t=>{let e=null;null!=t.nextSibling&&(e=this.scroll.find(t.nextSibling));const r=rr(t,this.scroll);(r.next!==e||null==r.next)&&(null!=r.parent&&r.parent.removeChild(this),this.insertBefore(r,e||void 0))})),this.enforceAllowedChildren()}};nr.uiClass="";const sr=nr;const ir=class t extends sr{static create(t){return super.create(t)}static formats(e,r){const n=r.query(t.blotName);if(null==n||e.tagName!==n.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new Qe(this.domNode)}format(e,r){if(e!==this.statics.blotName||r){const t=this.scroll.query(e,$e.INLINE);if(null==t)return;t instanceof Ue?this.attributes.attribute(t,r):r&&(e!==this.statics.blotName||this.formats()[e]!==r)&&this.replaceWith(e,r)}else this.children.forEach((e=>{e instanceof t||(e=e.wrap(t.blotName,!0)),this.attributes.copy(e)})),this.unwrap()}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return null!=e&&(t[this.statics.blotName]=e),t}formatAt(t,e,r,n){null!=this.formats()[r]||this.scroll.query(r,$e.ATTRIBUTE)?this.isolate(t,e).format(r,n):super.formatAt(t,e,r,n)}optimize(e){super.optimize(e);const r=this.formats();if(0===Object.keys(r).length)return this.unwrap();const n=this.next;n instanceof t&&n.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}(r,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(t,e){const r=super.replaceWith(t,e);return this.attributes.copy(r),r}update(t,e){super.update(t,e),t.some((t=>t.target===this.domNode&&"attributes"===t.type))&&this.attributes.build()}wrap(e,r){const n=super.wrap(e,r);return n instanceof t&&this.attributes.move(n),n}};ir.allowedChildren=[ir,tr],ir.blotName="inline",ir.scope=$e.INLINE_BLOT,ir.tagName="SPAN";const or=ir,lr=class t extends sr{static create(t){return super.create(t)}static formats(e,r){const n=r.query(t.blotName);if(null==n||e.tagName!==n.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new Qe(this.domNode)}format(e,r){const n=this.scroll.query(e,$e.BLOCK);null!=n&&(n instanceof Ue?this.attributes.attribute(n,r):e!==this.statics.blotName||r?r&&(e!==this.statics.blotName||this.formats()[e]!==r)&&this.replaceWith(e,r):this.replaceWith(t.blotName))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return null!=e&&(t[this.statics.blotName]=e),t}formatAt(t,e,r,n){null!=this.scroll.query(r,$e.BLOCK)?this.format(r,n):super.formatAt(t,e,r,n)}insertAt(t,e,r){if(null==r||null!=this.scroll.query(e,$e.INLINE))super.insertAt(t,e,r);else{const n=this.split(t);if(null==n)throw new Error("Attempt to insertAt after block boundaries");{const t=this.scroll.create(e,r);n.parent.insertBefore(t,n)}}}replaceWith(t,e){const r=super.replaceWith(t,e);return this.attributes.copy(r),r}update(t,e){super.update(t,e),t.some((t=>t.target===this.domNode&&"attributes"===t.type))&&this.attributes.build()}};lr.blotName="block",lr.scope=$e.BLOCK_BLOT,lr.tagName="P",lr.allowedChildren=[or,lr,tr];const ar=lr,cr=class extends sr{checkMerge(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,r,n){super.formatAt(t,e,r,n),this.enforceAllowedChildren()}insertAt(t,e,r){super.insertAt(t,e,r),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};cr.blotName="container",cr.scope=$e.BLOCK_BLOT;const ur=cr;const hr=class extends tr{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,r,n){0===t&&e===this.length()?this.format(r,n):super.formatAt(t,e,r,n)}formats(){return this.statics.formats(this.domNode,this.scroll)}},dr={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},fr=class extends sr{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver((t=>{this.update(t)})),this.observer.observe(this.domNode,dr),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const r=this.registry.find(t,e);return r?r.scroll===this?r:e?this.find(r.scroll.domNode.parentNode,!0):null:null}query(t,e=$e.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){null!=this.scroll&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),0===t&&e===this.length()?this.children.forEach((t=>{t.remove()})):super.deleteAt(t,e)}formatAt(t,e,r,n){this.update(),super.formatAt(t,e,r,n)}insertAt(t,e,r){this.update(),super.insertAt(t,e,r)}optimize(t=[],e={}){super.optimize(e);const r=e.mutationsMap||new WeakMap;let n=Array.from(this.observer.takeRecords());for(;n.length>0;)t.push(n.pop());const s=(t,e=!0)=>{null==t||t===this||null!=t.domNode.parentNode&&(r.has(t.domNode)||r.set(t.domNode,[]),e&&s(t.parent))},i=t=>{r.has(t.domNode)&&(t instanceof sr&&t.children.forEach(i),r.delete(t.domNode),t.optimize(e))};let o=t;for(let e=0;o.length>0;e+=1){if(e>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(o.forEach((t=>{const e=this.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(s(this.find(t.previousSibling,!1)),Array.from(t.addedNodes).forEach((t=>{const e=this.find(t,!1);s(e,!1),e instanceof sr&&e.children.forEach((t=>{s(t,!1)}))}))):"attributes"===t.type&&s(e.prev)),s(e))})),this.children.forEach(i),o=Array.from(this.observer.takeRecords()),n=o.slice();n.length>0;)t.push(n.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const r=new WeakMap;t.map((t=>{const e=this.find(t.target,!0);return null==e?null:r.has(e.domNode)?(r.get(e.domNode).push(t),null):(r.set(e.domNode,[t]),e)})).forEach((t=>{null!=t&&t!==this&&r.has(t.domNode)&&t.update(r.get(t.domNode)||[],e)})),e.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),e),this.optimize(t,e)}};fr.blotName="scroll",fr.defaultChild=ar,fr.allowedChildren=[ar,ur],fr.scope=$e.BLOCK_BLOT,fr.tagName="DIV";const pr=fr,gr=class t extends tr{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,r){null==r?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(0===t)return this;if(t===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(t,e){t.some((t=>"characterData"===t.type&&t.target===this.domNode))&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};gr.blotName="text",gr.scope=$e.INLINE_BLOT;const mr=gr;var vr=r(8895);const br=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t};const yr=jt(Object.keys,Object);var xr=Object.prototype.hasOwnProperty;const wr=function(t){if(!Rt(t))return yr(t);var e=[];for(var r in Object(t))xr.call(t,r)&&"constructor"!=r&&e.push(r);return e};const Or=function(t){return Ht(t)?Oe(t):wr(t)};const Er=function(t,e){return t&&ve(e,Or(e),t)};const Ar=function(t,e){return t&&ve(e,Se(e),t)};const Nr=function(t,e){for(var r=-1,n=null==t?0:t.length,s=0,i=[];++r<n;){var o=t[r];e(o,r,t)&&(i[s++]=o)}return i};const Sr=function(){return[]};var kr=Object.prototype.propertyIsEnumerable,_r=Object.getOwnPropertySymbols;const Lr=_r?function(t){return null==t?[]:(t=Object(t),Nr(_r(t),(function(e){return kr.call(t,e)})))}:Sr;const Tr=function(t,e){return ve(t,Lr(t),e)};const Cr=function(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t};const qr=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Cr(e,Lr(t)),t=It(t);return e}:Sr;const jr=function(t,e){return ve(t,qr(t),e)};const Ir=function(t,e,r){var n=e(t);return zt(t)?n:Cr(n,r(t))};const Mr=function(t){return Ir(t,Or,Lr)};const Rr=function(t){return Ir(t,Se,qr)};const Fr=G(w,"DataView");const Br=G(w,"Promise");const Pr=G(w,"Set");const Dr=G(w,"WeakMap");var $r="[object Map]",Ur="[object Promise]",Vr="[object Set]",zr="[object WeakMap]",Kr="[object DataView]",Hr=P(Fr),Wr=P(Z),Gr=P(Br),Zr=P(Pr),Qr=P(Dr),Xr=C;(Fr&&Xr(new Fr(new ArrayBuffer(1)))!=Kr||Z&&Xr(new Z)!=$r||Br&&Xr(Br.resolve())!=Ur||Pr&&Xr(new Pr)!=Vr||Dr&&Xr(new Dr)!=zr)&&(Xr=function(t){var e=C(t),r="[object Object]"==e?t.constructor:void 0,n=r?P(r):"";if(n)switch(n){case Hr:return Kr;case Wr:return $r;case Gr:return Ur;case Zr:return Vr;case Qr:return zr}return e});const Yr=Xr;var Jr=Object.prototype.hasOwnProperty;const tn=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Jr.call(t,"index")&&(r.index=t.index,r.input=t.input),r};const en=function(t,e){var r=e?_t(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)};var rn=/\w*$/;const nn=function(t){var e=new t.constructor(t.source,rn.exec(t));return e.lastIndex=t.lastIndex,e};var sn=O?O.prototype:void 0,on=sn?sn.valueOf:void 0;const ln=function(t){return on?Object(on.call(t)):{}};const an=function(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return _t(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return en(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Lt(t,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return nn(t);case"[object Symbol]":return ln(t)}};const cn=function(t){return Bt(t)&&"[object Map]"==Yr(t)};var un=he&&he.isMap;const hn=un?le(un):cn;const dn=function(t){return Bt(t)&&"[object Set]"==Yr(t)};var fn=he&&he.isSet;const pn=fn?le(fn):dn;var gn="[object Arguments]",mn="[object Function]",vn="[object Object]",bn={};bn[gn]=bn["[object Array]"]=bn["[object ArrayBuffer]"]=bn["[object DataView]"]=bn["[object Boolean]"]=bn["[object Date]"]=bn["[object Float32Array]"]=bn["[object Float64Array]"]=bn["[object Int8Array]"]=bn["[object Int16Array]"]=bn["[object Int32Array]"]=bn["[object Map]"]=bn["[object Number]"]=bn[vn]=bn["[object RegExp]"]=bn["[object Set]"]=bn["[object String]"]=bn["[object Symbol]"]=bn["[object Uint8Array]"]=bn["[object Uint8ClampedArray]"]=bn["[object Uint16Array]"]=bn["[object Uint32Array]"]=!0,bn["[object Error]"]=bn[mn]=bn["[object WeakMap]"]=!1;const yn=function t(e,r,n,s,i,o){var l,a=1&r,c=2&r,u=4&r;if(n&&(l=i?n(e,s,i,o):n(e)),void 0!==l)return l;if(!q(e))return e;var h=zt(e);if(h){if(l=tn(e),!a)return Tt(e,l)}else{var d=Yr(e),f=d==mn||"[object GeneratorFunction]"==d;if(Yt(e))return St(e,a);if(d==vn||d==gn||f&&!i){if(l=c||f?{}:Ft(e),!a)return c?jr(e,Ar(l,e)):Tr(e,Er(l,e))}else{if(!bn[d])return i?e:{};l=an(e,d,a)}}o||(o=new vt);var p=o.get(e);if(p)return p;o.set(e,l),pn(e)?e.forEach((function(s){l.add(t(s,r,n,s,e,o))})):hn(e)&&e.forEach((function(s,i){l.set(i,t(s,r,n,i,e,o))}));var g=h?void 0:(u?c?Rr:Mr:c?Se:Or)(e);return br(g||e,(function(s,i){g&&(s=e[i=s]),me(l,i,t(s,r,n,i,e,o))})),l};const xn=function(t){return yn(t,5)};const wn=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};const On=function(t){return this.__data__.has(t)};function En(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new pt;++e<r;)this.add(t[e])}En.prototype.add=En.prototype.push=wn,En.prototype.has=On;const An=En;const Nn=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1};const Sn=function(t,e){return t.has(e)};const kn=function(t,e,r,n,s,i){var o=1&r,l=t.length,a=e.length;if(l!=a&&!(o&&a>l))return!1;var c=i.get(t),u=i.get(e);if(c&&u)return c==e&&u==t;var h=-1,d=!0,f=2&r?new An:void 0;for(i.set(t,e),i.set(e,t);++h<l;){var p=t[h],g=e[h];if(n)var m=o?n(g,p,h,e,t,i):n(p,g,h,t,e,i);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!Nn(e,(function(t,e){if(!Sn(f,e)&&(p===t||s(p,t,r,n,i)))return f.push(e)}))){d=!1;break}}else if(p!==g&&!s(p,g,r,n,i)){d=!1;break}}return i.delete(t),i.delete(e),d};const _n=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r};const Ln=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r};var Tn=O?O.prototype:void 0,Cn=Tn?Tn.valueOf:void 0;const qn=function(t,e,r,n,s,i,l){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new kt(t),new kt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=_n;case"[object Set]":var c=1&n;if(a||(a=Ln),t.size!=e.size&&!c)return!1;var u=l.get(t);if(u)return u==e;n|=2,l.set(t,e);var h=kn(a(t),a(e),n,s,i,l);return l.delete(t),h;case"[object Symbol]":if(Cn)return Cn.call(t)==Cn.call(e)}return!1};var jn=Object.prototype.hasOwnProperty;const In=function(t,e,r,n,s,i){var o=1&r,l=Mr(t),a=l.length;if(a!=Mr(e).length&&!o)return!1;for(var c=a;c--;){var u=l[c];if(!(o?u in e:jn.call(e,u)))return!1}var h=i.get(t),d=i.get(e);if(h&&d)return h==e&&d==t;var f=!0;i.set(t,e),i.set(e,t);for(var p=o;++c<a;){var g=t[u=l[c]],m=e[u];if(n)var v=o?n(m,g,u,e,t,i):n(g,m,u,t,e,i);if(!(void 0===v?g===m||s(g,m,r,n,i):v)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var b=t.constructor,y=e.constructor;b==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(f=!1)}return i.delete(t),i.delete(e),f};var Mn="[object Arguments]",Rn="[object Array]",Fn="[object Object]",Bn=Object.prototype.hasOwnProperty;const Pn=function(t,e,r,n,s,i){var o=zt(t),l=zt(e),a=o?Rn:Yr(t),c=l?Rn:Yr(e),u=(a=a==Mn?Fn:a)==Fn,h=(c=c==Mn?Fn:c)==Fn,d=a==c;if(d&&Yt(t)){if(!Yt(e))return!1;o=!0,u=!1}if(d&&!u)return i||(i=new vt),o||fe(t)?kn(t,e,r,n,s,i):qn(t,e,a,r,n,s,i);if(!(1&r)){var f=u&&Bn.call(t,"__wrapped__"),p=h&&Bn.call(e,"__wrapped__");if(f||p){var g=f?t.value():t,m=p?e.value():e;return i||(i=new vt),s(g,m,r,n,i)}}return!!d&&(i||(i=new vt),In(t,e,r,n,s,i))};const Dn=function t(e,r,n,s,i){return e===r||(null==e||null==r||!Bt(e)&&!Bt(r)?e!=e&&r!=r:Pn(e,r,n,s,t,i))};const $n=function(t,e){return Dn(t,e)};class Un extends hr{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Un.blotName="break",Un.tagName="BR";const Vn=Un;class zn extends mr{}function Kn(t){return t.replace(/[&<>"']/g,(t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[t])))}class Hn extends or{static allowedChildren=[Hn,Vn,hr,zn];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(t,e){const r=Hn.order.indexOf(t),n=Hn.order.indexOf(e);return r>=0||n>=0?r-n:t===e?0:t<e?-1:1}formatAt(t,e,r,n){if(Hn.compare(this.statics.blotName,r)<0&&this.scroll.query(r,$e.BLOT)){const s=this.isolate(t,e);n&&s.wrap(r,n)}else super.formatAt(t,e,r,n)}optimize(t){if(super.optimize(t),this.parent instanceof Hn&&Hn.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}const Wn=Hn;class Gn extends ar{cache={};delta(){return null==this.cache.delta&&(this.cache.delta=Qn(this)),this.cache.delta}deleteAt(t,e){super.deleteAt(t,e),this.cache={}}formatAt(t,e,r,n){e<=0||(this.scroll.query(r,$e.BLOCK)?t+e===this.length()&&this.format(r,n):super.formatAt(t,Math.min(e,this.length()-t-1),r,n),this.cache={})}insertAt(t,e,r){if(null!=r)return super.insertAt(t,e,r),void(this.cache={});if(0===e.length)return;const n=e.split("\n"),s=n.shift();s.length>0&&(t<this.length()-1||null==this.children.tail?super.insertAt(Math.min(t,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});let i=this;n.reduce(((t,e)=>(i=i.split(t,!0),i.insertAt(0,e),e.length)),t+s.length)}insertBefore(t,e){const{head:r}=this.children;super.insertBefore(t,e),r instanceof Vn&&r.remove(),this.cache={}}length(){return null==this.cache.length&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(t,e){super.moveChildren(t,e),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&(0===t||t>=this.length()-1)){const e=this.clone();return 0===t?(this.parent.insertBefore(e,this),this):(this.parent.insertBefore(e,this.next),e)}const r=super.split(t,e);return this.cache={},r}}Gn.blotName="block",Gn.tagName="P",Gn.defaultChild=Vn,Gn.allowedChildren=[Vn,Wn,hr,zn];class Zn extends hr{attach(){super.attach(),this.attributes=new Qe(this.domNode)}delta(){return(new vr).insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){const r=this.scroll.query(t,$e.BLOCK_ATTRIBUTE);null!=r&&this.attributes.attribute(r,e)}formatAt(t,e,r,n){this.format(r,n)}insertAt(t,e,r){if(null!=r)return void super.insertAt(t,e,r);const n=e.split("\n"),s=n.pop(),i=n.map((t=>{const e=this.scroll.create(Gn.blotName);return e.insertAt(0,t),e})),o=this.split(t);i.forEach((t=>{this.parent.insertBefore(t,o)})),s&&this.parent.insertBefore(this.scroll.create("text",s),o)}}function Qn(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.descendants(tr).reduce(((t,r)=>0===r.length()?t:t.insert(r.value(),Xn(r,{},e))),new vr).insert("\n",Xn(t))}function Xn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==t?e:("formats"in t&&"function"==typeof t.formats&&(e={...e,...t.formats()},r&&delete e["code-token"]),null==t.parent||"scroll"===t.parent.statics.blotName||t.parent.statics.scope!==t.statics.scope?e:Xn(t.parent,e,r))}Zn.scope=$e.BLOCK_BLOT;class Yn extends hr{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\ufeff";static value(){}constructor(t,e,r){super(t,e),this.selection=r,this.textNode=document.createTextNode(Yn.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){null!=this.parent&&this.parent.removeChild(this)}format(t,e){if(0!==this.savedLength)return void super.format(t,e);let r=this,n=0;for(;null!=r&&r.statics.scope!==$e.BLOCK_BLOT;)n+=r.offset(r.parent),r=r.parent;null!=r&&(this.savedLength=Yn.CONTENTS.length,r.optimize(),r.formatAt(n,Yn.CONTENTS.length,t,e),this.savedLength=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||null==this.parent)return null;const t=this.selection.getNativeRange();for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const e=this.prev instanceof zn?this.prev:null,r=e?e.length():0,n=this.next instanceof zn?this.next:null,s=n?n.text:"",{textNode:i}=this,o=i.data.split(Yn.CONTENTS).join("");let l;if(i.data=Yn.CONTENTS,e)l=e,(o||n)&&(e.insertAt(e.length(),o+s),n&&n.remove());else if(n)l=n,n.insertAt(0,o);else{const t=document.createTextNode(o);l=this.scroll.create(t),this.parent.insertBefore(l,this)}if(this.remove(),t){const s=(t,s)=>e&&t===e.domNode?s:t===i?r+s-1:n&&t===n.domNode?r+o.length+s:null,a=s(t.start.node,t.start.offset),c=s(t.end.node,t.end.offset);if(null!==a&&null!==c)return{startNode:l.domNode,startOffset:a,endNode:l.domNode,endOffset:c}}return null}update(t,e){if(t.some((t=>"characterData"===t.type&&t.target===this.textNode))){const t=this.restore();t&&(e.range=t)}}optimize(t){super.optimize(t);let{parent:e}=this;for(;e;){if("A"===e.domNode.tagName){this.savedLength=Yn.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}value(){return""}}const Jn=Yn;var ts=r(6729);const es=new WeakMap,rs=["error","warn","log","info"];let ns="warn";function ss(t){if(ns&&rs.indexOf(t)<=rs.indexOf(ns)){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];console[t](...r)}}function is(t){return rs.reduce(((e,r)=>(e[r]=ss.bind(console,r,t),e)),{})}is.level=t=>{ns=t},ss.level=is.level;const os=is,ls=os("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((t=>{document.addEventListener(t,(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach((t=>{const r=es.get(t);r&&r.emitter&&r.emitter.handleDOM(...e)}))}))}));const as=class extends ts{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",ls.error)}emit(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return ls.log.call(ls,...e),super.emit(...e)}handleDOM(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];(this.domListeners[t.type]||[]).forEach((e=>{let{node:n,handler:s}=e;(t.target===n||n.contains(t.target))&&s(t,...r)}))}listenDOM(t,e,r){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:r})}},cs=os("quill:selection");class us{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.index=t,this.length=e}}function hs(t,e){try{e.parentNode}catch(t){return!1}return t.contains(e)}const ds=class{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new us(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,as.sources.USER),1)})),this.emitter.on(as.events.SCROLL_BEFORE_UPDATE,(()=>{if(!this.hasFocus())return;const t=this.getNativeRange();null!=t&&t.start.node!==this.cursor.textNode&&this.emitter.once(as.events.SCROLL_UPDATE,((e,r)=>{try{this.root.contains(t.start.node)&&this.root.contains(t.end.node)&&this.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset);const n=r.some((t=>"characterData"===t.type||"childList"===t.type||"attributes"===t.type&&t.target===this.root));this.update(n?as.sources.SILENT:e)}catch(t){}}))})),this.emitter.on(as.events.SCROLL_OPTIMIZE,((t,e)=>{if(e.range){const{startNode:t,startOffset:r,endNode:n,endOffset:s}=e.range;this.setNativeRange(t,r,n,s),this.update(as.sources.SILENT)}})),this.update(as.sources.SILENT)}handleComposition(){this.emitter.on(as.events.COMPOSITION_BEFORE_START,(()=>{this.composing=!0})),this.emitter.on(as.events.COMPOSITION_END,(()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout((()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}handleDragging(){this.emitter.listenDOM("mousedown",document.body,(()=>{this.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(()=>{this.mouseDown=!1,this.update(as.sources.USER)}))}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,e){this.scroll.update();const r=this.getNativeRange();if(null!=r&&r.native.collapsed&&!this.scroll.query(t,$e.BLOCK)){if(r.start.node!==this.cursor.textNode){const t=this.scroll.find(r.start.node,!1);if(null==t)return;if(t instanceof tr){const e=t.split(r.start.offset);t.parent.insertBefore(this.cursor,e)}else t.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.scroll.length();let n;t=Math.min(t,r-1),e=Math.min(t+e,r-1)-t;let[s,i]=this.scroll.leaf(t);if(null==s)return null;if(e>0&&i===s.length()){const[e]=this.scroll.leaf(t+1);if(e){const[r]=this.scroll.line(t),[n]=this.scroll.line(t+1);r===n&&(s=e,i=0)}}[n,i]=s.position(i,!0);const o=document.createRange();if(e>0)return o.setStart(n,i),[s,i]=this.scroll.leaf(t+e),null==s?null:([n,i]=s.position(i,!0),o.setEnd(n,i),o.getBoundingClientRect());let l,a="left";if(n instanceof Text){if(!n.data.length)return null;i<n.data.length?(o.setStart(n,i),o.setEnd(n,i+1)):(o.setStart(n,i-1),o.setEnd(n,i),a="right"),l=o.getBoundingClientRect()}else{if(!(s.domNode instanceof Element))return null;l=s.domNode.getBoundingClientRect(),i>0&&(a="right")}return{bottom:l.top+l.height,height:l.height,left:l[a],right:l[a],top:l.top,width:0}}getNativeRange(){const t=document.getSelection();if(null==t||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(null==e)return null;const r=this.normalizeNative(e);return cs.info("getNativeRange",r),r}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const e=this.getNativeRange();if(null==e)return[null,null];return[this.normalizedToRange(e),e]}hasFocus(){return document.activeElement===this.root||null!=document.activeElement&&hs(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);const r=e.map((t=>{const[e,r]=t,n=this.scroll.find(e,!0),s=n.offset(this.scroll);return 0===r?s:n instanceof tr?s+n.index(e,r):s+n.length()})),n=Math.min(Math.max(...r),this.scroll.length()-1),s=Math.min(n,...r);return new us(s,n-s)}normalizeNative(t){if(!hs(this.root,t.startContainer)||!t.collapsed&&!hs(this.root,t.endContainer))return null;const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach((t=>{let{node:e,offset:r}=t;for(;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>r)e=e.childNodes[r],r=0;else{if(e.childNodes.length!==r)break;e=e.lastChild,r=e instanceof Text?e.data.length:e.childNodes.length>0?e.childNodes.length:e.childNodes.length+1}t.node=e,t.offset=r})),e}rangeToNative(t){const e=this.scroll.length(),r=(t,r)=>{t=Math.min(e-1,t);const[n,s]=this.scroll.leaf(t);return n?n.position(s,r):[null,-1]};return[...r(t.index,!1),...r(t.index+t.length,!0)]}setNativeRange(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(cs.info("setNativeRange",t,e,r,n),null!=t&&(null==this.root.parentNode||null==t.parentNode||null==r.parentNode))return;const i=document.getSelection();if(null!=i)if(null!=t){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:o}=this.getNativeRange()||{};if(null==o||s||t!==o.startContainer||e!==o.startOffset||r!==o.endContainer||n!==o.endOffset){t instanceof Element&&"BR"===t.tagName&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),r instanceof Element&&"BR"===r.tagName&&(n=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const s=document.createRange();s.setStart(t,e),s.setEnd(r,n),i.removeAllRanges(),i.addRange(s)}}else i.removeAllRanges(),this.root.blur()}setRange(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:as.sources.API;if("string"==typeof e&&(r=e,e=!1),cs.info("setRange",t),null!=t){const r=this.rangeToNative(t);this.setNativeRange(...r,e)}else this.setNativeRange(null);this.update(r)}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as.sources.USER;const e=this.lastRange,[r,n]=this.getRange();if(this.lastRange=r,this.lastNative=n,null!=this.lastRange&&(this.savedRange=this.lastRange),!$n(e,this.lastRange)){if(!this.composing&&null!=n&&n.native.collapsed&&n.start.node!==this.cursor.textNode){const t=this.cursor.restore();t&&this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}const r=[as.events.SELECTION_CHANGE,xn(this.lastRange),xn(e),t];this.emitter.emit(as.events.EDITOR_CHANGE,...r),t!==as.sources.SILENT&&this.emitter.emit(...r)}}},fs=/^[ -~]*$/;function ps(t,e,r){if(0===t.length){const[t]=vs(r.pop());return e<=0?`</li></${t}>`:`</li></${t}>${ps([],e-1,r)}`}const[{child:n,offset:s,length:i,indent:o,type:l},...a]=t,[c,u]=vs(l);if(o>e)return r.push(l),o===e+1?`<${c}><li${u}>${gs(n,s,i)}${ps(a,o,r)}`:`<${c}><li>${ps(t,e+1,r)}`;const h=r[r.length-1];if(o===e&&l===h)return`</li><li${u}>${gs(n,s,i)}${ps(a,o,r)}`;const[d]=vs(r.pop());return`</li></${d}>${ps(t,e-1,r)}`}function gs(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("html"in t&&"function"==typeof t.html)return t.html(e,r);if(t instanceof zn)return Kn(t.value().slice(e,e+r));if(t instanceof sr){if("list-container"===t.statics.blotName){const n=[];return t.children.forEachAt(e,r,((t,e,r)=>{const s="formats"in t&&"function"==typeof t.formats?t.formats():{};n.push({child:t,offset:e,length:r,indent:s.indent||0,type:s.list})})),ps(n,-1,[])}const s=[];if(t.children.forEachAt(e,r,((t,e,r)=>{s.push(gs(t,e,r))})),n||"list"===t.statics.blotName)return s.join("");const{outerHTML:i,innerHTML:o}=t.domNode,[l,a]=i.split(`>${o}<`);return"<table"===l?`<table style="border: 1px solid #000;">${s.join("")}<${a}`:`${l}>${s.join("")}<${a}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function ms(t,e){return Object.keys(e).reduce(((r,n)=>{if(null==t[n])return r;const s=e[n];return s===t[n]?r[n]=s:Array.isArray(s)?s.indexOf(t[n])<0?r[n]=s.concat([t[n]]):r[n]=s:r[n]=[s,t[n]],r}),{})}function vs(t){const e="ordered"===t?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function bs(t){return t.reduce(((t,e)=>{if("string"==typeof e.insert){const r=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(r,e.attributes)}return t.push(e)}),new vr)}function ys(t,e){let{index:r,length:n}=t;return new us(r+e,n)}const xs=class{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const r=bs(t),n=new vr;return function(t){const e=[];return t.forEach((t=>{if("string"==typeof t.insert){t.insert.split("\n").forEach(((r,n)=>{n&&e.push({insert:"\n",attributes:t.attributes}),r&&e.push({insert:r,attributes:t.attributes})}))}else e.push(t)})),e}(r.ops.slice()).reduce(((t,r)=>{const s=vr.Op.length(r);let i=r.attributes||{},o=!1,l=!1;if(null!=r.insert){if(n.retain(s),"string"==typeof r.insert){const n=r.insert;l=!n.endsWith("\n")&&(e<=t||!!this.scroll.descendant(Zn,t)[0]),this.scroll.insertAt(t,n);const[s,o]=this.scroll.line(t);let a=De({},Xn(s));if(s instanceof Gn){const[t]=s.descendant(tr,o);t&&(a=De(a,Xn(t)))}i=vr.AttributeMap.diff(a,i)||{}}else if("object"==typeof r.insert){const n=Object.keys(r.insert)[0];if(null==n)return t;const s=null!=this.scroll.query(n,$e.INLINE);if(s)(e<=t||this.scroll.descendant(Zn,t)[0])&&(l=!0);else if(t>0){const[e,r]=this.scroll.descendant(tr,t-1);if(e instanceof zn){"\n"!==e.value()[r]&&(o=!0)}else e instanceof hr&&e.statics.scope===$e.INLINE_BLOT&&(o=!0)}if(this.scroll.insertAt(t,n,r.insert[n]),s){const[e]=this.scroll.descendant(tr,t);if(e){const t=De({},Xn(e));i=vr.AttributeMap.diff(t,i)||{}}}}e+=s}else if(n.push(r),null!==r.retain&&"object"==typeof r.retain){const e=Object.keys(r.retain)[0];if(null==e)return t;this.scroll.updateEmbedAt(t,e,r.retain[e])}Object.keys(i).forEach((e=>{this.scroll.formatAt(t,s,e,i[e])}));const a=o?1:0,c=l?1:0;return e+=a+c,n.retain(a),n.delete(c),t+s+a+c}),0),n.reduce(((t,e)=>"number"==typeof e.delete?(this.scroll.deleteAt(t,e.delete),t):t+vr.Op.length(e)),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update((new vr).retain(t).delete(e))}formatLine(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach((n=>{this.scroll.lines(t,Math.max(e,1)).forEach((t=>{t.format(n,r[n])}))})),this.scroll.optimize();const n=(new vr).retain(t).retain(e,xn(r));return this.update(n)}formatText(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(r).forEach((n=>{this.scroll.formatAt(t,e,n,r[n])}));const n=(new vr).retain(t).retain(e,xn(r));return this.update(n)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce(((t,e)=>t.concat(e.delta())),new vr)}getFormat(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=[];0===e?this.scroll.path(t).forEach((t=>{const[e]=t;e instanceof Gn?r.push(e):e instanceof tr&&n.push(e)})):(r=this.scroll.lines(t,e),n=this.scroll.descendants(tr,t,e));const[s,i]=[r,n].map((t=>{const e=t.shift();if(null==e)return{};let r=Xn(e);for(;Object.keys(r).length>0;){const e=t.shift();if(null==e)return r;r=ms(Xn(e),r)}return r}));return{...s,...i}}getHTML(t,e){const[r,n]=this.scroll.line(t);if(r){const s=r.length();return!(r.length()>=n+e)||0===n&&e===s?gs(this.scroll,t,e,!0):gs(r,n,e,!0)}return""}getText(t,e){return this.getContents(t,e).filter((t=>"string"==typeof t.insert)).map((t=>t.insert)).join("")}insertContents(t,e){const r=bs(e),n=(new vr).retain(t).concat(r);return this.scroll.insertContents(t,r),this.update(n)}insertEmbed(t,e,r){return this.scroll.insertAt(t,e,r),this.update((new vr).retain(t).insert({[e]:r}))}insertText(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(r).forEach((n=>{this.scroll.formatAt(t,e.length,n,r[n])})),this.update((new vr).retain(t).insert(e,xn(r)))}isBlank(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if(t?.statics.blotName!==Gn.blotName)return!1;const e=t;return!(e.children.length>1)&&e.children.head instanceof Vn}removeFormat(t,e){const r=this.getText(t,e),[n,s]=this.scroll.line(t+e);let i=0,o=new vr;null!=n&&(i=n.length()-s,o=n.delta().slice(s,s+i-1).insert("\n"));const l=this.getContents(t,e+i).diff((new vr).insert(r).concat(o)),a=(new vr).retain(t).concat(l);return this.applyDelta(a)}update(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const n=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(fs)&&this.scroll.find(e[0].target)){const s=this.scroll.find(e[0].target),i=Xn(s),o=s.offset(this.scroll),l=e[0].oldValue.replace(Jn.CONTENTS,""),a=(new vr).insert(l),c=(new vr).insert(s.value()),u=r&&{oldRange:ys(r.oldRange,-o),newRange:ys(r.newRange,-o)};t=(new vr).retain(o).concat(a.diff(c,u)).reduce(((t,e)=>e.insert?t.insert(e.insert,i):t.push(e)),new vr),this.delta=n.compose(t)}else this.delta=this.getDelta(),t&&$n(n.compose(t),this.delta)||(t=n.diff(this.delta,r));return t}};const ws=class{static DEFAULTS={};constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.quill=t,this.options=e}},Os="\ufeff";const Es=class extends hr{constructor(t,e){super(t,e),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach((t=>{this.contentNode.appendChild(t)})),this.leftGuard=document.createTextNode(Os),this.rightGuard=document.createTextNode(Os),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e,r=null;const n=t.data.split(Os).join("");if(t===this.leftGuard)if(this.prev instanceof zn){const t=this.prev.length();this.prev.insertAt(t,n),r={startNode:this.prev.domNode,startOffset:t+n.length}}else e=document.createTextNode(n),this.parent.insertBefore(this.scroll.create(e),this),r={startNode:e,startOffset:n.length};else t===this.rightGuard&&(this.next instanceof zn?(this.next.insertAt(0,n),r={startNode:this.next.domNode,startOffset:n.length}):(e=document.createTextNode(n),this.parent.insertBefore(this.scroll.create(e),this.next),r={startNode:e,startOffset:n.length}));return t.data=Os,r}update(t,e){t.forEach((t=>{if("characterData"===t.type&&(t.target===this.leftGuard||t.target===this.rightGuard)){const r=this.restore(t.target);r&&(e.range=r)}}))}};const As=class{isComposing=!1;constructor(t,e){this.scroll=t,this.emitter=e,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",(t=>{this.isComposing||this.handleCompositionStart(t)})),this.scroll.domNode.addEventListener("compositionend",(t=>{this.isComposing&&queueMicrotask((()=>{this.handleCompositionEnd(t)}))}))}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,!0):null;!e||e instanceof Es||(this.emitter.emit(as.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(as.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(as.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(as.events.COMPOSITION_END,t),this.isComposing=!1}};class Ns{static DEFAULTS={modules:{}};static themes={default:Ns};modules={};constructor(t,e){this.quill=t,this.options=e}init(){Object.keys(this.options.modules).forEach((t=>{null==this.modules[t]&&this.addModule(t)}))}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}const Ss=Ns,ks=t=>{const e=t.getBoundingClientRect(),r="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,n="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*r,bottom:e.top+t.clientHeight*n,left:e.left}},_s=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e},Ls=(t,e,r,n,s,i)=>t<r&&e>n?0:t<r?-(r-t+s):e>n?e-t>n-r?t+s-r:e-n+i:0,Ts=(t,e)=>{const r=t.ownerDocument;let n=e,s=t;for(;s;){const t=s===r.body,e=t?{top:0,right:window.visualViewport?.width??r.documentElement.clientWidth,bottom:window.visualViewport?.height??r.documentElement.clientHeight,left:0}:ks(s),o=getComputedStyle(s),l=Ls(n.left,n.right,e.left,e.right,_s(o.scrollPaddingLeft),_s(o.scrollPaddingRight)),a=Ls(n.top,n.bottom,e.top,e.bottom,_s(o.scrollPaddingTop),_s(o.scrollPaddingBottom));if(l||a)if(t)r.defaultView?.scrollBy(l,a);else{const{scrollLeft:t,scrollTop:e}=s;a&&(s.scrollTop+=a),l&&(s.scrollLeft+=l);const r=s.scrollLeft-t,i=s.scrollTop-e;n={left:n.left-r,top:n.top-i,right:n.right-r,bottom:n.bottom-i}}s=t||"fixed"===o.position?null:(i=s).parentElement||i.getRootNode().host||null}var i},Cs=["block","break","cursor","inline","scroll","text"],qs=(t,e,r)=>{const n=new Ke;return Cs.forEach((t=>{const r=e.query(t);r&&n.register(r)})),t.forEach((t=>{let s=e.query(t);s||r.error(`Cannot register "${t}" specified in "formats" config. Are you sure it was registered?`);let i=0;for(;s;)if(n.register(s),s="blotName"in s?s.requiredContainer??null:null,i+=1,i>100){r.error(`Cycle detected in registering blot requiredContainer: "${t}"`);break}})),n},js=os("quill"),Is=new Ke;sr.uiClass="ql-ui";class Ms{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Is,theme:"default"};static events=as.events;static sources=as.sources;static version="2.0.2";static imports={delta:vr,parchment:n,"core/module":ws,"core/theme":Ss};static debug(t){!0===t&&(t="log"),os.level(t)}static find(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return es.get(t)||Is.find(t,e)}static import(t){return null==this.imports[t]&&js.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if("string"!=typeof(arguments.length<=0?void 0:arguments[0])){const t=arguments.length<=0?void 0:arguments[0],e=!!(arguments.length<=1?void 0:arguments[1]),r="attrName"in t?t.attrName:t.blotName;"string"==typeof r?this.register(`formats/${r}`,t,e):Object.keys(t).forEach((r=>{this.register(r,t[r],e)}))}else{const t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],r=!!(arguments.length<=2?void 0:arguments[2]);null==this.imports[t]||r||js.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&e&&"boolean"!=typeof e&&"abstract"!==e.blotName&&Is.register(e),"function"==typeof e.register&&e.register(Is)}}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options=function(t,e){const r=Rs(t);if(!r)throw new Error("Invalid Quill container");const n=!e.theme||e.theme===Ms.DEFAULTS.theme,s=n?Ss:Ms.import(`themes/${e.theme}`);if(!s)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:i,...o}=Ms.DEFAULTS,{modules:l,...a}=s.DEFAULTS;let c=Fs(e.modules);null!=c&&c.toolbar&&c.toolbar.constructor!==Object&&(c={...c,toolbar:{container:c.toolbar}});const u=De({},Fs(i),Fs(l),c),h={...o,...Bs(a),...Bs(e)};let d=e.registry;d?e.formats&&js.warn('Ignoring "formats" option because "registry" is specified'):d=e.formats?qs(e.formats,h.registry,js):h.registry;return{...h,registry:d,container:r,theme:s,modules:Object.entries(u).reduce(((t,e)=>{let[r,n]=e;if(!n)return t;const s=Ms.import(`modules/${r}`);return null==s?(js.error(`Cannot load ${r} module. Are you sure you registered it?`),t):{...t,[r]:De({},s.DEFAULTS||{},n)}}),{}),bounds:Rs(h.bounds)}}(t,e),this.container=this.options.container,null==this.container)return void js.error("Invalid Quill container",t);this.options.debug&&Ms.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",es.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new as;const n=pr.blotName,s=this.options.registry.query(n);if(!s||!("blotName"in s))throw new Error(`Cannot initialize Quill without "${n}" blot`);if(this.scroll=new s(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new xs(this.scroll),this.selection=new ds(this.scroll,this.emitter),this.composition=new As(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(as.events.EDITOR_CHANGE,(t=>{t===as.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())})),this.emitter.on(as.events.SCROLL_UPDATE,((t,e)=>{const r=this.selection.lastRange,[n]=this.selection.getRange(),s=r&&n?{oldRange:r,newRange:n}:void 0;Ps.call(this,(()=>this.editor.update(null,e,s)),t)})),this.emitter.on(as.events.SCROLL_EMBED_UPDATE,((t,e)=>{const r=this.selection.lastRange,[n]=this.selection.getRange(),s=r&&n?{oldRange:r,newRange:n}:void 0;Ps.call(this,(()=>{const r=(new vr).retain(t.offset(this)).retain({[t.statics.blotName]:e});return this.editor.update(r,[],s)}),Ms.sources.USER)})),r){const t=this.clipboard.convert({html:`${r}<p><br></p>`,text:"\n"});this.setContents(t)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){const e=t;(t=document.createElement("div")).classList.add(e)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,r){return[t,e,,r]=Ds(t,e,r),Ps.call(this,(()=>this.editor.deleteText(t,e)),r,t,-1*e)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const e=t();return this.allowReadOnlyEdits=!1,e}enable(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:as.sources.API;return Ps.call(this,(()=>{const r=this.getSelection(!0);let n=new vr;if(null==r)return n;if(this.scroll.query(t,$e.BLOCK))n=this.editor.formatLine(r.index,r.length,{[t]:e});else{if(0===r.length)return this.selection.format(t,e),n;n=this.editor.formatText(r.index,r.length,{[t]:e})}return this.setSelection(r,as.sources.SILENT),n}),r)}formatLine(t,e,r,n,s){let i;return[t,e,i,s]=Ds(t,e,r,n,s),Ps.call(this,(()=>this.editor.formatLine(t,e,i)),s,t,0)}formatText(t,e,r,n,s){let i;return[t,e,i,s]=Ds(t,e,r,n,s),Ps.call(this,(()=>this.editor.formatText(t,e,i)),s,t,0)}getBounds(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=null;if(r="number"==typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length),!r)return null;const n=this.container.getBoundingClientRect();return{bottom:r.bottom-n.top,height:r.height,left:r.left-n.left,right:r.right-n.left,top:r.top-n.top,width:r.width}}getContents(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t;return[t,e]=Ds(t,e),this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return"number"==typeof t&&(e=e??this.getLength()-t),[t,e]=Ds(t,e),this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return"number"==typeof t&&(e=e??this.getLength()-t),[t,e]=Ds(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ms.sources.API;return Ps.call(this,(()=>this.editor.insertEmbed(t,e,r)),n,t)}insertText(t,e,r,n,s){let i;return[t,,i,s]=Ds(t,0,r,n,s),Ps.call(this,(()=>this.editor.insertText(t,e,i)),s,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,r){return[t,e,,r]=Ds(t,e,r),Ps.call(this,(()=>this.editor.removeFormat(t,e)),r,t)}scrollRectIntoView(t){Ts(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}setContents(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:as.sources.API;return Ps.call(this,(()=>{t=new vr(t);const e=this.getLength(),r=this.editor.deleteText(0,e),n=this.editor.insertContents(0,t),s=this.editor.deleteText(this.getLength()-1,1);return r.compose(n).compose(s)}),e)}setSelection(t,e,r){null==t?this.selection.setRange(null,e||Ms.sources.API):([t,e,,r]=Ds(t,e,r),this.selection.setRange(new us(Math.max(0,t),e),r),r!==as.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:as.sources.API;const r=(new vr).insert(t);return this.setContents(r,e)}update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as.sources.USER;const e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:as.sources.API;return Ps.call(this,(()=>(t=new vr(t),this.editor.applyDelta(t))),e,!0)}}function Rs(t){return"string"==typeof t?document.querySelector(t):t}function Fs(t){return Object.entries(t??{}).reduce(((t,e)=>{let[r,n]=e;return{...t,[r]:!0===n?{}:n}}),{})}function Bs(t){return Object.fromEntries(Object.entries(t).filter((t=>void 0!==t[1])))}function Ps(t,e,r,n){if(!this.isEnabled()&&e===as.sources.USER&&!this.allowReadOnlyEdits)return new vr;let s=null==r?null:this.getSelection();const i=this.editor.delta,o=t();if(null!=s&&(!0===r&&(r=s.index),null==n?s=$s(s,o,e):0!==n&&(s=$s(s,r,n,e)),this.setSelection(s,as.sources.SILENT)),o.length()>0){const t=[as.events.TEXT_CHANGE,o,i,e];this.emitter.emit(as.events.EDITOR_CHANGE,...t),e!==as.sources.SILENT&&this.emitter.emit(...t)}return o}function Ds(t,e,r,n,s){let i={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(s=n,n=r,r=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(s=n,n=r,r=e,e=0),"object"==typeof r?(i=r,s=n):"string"==typeof r&&(null!=n?i[r]=n:s=r),[t,e,i,s=s||as.sources.API]}function $s(t,e,r,n){const s="number"==typeof r?r:0;if(null==t)return null;let i,o;return e&&"function"==typeof e.transformPosition?[i,o]=[t.index,t.index+t.length].map((t=>e.transformPosition(t,n!==as.sources.USER))):[i,o]=[t.index,t.index+t.length].map((t=>t<e||t===e&&n===as.sources.USER?t:s>=0?t+s:Math.max(e,t+s))),new us(i,o-i)}const Us=class extends ur{};function Vs(t){return t instanceof Gn||t instanceof Zn}function zs(t){return"function"==typeof t.updateContent}function Ks(t,e,r){r.reduce(((e,r)=>{const n=vr.Op.length(r);let s=r.attributes||{};if(null!=r.insert)if("string"==typeof r.insert){const n=r.insert;t.insertAt(e,n);const[i]=t.descendant(tr,e),o=Xn(i);s=vr.AttributeMap.diff(o,s)||{}}else if("object"==typeof r.insert){const n=Object.keys(r.insert)[0];if(null==n)return e;t.insertAt(e,n,r.insert[n]);if(null!=t.scroll.query(n,$e.INLINE)){const[r]=t.descendant(tr,e),n=Xn(r);s=vr.AttributeMap.diff(n,s)||{}}}return Object.keys(s).forEach((r=>{t.formatAt(e,n,r,s[r])})),e+n}),e)}const Hs=class extends pr{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=Gn;static allowedChildren=[Gn,Zn,Us];constructor(t,e,r){let{emitter:n}=r;super(t,e),this.emitter=n,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",(t=>this.handleDragStart(t)))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(as.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(as.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(as.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[r,n]=this.line(t),[s]=this.line(t+e);if(super.deleteAt(t,e),null!=s&&r!==s&&n>0){if(r instanceof Zn||s instanceof Zn)return void this.optimize();const t=s.children.head instanceof Vn?null:s.children.head;r.moveChildren(s,t),r.remove()}this.optimize()}enable(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,r,n){super.formatAt(t,e,r,n),this.optimize()}insertAt(t,e,r){if(t>=this.length())if(null==r||null==this.scroll.query(e,$e.BLOCK)){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t),null==r&&e.endsWith("\n")?t.insertAt(0,e.slice(0,-1),r):t.insertAt(0,e,r)}else{const t=this.scroll.create(e,r);this.appendChild(t)}else super.insertAt(t,e,r);this.optimize()}insertBefore(t,e){if(t.statics.scope===$e.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(t),super.insertBefore(r,e)}else super.insertBefore(t,e)}insertContents(t,e){const r=this.deltaToRenderBlocks(e.concat((new vr).insert("\n"))),n=r.pop();if(null==n)return;this.batchStart();const s=r.shift();if(s){const e="block"===s.type&&(0===s.delta.length()||!this.descendant(Zn,t)[0]&&t<this.length()),r="block"===s.type?s.delta:(new vr).insert({[s.key]:s.value});Ks(this,t,r);const n="block"===s.type?1:0,i=t+r.length()+n;e&&this.insertAt(i-1,"\n");const o=Xn(this.line(t)[0]),l=vr.AttributeMap.diff(o,s.attributes)||{};Object.keys(l).forEach((t=>{this.formatAt(i-1,1,t,l[t])})),t=i}let[i,o]=this.children.find(t);if(r.length&&(i&&(i=i.split(o),o=0),r.forEach((t=>{if("block"===t.type){Ks(this.createBlock(t.attributes,i||void 0),0,t.delta)}else{const e=this.create(t.key,t.value);this.insertBefore(e,i||void 0),Object.keys(t.attributes).forEach((r=>{e.format(r,t.attributes[r])}))}}))),"block"===n.type&&n.delta.length()){Ks(this,i?i.offset(i.scroll)+o:this.length(),n.delta)}this.batchEnd(),this.optimize()}isEnabled(){return"true"===this.domNode.getAttribute("contenteditable")}leaf(t){const e=this.path(t).pop();if(!e)return[null,-1];const[r,n]=e;return r instanceof tr?[r,n]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(Vs,t)}lines(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;const r=(t,e,n)=>{let s=[],i=n;return t.children.forEachAt(e,n,((t,e,n)=>{Vs(t)?s.push(t):t instanceof ur&&(s=s.concat(r(t,e,i))),i-=n})),s};return r(this,t,e)}optimize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(super.optimize(t,e),t.length>0&&this.emitter.emit(as.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch)return void(Array.isArray(t)&&(this.batch=this.batch.concat(t)));let e=as.sources.USER;"string"==typeof t&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),(t=t.filter((t=>{let{target:e}=t;const r=this.find(e,!0);return r&&!zs(r)}))).length>0&&this.emitter.emit(as.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(as.events.SCROLL_UPDATE,e,t)}updateEmbedAt(t,e,r){const[n]=this.descendant((t=>t instanceof Zn),t);n&&n.statics.blotName===e&&zs(n)&&n.updateContent(r)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let r=new vr;return t.forEach((t=>{const n=t?.insert;if(n)if("string"==typeof n){const s=n.split("\n");s.slice(0,-1).forEach((n=>{r.insert(n,t.attributes),e.push({type:"block",delta:r,attributes:t.attributes??{}}),r=new vr}));const i=s[s.length-1];i&&r.insert(i,t.attributes)}else{const s=Object.keys(n)[0];if(!s)return;this.query(s,$e.INLINE)?r.push(t):(r.length()&&e.push({type:"block",delta:r,attributes:{}}),r=new vr,e.push({type:"blockEmbed",key:s,value:n[s],attributes:t.attributes??{}}))}})),r.length()&&e.push({type:"block",delta:r,attributes:{}}),e}createBlock(t,e){let r;const n={};Object.entries(t).forEach((t=>{let[e,s]=t;null!=this.query(e,$e.BLOCK&$e.BLOT)?r=e:n[e]=s}));const s=this.create(r||this.statics.defaultChild.blotName,r?t[r]:void 0);this.insertBefore(s,e||void 0);const i=s.length();return Object.entries(n).forEach((t=>{let[e,r]=t;s.formatAt(0,i,e,r)})),s}},Ws={scope:$e.BLOCK,whitelist:["right","center","justify"]},Gs=new Ue("align","align",Ws),Zs=new We("align","ql-align",Ws),Qs=new Ze("align","text-align",Ws);class Xs extends Ze{value(t){let e=super.value(t);if(!e.startsWith("rgb("))return e;e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");return`#${e.split(",").map((t=>`00${parseInt(t,10).toString(16)}`.slice(-2))).join("")}`}}const Ys=new We("color","ql-color",{scope:$e.INLINE}),Js=new Xs("color","color",{scope:$e.INLINE}),ti=new We("background","ql-bg",{scope:$e.INLINE}),ei=new Xs("background","background-color",{scope:$e.INLINE});class ri extends Us{static create(t){const e=super.create(t);return e.setAttribute("spellcheck","false"),e}code(t,e){return this.children.map((t=>t.length()<=1?"":t.domNode.innerText)).join("\n").slice(t,t+e)}html(t,e){return`<pre>\n${Kn(this.code(t,e))}\n</pre>`}}class ni extends Gn{static TAB="  ";static register(){Ms.register(ri)}}class si extends Wn{}si.blotName="code",si.tagName="CODE",ni.blotName="code-block",ni.className="ql-code-block",ni.tagName="DIV",ri.blotName="code-block-container",ri.className="ql-code-block-container",ri.tagName="DIV",ri.allowedChildren=[ni],ni.allowedChildren=[zn,Vn,Jn],ni.requiredContainer=ri;const ii={scope:$e.BLOCK,whitelist:["rtl"]},oi=new Ue("direction","dir",ii),li=new We("direction","ql-direction",ii),ai=new Ze("direction","direction",ii),ci={scope:$e.INLINE,whitelist:["serif","monospace"]},ui=new We("font","ql-font",ci);const hi=new class extends Ze{value(t){return super.value(t).replace(/["']/g,"")}}("font","font-family",ci),di=new We("size","ql-size",{scope:$e.INLINE,whitelist:["small","large","huge"]}),fi=new Ze("size","font-size",{scope:$e.INLINE,whitelist:["10px","18px","32px"]}),pi=os("quill:keyboard"),gi=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class mi extends ws{static match(t,e){return!["altKey","ctrlKey","metaKey","shiftKey"].some((r=>!!e[r]!==t[r]&&null!==e[r]))&&(e.key===t.key||e.key===t.which)}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach((t=>{this.options.bindings[t]&&this.addBinding(this.options.bindings[t])})),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},(()=>{})),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=function(t){if("string"==typeof t||"number"==typeof t)t={key:t};else{if("object"!=typeof t)return null;t=xn(t)}t.shortKey&&(t[gi]=t.shortKey,delete t.shortKey);return t}(t);if(null==n)return void pi.warn("Attempted to add invalid keyboard binding",n);"function"==typeof e&&(e={handler:e}),"function"==typeof r&&(r={handler:r});(Array.isArray(n.key)?n.key:[n.key]).forEach((t=>{const s={...n,key:t,...e,...r};this.bindings[s.key]=this.bindings[s.key]||[],this.bindings[s.key].push(s)}))}listen(){this.quill.root.addEventListener("keydown",(t=>{if(t.defaultPrevented||t.isComposing)return;if(229===t.keyCode&&("Enter"===t.key||"Backspace"===t.key))return;const e=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter((e=>mi.match(t,e)));if(0===e.length)return;const r=Ms.find(t.target,!0);if(r&&r.scroll!==this.quill.scroll)return;const n=this.quill.getSelection();if(null==n||!this.quill.hasFocus())return;const[s,i]=this.quill.getLine(n.index),[o,l]=this.quill.getLeaf(n.index),[a,c]=0===n.length?[o,l]:this.quill.getLeaf(n.index+n.length),u=o instanceof mr?o.value().slice(0,l):"",h=a instanceof mr?a.value().slice(c):"",d={collapsed:0===n.length,empty:0===n.length&&s.length()<=1,format:this.quill.getFormat(n),line:s,offset:i,prefix:u,suffix:h,event:t};e.some((t=>{if(null!=t.collapsed&&t.collapsed!==d.collapsed)return!1;if(null!=t.empty&&t.empty!==d.empty)return!1;if(null!=t.offset&&t.offset!==d.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((t=>null==d.format[t])))return!1}else if("object"==typeof t.format&&!Object.keys(t.format).every((e=>!0===t.format[e]?null!=d.format[e]:!1===t.format[e]?null==d.format[e]:$n(t.format[e],d.format[e]))))return!1;return!(null!=t.prefix&&!t.prefix.test(d.prefix))&&(!(null!=t.suffix&&!t.suffix.test(d.suffix))&&!0!==t.handler.call(this,n,d,t))}))&&t.preventDefault()}))}handleBackspace(t,e){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(0===t.index||this.quill.getLength()<=1)return;let n={};const[s]=this.quill.getLine(t.index);let i=(new vr).retain(t.index-r).delete(r);if(0===e.offset){const[e]=this.quill.getLine(t.index-1);if(e){if(!("block"===e.statics.blotName&&e.length()<=1)){const e=s.formats(),r=this.quill.getFormat(t.index-1,1);if(n=vr.AttributeMap.diff(e,r)||{},Object.keys(n).length>0){const e=(new vr).retain(t.index+s.length()-2).retain(1,n);i=i.compose(e)}}}}this.quill.updateContents(i,Ms.sources.USER),this.quill.focus()}handleDelete(t,e){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-r)return;let n={};const[s]=this.quill.getLine(t.index);let i=(new vr).retain(t.index).delete(r);if(e.offset>=s.length()-1){const[e]=this.quill.getLine(t.index+1);if(e){const r=s.formats(),o=this.quill.getFormat(t.index,1);n=vr.AttributeMap.diff(r,o)||{},Object.keys(n).length>0&&(i=i.retain(e.length()-1).retain(1,n))}}this.quill.updateContents(i,Ms.sources.USER),this.quill.focus()}handleDeleteRange(t){Oi({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,e){const r=Object.keys(e.format).reduce(((t,r)=>(this.quill.scroll.query(r,$e.BLOCK)&&!Array.isArray(e.format[r])&&(t[r]=e.format[r]),t)),{}),n=(new vr).retain(t.index).delete(t.length).insert("\n",r);this.quill.updateContents(n,Ms.sources.USER),this.quill.setSelection(t.index+1,Ms.sources.SILENT),this.quill.focus()}}const vi={bindings:{bold:xi("bold"),italic:xi("italic"),underline:xi("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return!(!e.collapsed||0===e.offset)||(this.quill.format("indent","+1",Ms.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return!(!e.collapsed||0===e.offset)||(this.quill.format("indent","-1",Ms.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){null!=e.format.indent?this.quill.format("indent","-1",Ms.sources.USER):null!=e.format.list&&this.quill.format("list",!1,Ms.sources.USER)}},"indent code-block":bi(!0),"outdent code-block":bi(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,Ms.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();const r=(new vr).retain(t.index).delete(t.length).insert("\t");return this.quill.updateContents(r,Ms.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,Ms.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,Ms.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){const r={list:!1};e.format.indent&&(r.indent=!1),this.quill.formatLine(t.index,t.length,r,Ms.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){const[e,r]=this.quill.getLine(t.index),n={...e.formats(),list:"checked"},s=(new vr).retain(t.index).insert("\n",n).retain(e.length()-r-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,Ms.sources.USER),this.quill.setSelection(t.index+1,Ms.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){const[r,n]=this.quill.getLine(t.index),s=(new vr).retain(t.index).insert("\n",e.format).retain(r.length()-n-1).retain(1,{header:null});this.quill.updateContents(s,Ms.sources.USER),this.quill.setSelection(t.index+1,Ms.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[r,n,s,i]=e.getTable(t),o=function(t,e,r,n){if(null==e.prev&&null==e.next)return null==r.prev&&null==r.next?0===n?-1:1:null==r.prev?-1:1;if(null==e.prev)return-1;if(null==e.next)return 1;return null}(0,n,s,i);if(null==o)return;let l=r.offset();if(o<0){const e=(new vr).retain(l).insert("\n");this.quill.updateContents(e,Ms.sources.USER),this.quill.setSelection(t.index+1,t.length,Ms.sources.SILENT)}else if(o>0){l+=r.length();const t=(new vr).retain(l).insert("\n");this.quill.updateContents(t,Ms.sources.USER),this.quill.setSelection(l,Ms.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:r,line:n}=e,s=n.offset(this.quill.scroll);r.shiftKey?this.quill.setSelection(s-1,Ms.sources.USER):this.quill.setSelection(s+n.length(),Ms.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(null==this.quill.scroll.query("list"))return!0;const{length:r}=e.prefix,[n,s]=this.quill.getLine(t.index);if(s>r)return!0;let i;switch(e.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(t.index," ",Ms.sources.USER),this.quill.history.cutoff();const o=(new vr).retain(t.index-s).delete(r+1).retain(n.length()-2-s).retain(1,{list:i});return this.quill.updateContents(o,Ms.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-r,Ms.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,r]=this.quill.getLine(t.index);let n=2,s=e;for(;null!=s&&s.length()<=1&&s.formats()["code-block"];)if(s=s.prev,n-=1,n<=0){const n=(new vr).retain(t.index+e.length()-r-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(n,Ms.sources.USER),this.quill.setSelection(t.index-1,Ms.sources.SILENT),!1}return!0}},"embed left":yi("ArrowLeft",!1),"embed left shift":yi("ArrowLeft",!0),"embed right":yi("ArrowRight",!1),"embed right shift":yi("ArrowRight",!0),"table down":wi(!1),"table up":wi(!0)}};function bi(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,r){let{event:n}=r;const s=this.quill.scroll.query("code-block"),{TAB:i}=s;if(0===e.length&&!n.shiftKey)return this.quill.insertText(e.index,i,Ms.sources.USER),void this.quill.setSelection(e.index+i.length,Ms.sources.SILENT);const o=0===e.length?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:l,length:a}=e;o.forEach(((e,r)=>{t?(e.insertAt(0,i),0===r?l+=i.length:a+=i.length):e.domNode.textContent.startsWith(i)&&(e.deleteAt(0,i.length),0===r?l-=i.length:a-=i.length)})),this.quill.update(Ms.sources.USER),this.quill.setSelection(l,a,Ms.sources.SILENT)}}}function yi(t,e){return{key:t,shiftKey:e,altKey:null,["ArrowLeft"===t?"prefix":"suffix"]:/^$/,handler(r){let{index:n}=r;"ArrowRight"===t&&(n+=r.length+1);const[s]=this.quill.getLeaf(n);return!(s instanceof hr)||("ArrowLeft"===t?e?this.quill.setSelection(r.index-1,r.length+1,Ms.sources.USER):this.quill.setSelection(r.index-1,Ms.sources.USER):e?this.quill.setSelection(r.index,r.length+1,Ms.sources.USER):this.quill.setSelection(r.index+r.length+1,Ms.sources.USER),!1)}}}function xi(t){return{key:t[0],shortKey:!0,handler(e,r){this.quill.format(t,!r.format[t],Ms.sources.USER)}}}function wi(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,r){const n=t?"prev":"next",s=r.line,i=s.parent[n];if(null!=i){if("table-row"===i.statics.blotName){let t=i.children.head,e=s;for(;null!=e.prev;)e=e.prev,t=t.next;const n=t.offset(this.quill.scroll)+Math.min(r.offset,t.length()-1);this.quill.setSelection(n,0,Ms.sources.USER)}}else{const e=s.table()[n];null!=e&&(t?this.quill.setSelection(e.offset(this.quill.scroll)+e.length()-1,0,Ms.sources.USER):this.quill.setSelection(e.offset(this.quill.scroll),0,Ms.sources.USER))}return!1}}}function Oi(t){let{quill:e,range:r}=t;const n=e.getLines(r);let s={};if(n.length>1){const t=n[0].formats(),e=n[n.length-1].formats();s=vr.AttributeMap.diff(e,t)||{}}e.deleteText(r,Ms.sources.USER),Object.keys(s).length>0&&e.formatLine(r.index,1,s,Ms.sources.USER),e.setSelection(r.index,Ms.sources.SILENT)}mi.DEFAULTS=vi;const Ei=/font-weight:\s*normal/,Ai=["P","OL","UL"],Ni=t=>t&&Ai.includes(t.tagName);const Si=/\bmso-list:[^;]*ignore/i,ki=/\bmso-list:[^;]*\bl(\d+)/i,_i=/\bmso-list:[^;]*\blevel(\d+)/i,Li=t=>{const e=Array.from(t.querySelectorAll("[style*=mso-list]")),r=[],n=[];e.forEach((t=>{(t.getAttribute("style")||"").match(Si)?r.push(t):n.push(t)})),r.forEach((t=>t.parentNode?.removeChild(t)));const s=t.documentElement.innerHTML,i=n.map((t=>((t,e)=>{const r=t.getAttribute("style"),n=r?.match(ki);if(!n)return null;const s=Number(n[1]),i=r?.match(_i),o=i?Number(i[1]):1,l=new RegExp(`@list l${s}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),a=e.match(l);return{id:s,indent:o,type:a&&"bullet"===a[1]?"bullet":"ordered",element:t}})(t,s))).filter((t=>t));for(;i.length;){const t=[];let e=i.shift();for(;e;)t.push(e),e=i.length&&i[0]?.element===e.element.nextElementSibling&&i[0].id===e.id?i.shift():null;const r=document.createElement("ul");t.forEach((t=>{const e=document.createElement("li");e.setAttribute("data-list",t.type),t.indent>1&&e.setAttribute("class","ql-indent-"+(t.indent-1)),e.innerHTML=t.element.innerHTML,r.appendChild(e)}));const n=t[0]?.element,{parentNode:s}=n??{};n&&s?.replaceChild(r,n),t.slice(1).forEach((t=>{let{element:e}=t;s?.removeChild(e)}))}};const Ti=[function(t){"urn:schemas-microsoft-com:office:word"===t.documentElement.getAttribute("xmlns:w")&&Li(t)},function(t){t.querySelector('[id^="docs-internal-guid-"]')&&((t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter((t=>t.getAttribute("style")?.match(Ei))).forEach((e=>{const r=t.createDocumentFragment();r.append(...e.childNodes),e.parentNode?.replaceChild(r,e)}))})(t),(t=>{Array.from(t.querySelectorAll("br")).filter((t=>Ni(t.previousElementSibling)&&Ni(t.nextElementSibling))).forEach((t=>{t.parentNode?.removeChild(t)}))})(t))}],Ci=t=>{t.documentElement&&Ti.forEach((e=>{e(t)}))},qi=os("quill:clipboard"),ji=[[Node.TEXT_NODE,function(t,e,r){let n=t.data;if("O:P"===t.parentElement?.tagName)return e.insert(n.trim());if(!Di(t)){if(0===n.trim().length&&n.includes("\n")&&!function(t,e){return t.previousElementSibling&&t.nextElementSibling&&!Bi(t.previousElementSibling,e)&&!Bi(t.nextElementSibling,e)}(t,r))return e;const s=(t,e)=>{const r=e.replace(/[^\u00a0]/g,"");return r.length<1&&t?" ":r};n=n.replace(/\r\n/g," ").replace(/\n/g," "),n=n.replace(/\s\s+/g,s.bind(s,!0)),(null==t.previousSibling&&null!=t.parentElement&&Bi(t.parentElement,r)||t.previousSibling instanceof Element&&Bi(t.previousSibling,r))&&(n=n.replace(/^\s+/,s.bind(s,!1))),(null==t.nextSibling&&null!=t.parentElement&&Bi(t.parentElement,r)||t.nextSibling instanceof Element&&Bi(t.nextSibling,r))&&(n=n.replace(/\s+$/,s.bind(s,!1)))}return e.insert(n)}],[Node.TEXT_NODE,Vi],["br",function(t,e){Fi(e,"\n")||e.insert("\n");return e}],[Node.ELEMENT_NODE,Vi],[Node.ELEMENT_NODE,function(t,e,r){const n=r.query(t);if(null==n)return e;if(n.prototype instanceof hr){const e={},s=n.value(t);if(null!=s)return e[n.blotName]=s,(new vr).insert(e,n.formats(t,r))}else if(n.prototype instanceof ar&&!Fi(e,"\n")&&e.insert("\n"),"blotName"in n&&"formats"in n&&"function"==typeof n.formats)return Ri(e,n.blotName,n.formats(t,r),r);return e}],[Node.ELEMENT_NODE,function(t,e,r){const n=Ue.keys(t),s=We.keys(t),i=Ze.keys(t),o={};return n.concat(s).concat(i).forEach((e=>{let n=r.query(e,$e.ATTRIBUTE);null!=n&&(o[n.attrName]=n.value(t),o[n.attrName])||(n=Ii[e],null==n||n.attrName!==e&&n.keyName!==e||(o[n.attrName]=n.value(t)||void 0),n=Mi[e],null==n||n.attrName!==e&&n.keyName!==e||(n=Mi[e],o[n.attrName]=n.value(t)||void 0))})),Object.entries(o).reduce(((t,e)=>{let[n,s]=e;return Ri(t,n,s,r)}),e)}],[Node.ELEMENT_NODE,function(t,e,r){const n={},s=t.style||{};"italic"===s.fontStyle&&(n.italic=!0);"underline"===s.textDecoration&&(n.underline=!0);"line-through"===s.textDecoration&&(n.strike=!0);(s.fontWeight?.startsWith("bold")||parseInt(s.fontWeight,10)>=700)&&(n.bold=!0);if(e=Object.entries(n).reduce(((t,e)=>{let[n,s]=e;return Ri(t,n,s,r)}),e),parseFloat(s.textIndent||0)>0)return(new vr).insert("\t").concat(e);return e}],["li",function(t,e,r){const n=r.query(t);if(null==n||"list"!==n.blotName||!Fi(e,"\n"))return e;let s=-1,i=t.parentNode;for(;null!=i;)["OL","UL"].includes(i.tagName)&&(s+=1),i=i.parentNode;return s<=0?e:e.reduce(((t,e)=>e.insert?e.attributes&&"number"==typeof e.attributes.indent?t.push(e):t.insert(e.insert,{indent:s,...e.attributes||{}}):t),new vr)}],["ol, ul",function(t,e,r){const n=t;let s="OL"===n.tagName?"ordered":"bullet";const i=n.getAttribute("data-checked");i&&(s="true"===i?"checked":"unchecked");return Ri(e,"list",s,r)}],["pre",function(t,e,r){const n=r.query("code-block"),s=!n||!("formats"in n)||"function"!=typeof n.formats||n.formats(t,r);return Ri(e,"code-block",s,r)}],["tr",function(t,e,r){const n="TABLE"===t.parentElement?.tagName?t.parentElement:t.parentElement?.parentElement;if(null!=n){return Ri(e,"table",Array.from(n.querySelectorAll("tr")).indexOf(t)+1,r)}return e}],["b",Ui("bold")],["i",Ui("italic")],["strike",Ui("strike")],["style",function(){return new vr}]],Ii=[Gs,oi].reduce(((t,e)=>(t[e.keyName]=e,t)),{}),Mi=[Qs,ei,Js,ai,hi,fi].reduce(((t,e)=>(t[e.keyName]=e,t)),{});function Ri(t,e,r,n){return n.query(e)?t.reduce(((t,n)=>{if(!n.insert)return t;if(n.attributes&&n.attributes[e])return t.push(n);const s=r?{[e]:r}:{};return t.insert(n.insert,{...s,...n.attributes})}),new vr):t}function Fi(t,e){let r="";for(let n=t.ops.length-1;n>=0&&r.length<e.length;--n){const e=t.ops[n];if("string"!=typeof e.insert)break;r=e.insert+r}return r.slice(-1*e.length)===e}function Bi(t,e){if(!(t instanceof Element))return!1;const r=e.query(t);return!(r&&r.prototype instanceof hr)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}const Pi=new WeakMap;function Di(t){return null!=t&&(Pi.has(t)||("PRE"===t.tagName?Pi.set(t,!0):Pi.set(t,Di(t.parentNode))),Pi.get(t))}function $i(t,e,r,n,s){return e.nodeType===e.TEXT_NODE?n.reduce(((r,n)=>n(e,r,t)),new vr):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce(((i,o)=>{let l=$i(t,o,r,n,s);return o.nodeType===e.ELEMENT_NODE&&(l=r.reduce(((e,r)=>r(o,e,t)),l),l=(s.get(o)||[]).reduce(((e,r)=>r(o,e,t)),l)),i.concat(l)}),new vr):new vr}function Ui(t){return(e,r,n)=>Ri(r,t,!0,n)}function Vi(t,e,r){if(!Fi(e,"\n")){if(Bi(t,r)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert("\n");if(e.length()>0&&t.nextSibling){let n=t.nextSibling;for(;null!=n;){if(Bi(n,r))return e.insert("\n");const t=r.query(n);if(t&&t.prototype instanceof Zn)return e.insert("\n");n=n.firstChild}}}return e}function zi(t,e){let r=e;for(let e=t.length-1;e>=0;e-=1){const n=t[e];t[e]={delta:r.transform(n.delta,!0),range:n.range&&Ki(n.range,r)},r=n.delta.transform(r),0===t[e].delta.length()&&t.splice(e,1)}}function Ki(t,e){if(!t)return t;const r=e.transformPosition(t.index);return{index:r,length:e.transformPosition(t.index+t.length)-r}}class Hi extends ws{constructor(t,e){super(t,e),t.root.addEventListener("drop",(e=>{e.preventDefault();let r=null;if(document.caretRangeFromPoint)r=document.caretRangeFromPoint(e.clientX,e.clientY);else if(document.caretPositionFromPoint){const t=document.caretPositionFromPoint(e.clientX,e.clientY);r=document.createRange(),r.setStart(t.offsetNode,t.offset),r.setEnd(t.offsetNode,t.offset)}const n=r&&t.selection.normalizeNative(r);if(n){const r=t.selection.normalizedToRange(n);e.dataTransfer?.files&&this.upload(r,e.dataTransfer.files)}}))}upload(t,e){const r=[];Array.from(e).forEach((t=>{t&&this.options.mimetypes?.includes(t.type)&&r.push(t)})),r.length>0&&this.options.handler.call(this,t,r)}}Hi.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image"))return;const r=e.map((t=>new Promise((e=>{const r=new FileReader;r.onload=()=>{e(r.result)},r.readAsDataURL(t)}))));Promise.all(r).then((e=>{const r=e.reduce(((t,e)=>t.insert({image:e})),(new vr).retain(t.index).delete(t.length));this.quill.updateContents(r,as.sources.USER),this.quill.setSelection(t.index+e.length,as.sources.SILENT)}))}};const Wi=Hi,Gi=["insertText","insertReplacementText"];const Zi=class extends ws{constructor(t,e){super(t,e),t.root.addEventListener("beforeinput",(t=>{this.handleBeforeInput(t)})),/Android/i.test(navigator.userAgent)||t.on(Ms.events.COMPOSITION_BEFORE_START,(()=>{this.handleCompositionStart()}))}deleteRange(t){Oi({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===t.length)return!1;if(e){const r=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents((new vr).retain(t.index).insert(e,r),Ms.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,Ms.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!Gi.includes(t.inputType))return;const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||!0===e.collapsed)return;const r=function(t){if("string"==typeof t.data)return t.data;if(t.dataTransfer?.types.includes("text/plain"))return t.dataTransfer.getData("text/plain");return null}(t);if(null==r)return;const n=this.quill.selection.normalizeNative(e),s=n?this.quill.selection.normalizedToRange(n):null;s&&this.replaceText(s,r)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}},Qi=/Mac/i.test(navigator.platform);const Xi=class extends ws{isListening=!1;selectionChangeDeadline=0;constructor(t,e){super(t,e),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,e){let{line:r,event:n}=e;if(!(r instanceof sr&&r.uiNode))return!0;const s="rtl"===getComputedStyle(r.domNode).direction;return!!(s&&"ArrowRight"!==n.key||!s&&"ArrowLeft"!==n.key)||(this.quill.setSelection(t.index-1,t.length+(n.shiftKey?1:0),Ms.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",(t=>{!t.defaultPrevented&&(t=>"ArrowLeft"===t.key||"ArrowRight"===t.key||"ArrowUp"===t.key||"ArrowDown"===t.key||"Home"===t.key||!(!Qi||"a"!==t.key||!0!==t.ctrlKey))(t)&&this.ensureListeningToSelectionChange()}))}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+100,this.isListening)return;this.isListening=!0;document.addEventListener("selectionchange",(()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()}),{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const e=t.getRangeAt(0);if(!0!==e.collapsed||0!==e.startOffset)return;const r=this.quill.scroll.find(e.startContainer);if(!(r instanceof sr&&r.uiNode))return;const n=document.createRange();n.setStartAfter(r.uiNode),n.setEndAfter(r.uiNode),t.removeAllRanges(),t.addRange(n)}};Ms.register({"blots/block":Gn,"blots/block/embed":Zn,"blots/break":Vn,"blots/container":Us,"blots/cursor":Jn,"blots/embed":Es,"blots/inline":Wn,"blots/scroll":Hs,"blots/text":zn,"modules/clipboard":class extends ws{static DEFAULTS={matchers:[]};constructor(t,e){super(t,e),this.quill.root.addEventListener("copy",(t=>this.onCaptureCopy(t,!1))),this.quill.root.addEventListener("cut",(t=>this.onCaptureCopy(t,!0))),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],ji.concat(this.options.matchers??[]).forEach((t=>{let[e,r]=t;this.addMatcher(e,r)}))}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:r}=t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n[ni.blotName])return(new vr).insert(r||"",{[ni.blotName]:n[ni.blotName]});if(!e)return(new vr).insert(r||"",n);const s=this.convertHTML(e);return Fi(s,"\n")&&(null==s.ops[s.ops.length-1].attributes||n.table)?s.compose((new vr).retain(s.length()-1).delete(1)):s}normalizeHTML(t){Ci(t)}convertHTML(t){const e=(new DOMParser).parseFromString(t,"text/html");this.normalizeHTML(e);const r=e.body,n=new WeakMap,[s,i]=this.prepareMatching(r,n);return $i(this.quill.scroll,r,s,i,n)}dangerouslyPasteHTML(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ms.sources.API;if("string"==typeof t){const r=this.convert({html:t,text:""});this.quill.setContents(r,e),this.quill.setSelection(0,Ms.sources.SILENT)}else{const n=this.convert({html:e,text:""});this.quill.updateContents((new vr).retain(t).concat(n),r),this.quill.setSelection(t+n.length(),Ms.sources.SILENT)}}onCaptureCopy(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.defaultPrevented)return;t.preventDefault();const[r]=this.quill.selection.getRange();if(null==r)return;const{html:n,text:s}=this.onCopy(r,e);t.clipboardData?.setData("text/plain",s),t.clipboardData?.setData("text/html",n),e&&Oi({range:r,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter((t=>"#"!==t[0])).join("\n")}onCapturePaste(t){if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(!0);if(null==e)return;const r=t.clipboardData?.getData("text/html");let n=t.clipboardData?.getData("text/plain");if(!r&&!n){const e=t.clipboardData?.getData("text/uri-list");e&&(n=this.normalizeURIList(e))}const s=Array.from(t.clipboardData?.files||[]);if(!r&&s.length>0)this.quill.uploader.upload(e,s);else{if(r&&s.length>0){const t=(new DOMParser).parseFromString(r,"text/html");if(1===t.body.childElementCount&&"IMG"===t.body.firstElementChild?.tagName)return void this.quill.uploader.upload(e,s)}this.onPaste(e,{html:r,text:n})}}onCopy(t){const e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}onPaste(t,e){let{text:r,html:n}=e;const s=this.quill.getFormat(t.index),i=this.convert({text:r,html:n},s);qi.log("onPaste",i,{text:r,html:n});const o=(new vr).retain(t.index).delete(t.length).concat(i);this.quill.updateContents(o,Ms.sources.USER),this.quill.setSelection(o.length()-t.length,Ms.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const r=[],n=[];return this.matchers.forEach((s=>{const[i,o]=s;switch(i){case Node.TEXT_NODE:n.push(o);break;case Node.ELEMENT_NODE:r.push(o);break;default:Array.from(t.querySelectorAll(i)).forEach((t=>{if(e.has(t)){const r=e.get(t);r?.push(o)}else e.set(t,[o])}))}})),[r,n]}},"modules/history":class extends ws{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(t,e){super(t,e),this.quill.on(Ms.events.EDITOR_CHANGE,((t,e,r,n)=>{t===Ms.events.SELECTION_CHANGE?e&&n!==Ms.sources.SILENT&&(this.currentRange=e):t===Ms.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&n!==Ms.sources.USER?this.transform(e):this.record(e,r)),this.currentRange=Ki(this.currentRange,e))})),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",(t=>{"historyUndo"===t.inputType?(this.undo(),t.preventDefault()):"historyRedo"===t.inputType&&(this.redo(),t.preventDefault())}))}change(t,e){if(0===this.stack[t].length)return;const r=this.stack[t].pop();if(!r)return;const n=this.quill.getContents(),s=r.delta.invert(n);this.stack[e].push({delta:s,range:Ki(r.range,s)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r.delta,Ms.sources.USER),this.ignoreChange=!1,this.restoreSelection(r)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,e){if(0===t.ops.length)return;this.stack.redo=[];let r=t.invert(e),n=this.currentRange;const s=Date.now();if(this.lastRecorded+this.options.delay>s&&this.stack.undo.length>0){const t=this.stack.undo.pop();t&&(r=r.compose(t.delta),n=t.range)}else this.lastRecorded=s;0!==r.length()&&(this.stack.undo.push({delta:r,range:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){zi(this.stack.undo,t),zi(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,Ms.sources.USER);else{const e=function(t,e){const r=e.reduce(((t,e)=>t+(e.delete||0)),0);let n=e.length()-r;(function(t,e){const r=e.ops[e.ops.length-1];if(null==r)return!1;if(null!=r.insert)return"string"==typeof r.insert&&r.insert.endsWith("\n");if(null!=r.attributes)return Object.keys(r.attributes).some((e=>null!=t.query(e,$e.BLOCK)));return!1})(t,e)&&(n-=1);return n}(this.quill.scroll,t.delta);this.quill.setSelection(e,Ms.sources.USER)}}},"modules/keyboard":mi,"modules/uploader":Wi,"modules/input":Zi,"modules/uiNode":Xi});const Yi=Ms;const Ji=new class extends We{add(t,e){let r=0;if("+1"===e||"-1"===e){const n=this.value(t)||0;r="+1"===e?n+1:n-1}else"number"==typeof e&&(r=e);return 0===r?(this.remove(t),!0):super.add(t,r.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||void 0}}("indent","ql-indent",{scope:$e.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),to=Ji;const eo=class extends Gn{static blotName="blockquote";static tagName="blockquote"};const ro=class extends Gn{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(t){return this.tagName.indexOf(t.tagName)+1}};class no extends Us{}no.blotName="list-container",no.tagName="OL";class so extends Gn{static create(t){const e=super.create();return e.setAttribute("data-list",t),e}static formats(t){return t.getAttribute("data-list")||void 0}static register(){Ms.register(no)}constructor(t,e){super(t,e);const r=e.ownerDocument.createElement("span"),n=r=>{if(!t.isEnabled())return;const n=this.statics.formats(e,t);"checked"===n?(this.format("list","unchecked"),r.preventDefault()):"unchecked"===n&&(this.format("list","checked"),r.preventDefault())};r.addEventListener("mousedown",n),r.addEventListener("touchstart",n),this.attachUI(r)}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):super.format(t,e)}}so.blotName="list",so.tagName="LI",no.allowedChildren=[so],so.requiredContainer=no;const io=class extends Wn{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}};const oo=class extends io{static blotName="italic";static tagName=["EM","I"]};class lo extends Wn{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(t){const e=super.create(t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){return ao(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("href",this.constructor.sanitize(e)):super.format(t,e)}}function ao(t,e){const r=document.createElement("a");r.href=t;const n=r.href.slice(0,r.href.indexOf(":"));return e.indexOf(n)>-1}const co=class extends Wn{static blotName="script";static tagName=["SUB","SUP"];static create(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):super.create(t)}static formats(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}};const uo=class extends io{static blotName="strike";static tagName=["S","STRIKE"]};const ho=class extends Wn{static blotName="underline";static tagName="U"};const fo=class extends Es{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(t){if(null==window.katex)throw new Error("Formula module requires KaTeX.");const e=super.create(t);return"string"==typeof t&&(window.katex.render(t,e,{throwOnError:!1,errorColor:"#f00"}),e.setAttribute("data-value",t)),e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}},po=["alt","height","width"];const go=class extends hr{static blotName="image";static tagName="IMG";static create(t){const e=super.create(t);return"string"==typeof t&&e.setAttribute("src",this.sanitize(t)),e}static formats(t){return po.reduce(((e,r)=>(t.hasAttribute(r)&&(e[r]=t.getAttribute(r)),e)),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return ao(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){po.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}},mo=["height","width"];const vo=class extends Zn{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(t){const e=super.create(t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),e.setAttribute("src",this.sanitize(t)),e}static formats(t){return mo.reduce(((e,r)=>(t.hasAttribute(r)&&(e[r]=t.getAttribute(r)),e)),{})}static sanitize(t){return lo.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){mo.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}},bo=new We("code-token","hljs",{scope:$e.INLINE});class yo extends Wn{static formats(t,e){for(;null!=t&&t!==e.domNode;){if(t.classList&&t.classList.contains(ni.className))return super.formats(t,e);t=t.parentNode}}constructor(t,e,r){super(t,e,r),bo.add(this.domNode,r)}format(t,e){t!==yo.blotName?super.format(t,e):e?bo.add(this.domNode,e):(bo.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),bo.value(this.domNode)||this.unwrap()}}yo.blotName="code-token",yo.className="ql-token";class xo extends ni{static create(t){const e=super.create(t);return"string"==typeof t&&e.setAttribute("data-language",t),e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-language",e):super.format(t,e)}replaceWith(t,e){return this.formatAt(0,this.length(),yo.blotName,!1),super.replaceWith(t,e)}}class wo extends ri{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,e){t===xo.blotName&&(this.forceNext=!0,this.children.forEach((r=>{r.format(t,e)})))}formatAt(t,e,r,n){r===xo.blotName&&(this.forceNext=!0),super.formatAt(t,e,r,n)}highlight(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==this.children.head)return;const r=`${Array.from(this.domNode.childNodes).filter((t=>t!==this.uiNode)).map((t=>t.textContent)).join("\n")}\n`,n=xo.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==r){if(r.trim().length>0||null==this.cachedText){const e=this.children.reduce(((t,e)=>t.concat(Qn(e,!1))),new vr),s=t(r,n);e.diff(s).reduce(((t,e)=>{let{retain:r,attributes:n}=e;return r?(n&&Object.keys(n).forEach((e=>{[xo.blotName,yo.blotName].includes(e)&&this.formatAt(t,r,e,n[e])})),t+r):t}),0)}this.cachedText=r,this.forceNext=!1}}html(t,e){const[r]=this.children.find(t);return`<pre data-language="${r?xo.formats(r.domNode):"plain"}">\n${Kn(this.code(t,e))}\n</pre>`}optimize(t){if(super.optimize(t),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){const t=xo.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}wo.allowedChildren=[xo],xo.requiredContainer=wo,xo.allowedChildren=[yo,Jn,zn,Vn];class Oo extends ws{static register(){Ms.register(yo,!0),Ms.register(xo,!0),Ms.register(wo,!0)}constructor(t,e){if(super(t,e),null==this.options.hljs)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce(((t,e)=>{let{key:r}=e;return t[r]=!0,t}),{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(Ms.events.SCROLL_BLOT_MOUNT,(t=>{if(!(t instanceof wo))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach((t=>{let{key:r,label:n}=t;const s=e.ownerDocument.createElement("option");s.textContent=n,s.setAttribute("value",r),e.appendChild(s)})),e.addEventListener("change",(()=>{t.format(xo.blotName,e.value),this.quill.root.focus(),this.highlight(t,!0)})),null==t.uiNode&&(t.attachUI(e),t.children.head&&(e.value=xo.formats(t.children.head.domNode)))}))}initTimer(){let t=null;this.quill.on(Ms.events.SCROLL_OPTIMIZE,(()=>{t&&clearTimeout(t),t=setTimeout((()=>{this.highlight(),t=null}),this.options.interval)}))}highlight(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(Ms.sources.USER);const r=this.quill.getSelection();(null==t?this.quill.scroll.descendants(wo):[t]).forEach((t=>{t.highlight(this.highlightBlot,e)})),this.quill.update(Ms.sources.SILENT),null!=r&&this.quill.setSelection(r,Ms.sources.SILENT)}highlightBlot(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if(e=this.languages[e]?e:"plain","plain"===e)return Kn(t).split("\n").reduce(((t,r,n)=>(0!==n&&t.insert("\n",{[ni.blotName]:e}),t.insert(r))),new vr);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(ni.className),r.innerHTML=((t,e,r)=>{if("string"==typeof t.versionString){const n=t.versionString.split(".")[0];if(parseInt(n,10)>=11)return t.highlight(r,{language:e}).value}return t.highlight(e,r).value})(this.options.hljs,e,t),$i(this.quill.scroll,r,[(t,e)=>{const r=bo.value(t);return r?e.compose((new vr).retain(e.length(),{[yo.blotName]:r})):e}],[(t,r)=>t.data.split("\n").reduce(((t,r,n)=>(0!==n&&t.insert("\n",{[ni.blotName]:e}),t.insert(r))),r)],new WeakMap)}}Oo.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class Eo extends Gn{static blotName="table";static tagName="TD";static create(t){const e=super.create();return t?e.setAttribute("data-row",t):e.setAttribute("data-row",ko()),e}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,e){t===Eo.blotName&&e?this.domNode.setAttribute("data-row",e):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class Ao extends Us{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){const t=this.children.head.formats(),e=this.children.tail.formats(),r=this.next.children.head.formats(),n=this.next.children.tail.formats();return t.table===e.table&&t.table===r.table&&t.table===n.table}return!1}optimize(t){super.optimize(t),this.children.forEach((t=>{if(null==t.next)return;const e=t.formats(),r=t.next.formats();if(e.table!==r.table){const e=this.splitAfter(t);e&&e.optimize(),this.prev&&this.prev.optimize()}}))}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class No extends Us{static blotName="table-body";static tagName="TBODY"}class So extends Us{static blotName="table-container";static tagName="TABLE";balanceCells(){const t=this.descendants(Ao),e=t.reduce(((t,e)=>Math.max(e.children.length,t)),0);t.forEach((t=>{new Array(e-t.children.length).fill(0).forEach((()=>{let e;null!=t.children.head&&(e=Eo.formats(t.children.head.domNode));const r=this.scroll.create(Eo.blotName,e);t.appendChild(r),r.optimize()}))}))}cells(t){return this.rows().map((e=>e.children.at(t)))}deleteColumn(t){const[e]=this.descendant(No);null!=e&&null!=e.children.head&&e.children.forEach((e=>{const r=e.children.at(t);null!=r&&r.remove()}))}insertColumn(t){const[e]=this.descendant(No);null!=e&&null!=e.children.head&&e.children.forEach((e=>{const r=e.children.at(t),n=Eo.formats(e.children.head.domNode),s=this.scroll.create(Eo.blotName,n);e.insertBefore(s,r)}))}insertRow(t){const[e]=this.descendant(No);if(null==e||null==e.children.head)return;const r=ko(),n=this.scroll.create(Ao.blotName);e.children.head.children.forEach((()=>{const t=this.scroll.create(Eo.blotName,r);n.appendChild(t)}));const s=e.children.at(t);e.insertBefore(n,s)}rows(){const t=this.children.head;return null==t?[]:t.children.map((t=>t))}}function ko(){return`row-${Math.random().toString(36).slice(2,6)}`}So.allowedChildren=[No],No.requiredContainer=So,No.allowedChildren=[Ao],Ao.requiredContainer=No,Ao.allowedChildren=[Eo],Eo.requiredContainer=Ao;const _o=class extends ws{static register(){Ms.register(Eo),Ms.register(Ao),Ms.register(No),Ms.register(So)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(So).forEach((t=>{t.balanceCells()}))}deleteColumn(){const[t,,e]=this.getTable();null!=e&&(t.deleteColumn(e.cellOffset()),this.quill.update(Ms.sources.USER))}deleteRow(){const[,t]=this.getTable();null!=t&&(t.remove(),this.quill.update(Ms.sources.USER))}deleteTable(){const[t]=this.getTable();if(null==t)return;const e=t.offset();t.remove(),this.quill.update(Ms.sources.USER),this.quill.setSelection(e,Ms.sources.SILENT)}getTable(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(null==t)return[null,null,null,-1];const[e,r]=this.quill.getLine(t.index);if(null==e||e.statics.blotName!==Eo.blotName)return[null,null,null,-1];const n=e.parent;return[n.parent.parent,n,e,r]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[r,n,s]=this.getTable(e);if(null==s)return;const i=s.cellOffset();r.insertColumn(i+t),this.quill.update(Ms.sources.USER);let o=n.rowOffset();0===t&&(o+=1),this.quill.setSelection(e.index+o,e.length,Ms.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[r,n,s]=this.getTable(e);if(null==s)return;const i=n.rowOffset();r.insertRow(i+t),this.quill.update(Ms.sources.USER),t>0?this.quill.setSelection(e,Ms.sources.SILENT):this.quill.setSelection(e.index+n.children.length,e.length,Ms.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const r=this.quill.getSelection();if(null==r)return;const n=new Array(t).fill(0).reduce((t=>{const r=new Array(e).fill("\n").join("");return t.insert(r,{table:ko()})}),(new vr).retain(r.index));this.quill.updateContents(n,Ms.sources.USER),this.quill.setSelection(r.index,Ms.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(Ms.events.SCROLL_OPTIMIZE,(t=>{t.some((t=>!!["TD","TR","TBODY","TABLE"].includes(t.target.tagName)&&(this.quill.once(Ms.events.TEXT_CHANGE,((t,e,r)=>{r===Ms.sources.USER&&this.balanceTables()})),!0)))}))}},Lo=os("quill:toolbar");class To extends ws{constructor(t,e){if(super(t,e),Array.isArray(this.options.container)){const e=document.createElement("div");e.setAttribute("role","toolbar"),function(t,e){Array.isArray(e[0])||(e=[e]);e.forEach((e=>{const r=document.createElement("span");r.classList.add("ql-formats"),e.forEach((t=>{if("string"==typeof t)Co(r,t);else{const e=Object.keys(t)[0],n=t[e];Array.isArray(n)?function(t,e,r){const n=document.createElement("select");n.classList.add(`ql-${e}`),r.forEach((t=>{const e=document.createElement("option");!1!==t?e.setAttribute("value",String(t)):e.setAttribute("selected","selected"),n.appendChild(e)})),t.appendChild(n)}(r,e,n):Co(r,e,n)}})),t.appendChild(r)}))}(e,this.options.container),t.container?.parentNode?.insertBefore(e,t.container),this.container=e}else"string"==typeof this.options.container?this.container=document.querySelector(this.options.container):this.container=this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach((t=>{const e=this.options.handlers?.[t];e&&this.addHandler(t,e)})),Array.from(this.container.querySelectorAll("button, select")).forEach((t=>{this.attach(t)})),this.quill.on(Ms.events.EDITOR_CHANGE,(()=>{const[t]=this.quill.selection.getRange();this.update(t)}))):Lo.error("Container required for toolbar",this.options)}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find((t=>0===t.indexOf("ql-")));if(!e)return;if(e=e.slice(3),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[e]&&null==this.quill.scroll.query(e))return void Lo.warn("ignoring attaching to nonexistent format",e,t);const r="SELECT"===t.tagName?"change":"click";t.addEventListener(r,(r=>{let n;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;const e=t.options[t.selectedIndex];n=!e.hasAttribute("selected")&&(e.value||!1)}else n=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),r.preventDefault();this.quill.focus();const[s]=this.quill.selection.getRange();if(null!=this.handlers[e])this.handlers[e].call(this,n);else if(this.quill.scroll.query(e).prototype instanceof hr){if(n=prompt(`Enter ${e}`),!n)return;this.quill.updateContents((new vr).retain(s.index).delete(s.length).insert({[e]:n}),Ms.sources.USER)}else this.quill.format(e,n,Ms.sources.USER);this.update(s)})),this.controls.push([e,t])}update(t){const e=null==t?{}:this.quill.getFormat(t);this.controls.forEach((r=>{const[n,s]=r;if("SELECT"===s.tagName){let r=null;if(null==t)r=null;else if(null==e[n])r=s.querySelector("option[selected]");else if(!Array.isArray(e[n])){let t=e[n];"string"==typeof t&&(t=t.replace(/"/g,'\\"')),r=s.querySelector(`option[value="${t}"]`)}null==r?(s.value="",s.selectedIndex=-1):r.selected=!0}else if(null==t)s.classList.remove("ql-active"),s.setAttribute("aria-pressed","false");else if(s.hasAttribute("value")){const t=e[n],r=t===s.getAttribute("value")||null!=t&&t.toString()===s.getAttribute("value")||null==t&&!s.getAttribute("value");s.classList.toggle("ql-active",r),s.setAttribute("aria-pressed",r.toString())}else{const t=null!=e[n];s.classList.toggle("ql-active",t),s.setAttribute("aria-pressed",t.toString())}}))}}function Co(t,e,r){const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${e}`),n.setAttribute("aria-pressed","false"),null!=r?(n.value=r,n.setAttribute("aria-label",`${e}: ${r}`)):n.setAttribute("aria-label",e),t.appendChild(n)}To.DEFAULTS={},To.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(null!=t)if(0===t.length){const t=this.quill.getFormat();Object.keys(t).forEach((t=>{null!=this.quill.scroll.query(t,$e.INLINE)&&this.quill.format(t,!1,Ms.sources.USER)}))}else this.quill.removeFormat(t.index,t.length,Ms.sources.USER)},direction(t){const{align:e}=this.quill.getFormat();"rtl"===t&&null==e?this.quill.format("align","right",Ms.sources.USER):t||"right"!==e||this.quill.format("align",!1,Ms.sources.USER),this.quill.format("direction",t,Ms.sources.USER)},indent(t){const e=this.quill.getSelection(),r=this.quill.getFormat(e),n=parseInt(r.indent||0,10);if("+1"===t||"-1"===t){let e="+1"===t?1:-1;"rtl"===r.direction&&(e*=-1),this.quill.format("indent",n+e,Ms.sources.USER)}},link(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,Ms.sources.USER)},list(t){const e=this.quill.getSelection(),r=this.quill.getFormat(e);"check"===t?"checked"===r.list||"unchecked"===r.list?this.quill.format("list",!1,Ms.sources.USER):this.quill.format("list","unchecked",Ms.sources.USER):this.quill.format("list",t,Ms.sources.USER)}}};const qo='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',jo={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:qo,"code-block":qo,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let Io=0;function Mo(t,e){t.setAttribute(e,`${!("true"===t.getAttribute(e))}`)}const Ro=class{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(()=>{this.togglePicker()})),this.label.addEventListener("keydown",(t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Mo(this.label,"aria-expanded"),Mo(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0",e.setAttribute("role","button"),e.classList.add("ql-picker-item");const r=t.getAttribute("value");return r&&e.setAttribute("data-value",r),t.textContent&&e.setAttribute("data-label",t.textContent),e.addEventListener("click",(()=>{this.selectItem(e,!0)})),e.addEventListener("keydown",(t=>{switch(t.key){case"Enter":this.selectItem(e,!0),t.preventDefault();break;case"Escape":this.escape(),t.preventDefault()}})),e}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${Io}`,Io+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach((e=>{const r=this.buildItem(e);t.appendChild(r),!0===e.selected&&this.selectItem(r)})),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach((t=>{this.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout((()=>this.label.focus()),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this.container.querySelector(".ql-selected");t!==r&&(null!=r&&r.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);const e=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}};const Fo=class extends Ro{constructor(t,e){super(t),this.label.innerHTML=e,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach((t=>{t.classList.add("ql-primary")}))}buildItem(t){const e=super.buildItem(t);return e.style.backgroundColor=t.getAttribute("value")||"",e}selectItem(t,e){super.selectItem(t,e);const r=this.label.querySelector(".ql-color-label"),n=t&&t.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=n:r.style.fill=n)}};const Bo=class extends Ro{constructor(t,e){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach((t=>{t.innerHTML=e[t.getAttribute("data-value")||""]})),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const r=t||this.defaultItem;if(null!=r){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}};const Po=class{constructor(t,e){this.quill=t,this.boundsContainer=e||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(t=>{const{overflowY:e}=getComputedStyle(t,null);return"visible"!==e&&"clip"!==e})(this.quill.root)&&this.quill.root.addEventListener("scroll",(()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"})),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2,r=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const n=this.boundsContainer.getBoundingClientRect(),s=this.root.getBoundingClientRect();let i=0;if(s.right>n.right&&(i=n.right-s.right,this.root.style.left=`${e+i}px`),s.left<n.left&&(i=n.left-s.left,this.root.style.left=`${e+i}px`),s.bottom>n.bottom){const e=s.bottom-s.top,n=t.bottom-t.top+e;this.root.style.top=r-n+"px",this.root.classList.add("ql-flip")}return i}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},Do=[!1,"center","right","justify"],$o=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Uo=[!1,"serif","monospace"],Vo=["1","2","3",!1],zo=["small",!1,"large","huge"];class Ko extends Ss{constructor(t,e){super(t,e);const r=e=>{document.body.contains(t.root)?(null==this.tooltip||this.tooltip.root.contains(e.target)||document.activeElement===this.tooltip.textbox||this.quill.hasFocus()||this.tooltip.hide(),null!=this.pickers&&this.pickers.forEach((t=>{t.container.contains(e.target)||t.close()}))):document.body.removeEventListener("click",r)};t.emitter.listenDOM("click",document.body,r)}addModule(t){const e=super.addModule(t);return"toolbar"===t&&this.extendToolbar(e),e}buildButtons(t,e){Array.from(t).forEach((t=>{(t.getAttribute("class")||"").split(/\s+/).forEach((r=>{if(r.startsWith("ql-")&&(r=r.slice(3),null!=e[r]))if("direction"===r)t.innerHTML=e[r][""]+e[r].rtl;else if("string"==typeof e[r])t.innerHTML=e[r];else{const n=t.value||"";null!=n&&e[r][n]&&(t.innerHTML=e[r][n])}}))}))}buildPickers(t,e){this.pickers=Array.from(t).map((t=>{if(t.classList.contains("ql-align")&&(null==t.querySelector("option")&&Wo(t,Do),"object"==typeof e.align))return new Bo(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){const r=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&Wo(t,$o,"background"===r?"#ffffff":"#000000"),new Fo(t,e[r])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?Wo(t,Uo):t.classList.contains("ql-header")?Wo(t,Vo):t.classList.contains("ql-size")&&Wo(t,zo)),new Ro(t)}));this.quill.on(as.events.EDITOR_CHANGE,(()=>{this.pickers.forEach((t=>{t.update()}))}))}}Ko.DEFAULTS=De({},Ss.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");null==t&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",(()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""})),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class Ho extends Po{constructor(t,e){super(t,e),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",(t=>{"Enter"===t.key?(this.save(),t.preventDefault()):"Escape"===t.key&&(this.cancel(),t.preventDefault())}))}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null==this.textbox)return;null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);null!=r&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,as.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,as.sources.USER)),this.quill.root.scrollTop=e;break}case"video":t=function(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(e)return`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`;if(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))return`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`;return t}(t);case"formula":{if(!t)break;const e=this.quill.getSelection(!0);if(null!=e){const r=e.index+e.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),t,as.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",as.sources.USER),this.quill.setSelection(r+2,as.sources.USER)}break}}this.textbox.value="",this.hide()}}function Wo(t,e){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((e=>{const n=document.createElement("option");e===r?n.setAttribute("selected","selected"):n.setAttribute("value",String(e)),t.appendChild(n)}))}const Go=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Zo extends Ho{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(t,e){super(t,e),this.quill.on(as.events.EDITOR_CHANGE,((t,e,r,n)=>{if(t===as.events.SELECTION_CHANGE)if(null!=e&&e.length>0&&n===as.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const t=this.quill.getLines(e.index,e.length);if(1===t.length){const t=this.quill.getBounds(e);null!=t&&this.position(t)}else{const r=t[t.length-1],n=this.quill.getIndex(r),s=Math.min(r.length()-1,e.index+e.length-n),i=this.quill.getBounds(new us(n,s));null!=i&&this.position(i)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()}))}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",(()=>{this.root.classList.remove("ql-editing")})),this.quill.on(as.events.SCROLL_OPTIMIZE,(()=>{setTimeout((()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(null!=t){const e=this.quill.getBounds(t);null!=e&&this.position(e)}}),1)}))}cancel(){this.show()}position(t){const e=super.position(t),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",0!==e&&(r.style.marginLeft=-1*e-r.offsetWidth/2+"px"),e}}class Qo extends Ko{constructor(t,e){null!=e.modules.toolbar&&null==e.modules.toolbar.container&&(e.modules.toolbar.container=Go),super(t,e),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new Zo(this.quill,this.options.bounds),null!=t.container&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),jo),this.buildPickers(t.container.querySelectorAll("select"),jo))}}Qo.DEFAULTS=De({},Ko.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,Ms.sources.USER)}}}}});const Xo=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Yo extends Ho{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",(t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(t=>{if(null!=this.linkRange){const t=this.linkRange;this.restoreFocus(),this.quill.formatText(t,"link",!1,as.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()})),this.quill.on(as.events.SELECTION_CHANGE,((t,e,r)=>{if(null!=t){if(0===t.length&&r===as.sources.USER){const[e,r]=this.quill.scroll.descendant(lo,t.index);if(null!=e){this.linkRange=new us(t.index-r,e.length());const n=lo.formats(e.domNode);this.preview.textContent=n,this.preview.setAttribute("href",n),this.show();const s=this.quill.getBounds(this.linkRange);return void(null!=s&&this.position(s))}}else delete this.linkRange;this.hide()}}))}show(){super.show(),this.root.removeAttribute("data-mode")}}class Jo extends Ko{constructor(t,e){null!=e.modules.toolbar&&null==e.modules.toolbar.container&&(e.modules.toolbar.container=Xo),super(t,e),this.quill.container.classList.add("ql-snow")}extendToolbar(t){null!=t.container&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),jo),this.buildPickers(t.container.querySelectorAll("select"),jo),this.tooltip=new Yo(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},((e,r)=>{t.handlers.link.call(t,!r.format.link)})))}}Jo.DEFAULTS=De({},Ko.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const t=this.quill.getSelection();if(null==t||0===t.length)return;let e=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(e)&&0!==e.indexOf("mailto:")&&(e=`mailto:${e}`);const{tooltip:r}=this.quill.theme;r.edit("link",e)}else this.quill.format("link",!1,Ms.sources.USER)}}}}});const tl=Jo;Yi.register({"attributors/attribute/direction":oi,"attributors/class/align":Zs,"attributors/class/background":ti,"attributors/class/color":Ys,"attributors/class/direction":li,"attributors/class/font":ui,"attributors/class/size":di,"attributors/style/align":Qs,"attributors/style/background":ei,"attributors/style/color":Js,"attributors/style/direction":ai,"attributors/style/font":hi,"attributors/style/size":fi},!0),Yi.register({"formats/align":Zs,"formats/direction":li,"formats/indent":to,"formats/background":ei,"formats/color":Js,"formats/font":ui,"formats/size":di,"formats/blockquote":eo,"formats/code-block":ni,"formats/header":ro,"formats/list":so,"formats/bold":io,"formats/code":si,"formats/italic":oo,"formats/link":lo,"formats/script":co,"formats/strike":uo,"formats/underline":ho,"formats/formula":fo,"formats/image":go,"formats/video":vo,"modules/syntax":Oo,"modules/table":_o,"modules/toolbar":To,"themes/bubble":Qo,"themes/snow":tl,"ui/icons":jo,"ui/picker":Ro,"ui/icon-picker":Bo,"ui/color-picker":Fo,"ui/tooltip":Po},!0);const el=Yi;function rl(t){return rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(t)}function nl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(s=n.key,i=void 0,i=function(t,e){if("object"!==rl(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==rl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(s,"string"),"symbol"===rl(i)?i:String(i)),n)}var s,i}function sl(t,e){return sl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sl(t,e)}function il(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ol(t);if(e){var s=ol(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===rl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function ol(t){return ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ol(t)}var ll=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sl(t,e)}(i,t);var e,r,n,s=il(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),s.apply(this,arguments)}return e=i,r=[{key:"connect",value:function(){var t,e=this,r=JSON.parse(null!==(t=this.element.dataset.toolbar)&&void 0!==t?t:"true"),n=this.element.querySelector("textarea").textContent,s=this.element.closest("form"),i={},o=new el(this.element,{modules:{toolbar:r},theme:"snow"});n&&(i=JSON.parse(n)),o.setContents(i),s&&s.addEventListener("formdata",(function(t){t.formData.append(e.element.dataset.name,JSON.stringify(o.getContents().ops))}))}}],r&&nl(e.prototype,r),n&&nl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(s.Qr)},5593:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>h});r(5399),r(1517),r(8052),r(228),r(50),r(1013),r(739),r(9373),r(9903),r(9749),r(6544),r(9288),r(4254),r(752),r(1694),r(6265);var n=r(6599),s=r(4183),i=r.n(s);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(s=n.key,i=void 0,i=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(s,"string"),"symbol"===o(i)?i:String(i)),n)}var s,i}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=u(t);if(e){var s=u(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(o,t);var e,r,n,s=c(o);function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),s.apply(this,arguments)}return e=o,(r=[{key:"initialize",value:function(){var t,e;new(i())(this.element,{create:null===(t=this.element.dataset.allowAdd)||void 0===t||t,maxItems:null!==(e=this.element.dataset.multiple)&&void 0!==e&&e?null:1})}}])&&l(e.prototype,r),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(n.Qr)},7079:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>a});r(9693),r(228),r(7522),r(5399),r(1517),r(8052),r(50),r(1013),r(739),r(9373),r(9903),r(9749),r(6544),r(9288),r(4254),r(752),r(1694),r(6265);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function s(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,(i=s.key,o=void 0,o=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,e||"default");if("object"!==n(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===n(o)?o:String(o)),s)}var i,o}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,s=l(t);if(e){var i=l(this).constructor;r=Reflect.construct(s,arguments,i)}else r=s.apply(this,arguments);return function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}var a=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}(a,t);var e,r,n,l=o(a);function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),l.apply(this,arguments)}return e=a,(r=[{key:"connect",value:function(){var t=this;this.element.addEventListener("click",(function(e){e.preventDefault();var r=t.element.dataset.target;if(!r)throw new Error("The target element is invalid");document.querySelectorAll(r).forEach((function(e){e.classList.toggle("d-none"),e.classList.contains("d-none")?t.element.textContent=t.element.dataset.showMessage:t.element.textContent=t.element.dataset.hideMessage}))}))}}])&&s(e.prototype,r),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(r(6599).Qr)},1968:()=>{},6729:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function s(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function i(t,e,n,i,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var l=new s(n,i||t,o),a=r?r+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],l]:t._events[a].push(l):(t._events[a]=l,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function l(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),l.prototype.eventNames=function(){var t,n,s=[];if(0===this._eventsCount)return s;for(n in t=this._events)e.call(t,n)&&s.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(t)):s},l.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var s=0,i=n.length,o=new Array(i);s<i;s++)o[s]=n[s].fn;return o},l.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},l.prototype.emit=function(t,e,n,s,i,o){var l=r?r+t:t;if(!this._events[l])return!1;var a,c,u=this._events[l],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,s),!0;case 5:return u.fn.call(u.context,e,n,s,i),!0;case 6:return u.fn.call(u.context,e,n,s,i,o),!0}for(c=1,a=new Array(h-1);c<h;c++)a[c-1]=arguments[c];u.fn.apply(u.context,a)}else{var d,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,n);break;case 4:u[c].fn.call(u[c].context,e,n,s);break;default:if(!a)for(d=1,a=new Array(h-1);d<h;d++)a[d-1]=arguments[d];u[c].fn.apply(u[c].context,a)}}return!0},l.prototype.on=function(t,e,r){return i(this,t,e,r,!1)},l.prototype.once=function(t,e,r){return i(this,t,e,r,!0)},l.prototype.removeListener=function(t,e,n,s){var i=r?r+t:t;if(!this._events[i])return this;if(!e)return o(this,i),this;var l=this._events[i];if(l.fn)l.fn!==e||s&&!l.once||n&&l.context!==n||o(this,i);else{for(var a=0,c=[],u=l.length;a<u;a++)(l[a].fn!==e||s&&!l[a].once||n&&l[a].context!==n)&&c.push(l[a]);c.length?this._events[i]=1===c.length?c[0]:c:o(this,i)}return this},l.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&o(this,e)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l},7529:t=>{var e=-1,r=1,n=0;function s(t,g,m,v,b){if(t===g)return t?[[n,t]]:[];if(null!=m){var x=function(t,e,r){var n="number"==typeof r?{index:r,length:0}:r.oldRange,s="number"==typeof r?null:r.newRange,i=t.length,o=e.length;if(0===n.length&&(null===s||0===s.length)){var l=n.index,a=t.slice(0,l),c=t.slice(l),u=s?s.index:null,h=l+o-i;if((null===u||u===h)&&!(h<0||h>o)){var d=e.slice(0,h);if((g=e.slice(h))===c){var f=Math.min(l,h);if((v=a.slice(0,f))===(x=d.slice(0,f)))return y(v,a.slice(f),d.slice(f),c)}}if(null===u||u===l){var p=l,g=(d=e.slice(0,p),e.slice(p));if(d===a){var m=Math.min(i-p,o-p);if((b=c.slice(c.length-m))===(w=g.slice(g.length-m)))return y(a,c.slice(0,c.length-m),g.slice(0,g.length-m),b)}}}if(n.length>0&&s&&0===s.length){var v=t.slice(0,n.index),b=t.slice(n.index+n.length);if(!(o<(f=v.length)+(m=b.length))){var x=e.slice(0,f),w=e.slice(o-m);if(v===x&&b===w)return y(v,t.slice(f,i-m),e.slice(f,o-m),b)}}return null}(t,g,m);if(x)return x}var w=o(t,g),O=t.substring(0,w);w=a(t=t.substring(w),g=g.substring(w));var E=t.substring(t.length-w),A=function(t,l){var c;if(!t)return[[r,l]];if(!l)return[[e,t]];var u=t.length>l.length?t:l,h=t.length>l.length?l:t,d=u.indexOf(h);if(-1!==d)return c=[[r,u.substring(0,d)],[n,h],[r,u.substring(d+h.length)]],t.length>l.length&&(c[0][0]=c[2][0]=e),c;if(1===h.length)return[[e,t],[r,l]];var f=function(t,e){var r=t.length>e.length?t:e,n=t.length>e.length?e:t;if(r.length<4||2*n.length<r.length)return null;function s(t,e,r){for(var n,s,i,l,c=t.substring(r,r+Math.floor(t.length/4)),u=-1,h="";-1!==(u=e.indexOf(c,u+1));){var d=o(t.substring(r),e.substring(u)),f=a(t.substring(0,r),e.substring(0,u));h.length<f+d&&(h=e.substring(u-f,u)+e.substring(u,u+d),n=t.substring(0,r-f),s=t.substring(r+d),i=e.substring(0,u-f),l=e.substring(u+d))}return 2*h.length>=t.length?[n,s,i,l,h]:null}var i,l,c,u,h,d=s(r,n,Math.ceil(r.length/4)),f=s(r,n,Math.ceil(r.length/2));if(!d&&!f)return null;i=f?d&&d[4].length>f[4].length?d:f:d;t.length>e.length?(l=i[0],c=i[1],u=i[2],h=i[3]):(u=i[0],h=i[1],l=i[2],c=i[3]);var p=i[4];return[l,c,u,h,p]}(t,l);if(f){var p=f[0],g=f[1],m=f[2],v=f[3],b=f[4],y=s(p,m),x=s(g,v);return y.concat([[n,b]],x)}return function(t,n){for(var s=t.length,o=n.length,l=Math.ceil((s+o)/2),a=l,c=2*l,u=new Array(c),h=new Array(c),d=0;d<c;d++)u[d]=-1,h[d]=-1;u[a+1]=0,h[a+1]=0;for(var f=s-o,p=f%2!=0,g=0,m=0,v=0,b=0,y=0;y<l;y++){for(var x=-y+g;x<=y-m;x+=2){for(var w=a+x,O=(k=x===-y||x!==y&&u[w-1]<u[w+1]?u[w+1]:u[w-1]+1)-x;k<s&&O<o&&t.charAt(k)===n.charAt(O);)k++,O++;if(u[w]=k,k>s)m+=2;else if(O>o)g+=2;else if(p){if((N=a+f-x)>=0&&N<c&&-1!==h[N])if(k>=(A=s-h[N]))return i(t,n,k,O)}}for(var E=-y+v;E<=y-b;E+=2){for(var A,N=a+E,S=(A=E===-y||E!==y&&h[N-1]<h[N+1]?h[N+1]:h[N-1]+1)-E;A<s&&S<o&&t.charAt(s-A-1)===n.charAt(o-S-1);)A++,S++;if(h[N]=A,A>s)b+=2;else if(S>o)v+=2;else if(!p){if((w=a+f-E)>=0&&w<c&&-1!==u[w]){var k;O=a+(k=u[w])-w;if(k>=(A=s-A))return i(t,n,k,O)}}}}return[[e,t],[r,n]]}(t,l)}(t=t.substring(0,t.length-w),g=g.substring(0,g.length-w));return O&&A.unshift([n,O]),E&&A.push([n,E]),p(A,b),v&&function(t){var s=!1,i=[],o=0,g=null,m=0,v=0,b=0,y=0,x=0;for(;m<t.length;)t[m][0]==n?(i[o++]=m,v=y,b=x,y=0,x=0,g=t[m][1]):(t[m][0]==r?y+=t[m][1].length:x+=t[m][1].length,g&&g.length<=Math.max(v,b)&&g.length<=Math.max(y,x)&&(t.splice(i[o-1],0,[e,g]),t[i[o-1]+1][0]=r,o--,m=--o>0?i[o-1]:-1,v=0,b=0,y=0,x=0,g=null,s=!0)),m++;s&&p(t);(function(t){function e(t,e){if(!t||!e)return 6;var r=t.charAt(t.length-1),n=e.charAt(0),s=r.match(c),i=n.match(c),o=s&&r.match(u),l=i&&n.match(u),a=o&&r.match(h),p=l&&n.match(h),g=a&&t.match(d),m=p&&e.match(f);return g||m?5:a||p?4:s&&!o&&l?3:o||l?2:s||i?1:0}var r=1;for(;r<t.length-1;){if(t[r-1][0]==n&&t[r+1][0]==n){var s=t[r-1][1],i=t[r][1],o=t[r+1][1],l=a(s,i);if(l){var p=i.substring(i.length-l);s=s.substring(0,s.length-l),i=p+i.substring(0,i.length-l),o=p+o}for(var g=s,m=i,v=o,b=e(s,i)+e(i,o);i.charAt(0)===o.charAt(0);){s+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);var y=e(s,i)+e(i,o);y>=b&&(b=y,g=s,m=i,v=o)}t[r-1][1]!=g&&(g?t[r-1][1]=g:(t.splice(r-1,1),r--),t[r][1]=m,v?t[r+1][1]=v:(t.splice(r+1,1),r--))}r++}})(t),m=1;for(;m<t.length;){if(t[m-1][0]==e&&t[m][0]==r){var w=t[m-1][1],O=t[m][1],E=l(w,O),A=l(O,w);E>=A?(E>=w.length/2||E>=O.length/2)&&(t.splice(m,0,[n,O.substring(0,E)]),t[m-1][1]=w.substring(0,w.length-E),t[m+1][1]=O.substring(E),m++):(A>=w.length/2||A>=O.length/2)&&(t.splice(m,0,[n,w.substring(0,A)]),t[m-1][0]=r,t[m-1][1]=O.substring(0,O.length-A),t[m+1][0]=e,t[m+1][1]=w.substring(A),m++),m++}m++}}(A),A}function i(t,e,r,n){var i=t.substring(0,r),o=e.substring(0,n),l=t.substring(r),a=e.substring(n),c=s(i,o),u=s(l,a);return c.concat(u)}function o(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),s=n,i=0;r<s;)t.substring(i,s)==e.substring(i,s)?i=r=s:n=s,s=Math.floor((n-r)/2+r);return g(t.charCodeAt(s-1))&&s--,s}function l(t,e){var r=t.length,n=e.length;if(0==r||0==n)return 0;r>n?t=t.substring(r-n):r<n&&(e=e.substring(0,r));var s=Math.min(r,n);if(t==e)return s;for(var i=0,o=1;;){var l=t.substring(s-o),a=e.indexOf(l);if(-1==a)return i;o+=a,0!=a&&t.substring(s-o)!=e.substring(0,o)||(i=o,o++)}}function a(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var r=0,n=Math.min(t.length,e.length),s=n,i=0;r<s;)t.substring(t.length-s,t.length-i)==e.substring(e.length-s,e.length-i)?i=r=s:n=s,s=Math.floor((n-r)/2+r);return m(t.charCodeAt(t.length-s))&&s--,s}var c=/[^a-zA-Z0-9]/,u=/\s/,h=/[\r\n]/,d=/\n\r?\n$/,f=/^\r?\n\r?\n/;function p(t,s){t.push([n,""]);for(var i,l=0,c=0,u=0,h="",d="";l<t.length;)if(l<t.length-1&&!t[l][1])t.splice(l,1);else switch(t[l][0]){case r:u++,d+=t[l][1],l++;break;case e:c++,h+=t[l][1],l++;break;case n:var f=l-u-c-1;if(s){if(f>=0&&b(t[f][1])){var g=t[f][1].slice(-1);if(t[f][1]=t[f][1].slice(0,-1),h=g+h,d=g+d,!t[f][1]){t.splice(f,1),l--;var m=f-1;t[m]&&t[m][0]===r&&(u++,d=t[m][1]+d,m--),t[m]&&t[m][0]===e&&(c++,h=t[m][1]+h,m--),f=m}}if(v(t[l][1])){g=t[l][1].charAt(0);t[l][1]=t[l][1].slice(1),h+=g,d+=g}}if(l<t.length-1&&!t[l][1]){t.splice(l,1);break}if(h.length>0||d.length>0){h.length>0&&d.length>0&&(0!==(i=o(d,h))&&(f>=0?t[f][1]+=d.substring(0,i):(t.splice(0,0,[n,d.substring(0,i)]),l++),d=d.substring(i),h=h.substring(i)),0!==(i=a(d,h))&&(t[l][1]=d.substring(d.length-i)+t[l][1],d=d.substring(0,d.length-i),h=h.substring(0,h.length-i)));var y=u+c;0===h.length&&0===d.length?(t.splice(l-y,y),l-=y):0===h.length?(t.splice(l-y,y,[r,d]),l=l-y+1):0===d.length?(t.splice(l-y,y,[e,h]),l=l-y+1):(t.splice(l-y,y,[e,h],[r,d]),l=l-y+2)}0!==l&&t[l-1][0]===n?(t[l-1][1]+=t[l][1],t.splice(l,1)):l++,u=0,c=0,h="",d=""}""===t[t.length-1][1]&&t.pop();var x=!1;for(l=1;l<t.length-1;)t[l-1][0]===n&&t[l+1][0]===n&&(t[l][1].substring(t[l][1].length-t[l-1][1].length)===t[l-1][1]?(t[l][1]=t[l-1][1]+t[l][1].substring(0,t[l][1].length-t[l-1][1].length),t[l+1][1]=t[l-1][1]+t[l+1][1],t.splice(l-1,1),x=!0):t[l][1].substring(0,t[l+1][1].length)==t[l+1][1]&&(t[l-1][1]+=t[l+1][1],t[l][1]=t[l][1].substring(t[l+1][1].length)+t[l+1][1],t.splice(l+1,1),x=!0)),l++;x&&p(t,s)}function g(t){return t>=55296&&t<=56319}function m(t){return t>=56320&&t<=57343}function v(t){return m(t.charCodeAt(0))}function b(t){return g(t.charCodeAt(t.length-1))}function y(t,s,i,o){return b(t)||v(o)?null:function(t){for(var e=[],r=0;r<t.length;r++)t[r][1].length>0&&e.push(t[r]);return e}([[n,t],[e,s],[r,i],[n,o]])}function x(t,e,r,n){return s(t,e,r,n,!0)}x.INSERT=r,x.DELETE=e,x.EQUAL=n,t.exports=x},3465:(t,e,r)=>{t=r.nmd(t);var n="__lodash_hash_undefined__",s=9007199254740991,i="[object Arguments]",o="[object Boolean]",l="[object Date]",a="[object Function]",c="[object GeneratorFunction]",u="[object Map]",h="[object Number]",d="[object Object]",f="[object Promise]",p="[object RegExp]",g="[object Set]",m="[object String]",v="[object Symbol]",b="[object WeakMap]",y="[object ArrayBuffer]",x="[object DataView]",w="[object Float32Array]",O="[object Float64Array]",E="[object Int8Array]",A="[object Int16Array]",N="[object Int32Array]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",_="[object Uint16Array]",L="[object Uint32Array]",T=/\w*$/,C=/^\[object .+?Constructor\]$/,q=/^(?:0|[1-9]\d*)$/,j={};j[i]=j["[object Array]"]=j[y]=j[x]=j[o]=j[l]=j[w]=j[O]=j[E]=j[A]=j[N]=j[u]=j[h]=j[d]=j[p]=j[g]=j[m]=j[v]=j[S]=j[k]=j[_]=j[L]=!0,j["[object Error]"]=j[a]=j[b]=!1;var I="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,M="object"==typeof self&&self&&self.Object===Object&&self,R=I||M||Function("return this")(),F=e&&!e.nodeType&&e,B=F&&t&&!t.nodeType&&t,P=B&&B.exports===F;function D(t,e){return t.set(e[0],e[1]),t}function $(t,e){return t.add(e),t}function U(t,e,r,n){var s=-1,i=t?t.length:0;for(n&&i&&(r=t[++s]);++s<i;)r=e(r,t[s],s,t);return r}function V(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function z(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function K(t,e){return function(r){return t(e(r))}}function H(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var W,G=Array.prototype,Z=Function.prototype,Q=Object.prototype,X=R["__core-js_shared__"],Y=(W=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",J=Z.toString,tt=Q.hasOwnProperty,et=Q.toString,rt=RegExp("^"+J.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=P?R.Buffer:void 0,st=R.Symbol,it=R.Uint8Array,ot=K(Object.getPrototypeOf,Object),lt=Object.create,at=Q.propertyIsEnumerable,ct=G.splice,ut=Object.getOwnPropertySymbols,ht=nt?nt.isBuffer:void 0,dt=K(Object.keys,Object),ft=Bt(R,"DataView"),pt=Bt(R,"Map"),gt=Bt(R,"Promise"),mt=Bt(R,"Set"),vt=Bt(R,"WeakMap"),bt=Bt(Object,"create"),yt=Vt(ft),xt=Vt(pt),wt=Vt(gt),Ot=Vt(mt),Et=Vt(vt),At=st?st.prototype:void 0,Nt=At?At.valueOf:void 0;function St(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function kt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function _t(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Lt(t){this.__data__=new kt(t)}function Tt(t,e){var r=Kt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Ht(t)}(t)&&tt.call(t,"callee")&&(!at.call(t,"callee")||et.call(t)==i)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,s=!!n;for(var o in t)!e&&!tt.call(t,o)||s&&("length"==o||$t(o,n))||r.push(o);return r}function Ct(t,e,r){var n=t[e];tt.call(t,e)&&zt(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function qt(t,e){for(var r=t.length;r--;)if(zt(t[r][0],e))return r;return-1}function jt(t,e,r,n,s,f,b){var C;if(n&&(C=f?n(t,s,f,b):n(t)),void 0!==C)return C;if(!Zt(t))return t;var q=Kt(t);if(q){if(C=function(t){var e=t.length,r=t.constructor(e);e&&"string"==typeof t[0]&&tt.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!e)return function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(t,C)}else{var I=Dt(t),M=I==a||I==c;if(Wt(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if(I==d||I==i||M&&!f){if(V(t))return f?t:{};if(C=function(t){return"function"!=typeof t.constructor||Ut(t)?{}:(e=ot(t),Zt(e)?lt(e):{});var e}(M?{}:t),!e)return function(t,e){return Rt(t,Pt(t),e)}(t,function(t,e){return t&&Rt(e,Qt(e),t)}(C,t))}else{if(!j[I])return f?t:{};C=function(t,e,r,n){var s=t.constructor;switch(e){case y:return Mt(t);case o:case l:return new s(+t);case x:return function(t,e){var r=e?Mt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,n);case w:case O:case E:case A:case N:case S:case k:case _:case L:return function(t,e){var r=e?Mt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,n);case u:return function(t,e,r){var n=e?r(z(t),!0):z(t);return U(n,D,new t.constructor)}(t,n,r);case h:case m:return new s(t);case p:return function(t){var e=new t.constructor(t.source,T.exec(t));return e.lastIndex=t.lastIndex,e}(t);case g:return function(t,e,r){var n=e?r(H(t),!0):H(t);return U(n,$,new t.constructor)}(t,n,r);case v:return i=t,Nt?Object(Nt.call(i)):{}}var i}(t,I,jt,e)}}b||(b=new Lt);var R=b.get(t);if(R)return R;if(b.set(t,C),!q)var F=r?function(t){return function(t,e,r){var n=e(t);return Kt(t)?n:function(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}(n,r(t))}(t,Qt,Pt)}(t):Qt(t);return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););}(F||t,(function(s,i){F&&(s=t[i=s]),Ct(C,i,jt(s,e,r,n,i,t,b))})),C}function It(t){return!(!Zt(t)||(e=t,Y&&Y in e))&&(Gt(t)||V(t)?rt:C).test(Vt(t));var e}function Mt(t){var e=new t.constructor(t.byteLength);return new it(e).set(new it(t)),e}function Rt(t,e,r,n){r||(r={});for(var s=-1,i=e.length;++s<i;){var o=e[s],l=n?n(r[o],t[o],o,r,t):void 0;Ct(r,o,void 0===l?t[o]:l)}return r}function Ft(t,e){var r,n,s=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?s["string"==typeof e?"string":"hash"]:s.map}function Bt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return It(r)?r:void 0}St.prototype.clear=function(){this.__data__=bt?bt(null):{}},St.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},St.prototype.get=function(t){var e=this.__data__;if(bt){var r=e[t];return r===n?void 0:r}return tt.call(e,t)?e[t]:void 0},St.prototype.has=function(t){var e=this.__data__;return bt?void 0!==e[t]:tt.call(e,t)},St.prototype.set=function(t,e){return this.__data__[t]=bt&&void 0===e?n:e,this},kt.prototype.clear=function(){this.__data__=[]},kt.prototype.delete=function(t){var e=this.__data__,r=qt(e,t);return!(r<0)&&(r==e.length-1?e.pop():ct.call(e,r,1),!0)},kt.prototype.get=function(t){var e=this.__data__,r=qt(e,t);return r<0?void 0:e[r][1]},kt.prototype.has=function(t){return qt(this.__data__,t)>-1},kt.prototype.set=function(t,e){var r=this.__data__,n=qt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},_t.prototype.clear=function(){this.__data__={hash:new St,map:new(pt||kt),string:new St}},_t.prototype.delete=function(t){return Ft(this,t).delete(t)},_t.prototype.get=function(t){return Ft(this,t).get(t)},_t.prototype.has=function(t){return Ft(this,t).has(t)},_t.prototype.set=function(t,e){return Ft(this,t).set(t,e),this},Lt.prototype.clear=function(){this.__data__=new kt},Lt.prototype.delete=function(t){return this.__data__.delete(t)},Lt.prototype.get=function(t){return this.__data__.get(t)},Lt.prototype.has=function(t){return this.__data__.has(t)},Lt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof kt){var n=r.__data__;if(!pt||n.length<199)return n.push([t,e]),this;r=this.__data__=new _t(n)}return r.set(t,e),this};var Pt=ut?K(ut,Object):function(){return[]},Dt=function(t){return et.call(t)};function $t(t,e){return!!(e=null==e?s:e)&&("number"==typeof t||q.test(t))&&t>-1&&t%1==0&&t<e}function Ut(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Q)}function Vt(t){if(null!=t){try{return J.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function zt(t,e){return t===e||t!=t&&e!=e}(ft&&Dt(new ft(new ArrayBuffer(1)))!=x||pt&&Dt(new pt)!=u||gt&&Dt(gt.resolve())!=f||mt&&Dt(new mt)!=g||vt&&Dt(new vt)!=b)&&(Dt=function(t){var e=et.call(t),r=e==d?t.constructor:void 0,n=r?Vt(r):void 0;if(n)switch(n){case yt:return x;case xt:return u;case wt:return f;case Ot:return g;case Et:return b}return e});var Kt=Array.isArray;function Ht(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}(t.length)&&!Gt(t)}var Wt=ht||function(){return!1};function Gt(t){var e=Zt(t)?et.call(t):"";return e==a||e==c}function Zt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Qt(t){return Ht(t)?Tt(t):function(t){if(!Ut(t))return dt(t);var e=[];for(var r in Object(t))tt.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}t.exports=function(t){return jt(t,!0,!0)}},2307:(t,e,r)=>{t=r.nmd(t);var n="__lodash_hash_undefined__",s=1,i=2,o=9007199254740991,l="[object Arguments]",a="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",h="[object Date]",d="[object Error]",f="[object Function]",p="[object GeneratorFunction]",g="[object Map]",m="[object Number]",v="[object Null]",b="[object Object]",y="[object Promise]",x="[object Proxy]",w="[object RegExp]",O="[object Set]",E="[object String]",A="[object Symbol]",N="[object Undefined]",S="[object WeakMap]",k="[object ArrayBuffer]",_="[object DataView]",L=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[l]=C[a]=C[k]=C[u]=C[_]=C[h]=C[d]=C[f]=C[g]=C[m]=C[b]=C[w]=C[O]=C[E]=C[S]=!1;var q="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,j="object"==typeof self&&self&&self.Object===Object&&self,I=q||j||Function("return this")(),M=e&&!e.nodeType&&e,R=M&&t&&!t.nodeType&&t,F=R&&R.exports===M,B=F&&q.process,P=function(){try{return B&&B.binding&&B.binding("util")}catch(t){}}(),D=P&&P.isTypedArray;function $(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function U(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function V(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var z,K,H,W=Array.prototype,G=Function.prototype,Z=Object.prototype,Q=I["__core-js_shared__"],X=G.toString,Y=Z.hasOwnProperty,J=(z=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",tt=Z.toString,et=RegExp("^"+X.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=F?I.Buffer:void 0,nt=I.Symbol,st=I.Uint8Array,it=Z.propertyIsEnumerable,ot=W.splice,lt=nt?nt.toStringTag:void 0,at=Object.getOwnPropertySymbols,ct=rt?rt.isBuffer:void 0,ut=(K=Object.keys,H=Object,function(t){return K(H(t))}),ht=Pt(I,"DataView"),dt=Pt(I,"Map"),ft=Pt(I,"Promise"),pt=Pt(I,"Set"),gt=Pt(I,"WeakMap"),mt=Pt(Object,"create"),vt=Vt(ht),bt=Vt(dt),yt=Vt(ft),xt=Vt(pt),wt=Vt(gt),Ot=nt?nt.prototype:void 0,Et=Ot?Ot.valueOf:void 0;function At(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Nt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function St(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function kt(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new St;++e<r;)this.add(t[e])}function _t(t){var e=this.__data__=new Nt(t);this.size=e.size}function Lt(t,e){var r=Ht(t),n=!r&&Kt(t),s=!r&&!n&&Wt(t),i=!r&&!n&&!s&&Yt(t),o=r||n||s||i,l=o?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],a=l.length;for(var c in t)!e&&!Y.call(t,c)||o&&("length"==c||s&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ut(c,a))||l.push(c);return l}function Tt(t,e){for(var r=t.length;r--;)if(zt(t[r][0],e))return r;return-1}function Ct(t){return null==t?void 0===t?N:v:lt&&lt in Object(t)?function(t){var e=Y.call(t,lt),r=t[lt];try{t[lt]=void 0;var n=!0}catch(t){}var s=tt.call(t);n&&(e?t[lt]=r:delete t[lt]);return s}(t):function(t){return tt.call(t)}(t)}function qt(t){return Xt(t)&&Ct(t)==l}function jt(t,e,r,n,o){return t===e||(null==t||null==e||!Xt(t)&&!Xt(e)?t!=t&&e!=e:function(t,e,r,n,o,c){var f=Ht(t),p=Ht(e),v=f?a:$t(t),y=p?a:$t(e),x=(v=v==l?b:v)==b,N=(y=y==l?b:y)==b,S=v==y;if(S&&Wt(t)){if(!Wt(e))return!1;f=!0,x=!1}if(S&&!x)return c||(c=new _t),f||Yt(t)?Rt(t,e,r,n,o,c):function(t,e,r,n,o,l,a){switch(r){case _:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case k:return!(t.byteLength!=e.byteLength||!l(new st(t),new st(e)));case u:case h:case m:return zt(+t,+e);case d:return t.name==e.name&&t.message==e.message;case w:case E:return t==e+"";case g:var c=U;case O:var f=n&s;if(c||(c=V),t.size!=e.size&&!f)return!1;var p=a.get(t);if(p)return p==e;n|=i,a.set(t,e);var v=Rt(c(t),c(e),n,o,l,a);return a.delete(t),v;case A:if(Et)return Et.call(t)==Et.call(e)}return!1}(t,e,v,r,n,o,c);if(!(r&s)){var L=x&&Y.call(t,"__wrapped__"),T=N&&Y.call(e,"__wrapped__");if(L||T){var C=L?t.value():t,q=T?e.value():e;return c||(c=new _t),o(C,q,r,n,c)}}if(!S)return!1;return c||(c=new _t),function(t,e,r,n,i,o){var l=r&s,a=Ft(t),c=a.length,u=Ft(e),h=u.length;if(c!=h&&!l)return!1;var d=c;for(;d--;){var f=a[d];if(!(l?f in e:Y.call(e,f)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var g=!0;o.set(t,e),o.set(e,t);var m=l;for(;++d<c;){var v=t[f=a[d]],b=e[f];if(n)var y=l?n(b,v,f,e,t,o):n(v,b,f,t,e,o);if(!(void 0===y?v===b||i(v,b,r,n,o):y)){g=!1;break}m||(m="constructor"==f)}if(g&&!m){var x=t.constructor,w=e.constructor;x==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(g=!1)}return o.delete(t),o.delete(e),g}(t,e,r,n,o,c)}(t,e,r,n,jt,o))}function It(t){return!(!Qt(t)||function(t){return!!J&&J in t}(t))&&(Gt(t)?et:L).test(Vt(t))}function Mt(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||Z,e!==n)return ut(t);var e,r,n,s=[];for(var i in Object(t))Y.call(t,i)&&"constructor"!=i&&s.push(i);return s}function Rt(t,e,r,n,o,l){var a=r&s,c=t.length,u=e.length;if(c!=u&&!(a&&u>c))return!1;var h=l.get(t);if(h&&l.get(e))return h==e;var d=-1,f=!0,p=r&i?new kt:void 0;for(l.set(t,e),l.set(e,t);++d<c;){var g=t[d],m=e[d];if(n)var v=a?n(m,g,d,e,t,l):n(g,m,d,t,e,l);if(void 0!==v){if(v)continue;f=!1;break}if(p){if(!$(e,(function(t,e){if(s=e,!p.has(s)&&(g===t||o(g,t,r,n,l)))return p.push(e);var s}))){f=!1;break}}else if(g!==m&&!o(g,m,r,n,l)){f=!1;break}}return l.delete(t),l.delete(e),f}function Ft(t){return function(t,e,r){var n=e(t);return Ht(t)?n:function(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}(n,r(t))}(t,Jt,Dt)}function Bt(t,e){var r,n,s=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?s["string"==typeof e?"string":"hash"]:s.map}function Pt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return It(r)?r:void 0}At.prototype.clear=function(){this.__data__=mt?mt(null):{},this.size=0},At.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},At.prototype.get=function(t){var e=this.__data__;if(mt){var r=e[t];return r===n?void 0:r}return Y.call(e,t)?e[t]:void 0},At.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:Y.call(e,t)},At.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=mt&&void 0===e?n:e,this},Nt.prototype.clear=function(){this.__data__=[],this.size=0},Nt.prototype.delete=function(t){var e=this.__data__,r=Tt(e,t);return!(r<0)&&(r==e.length-1?e.pop():ot.call(e,r,1),--this.size,!0)},Nt.prototype.get=function(t){var e=this.__data__,r=Tt(e,t);return r<0?void 0:e[r][1]},Nt.prototype.has=function(t){return Tt(this.__data__,t)>-1},Nt.prototype.set=function(t,e){var r=this.__data__,n=Tt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},St.prototype.clear=function(){this.size=0,this.__data__={hash:new At,map:new(dt||Nt),string:new At}},St.prototype.delete=function(t){var e=Bt(this,t).delete(t);return this.size-=e?1:0,e},St.prototype.get=function(t){return Bt(this,t).get(t)},St.prototype.has=function(t){return Bt(this,t).has(t)},St.prototype.set=function(t,e){var r=Bt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},kt.prototype.add=kt.prototype.push=function(t){return this.__data__.set(t,n),this},kt.prototype.has=function(t){return this.__data__.has(t)},_t.prototype.clear=function(){this.__data__=new Nt,this.size=0},_t.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},_t.prototype.get=function(t){return this.__data__.get(t)},_t.prototype.has=function(t){return this.__data__.has(t)},_t.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Nt){var n=r.__data__;if(!dt||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new St(n)}return r.set(t,e),this.size=r.size,this};var Dt=at?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,s=0,i=[];++r<n;){var o=t[r];e(o,r,t)&&(i[s++]=o)}return i}(at(t),(function(e){return it.call(t,e)})))}:function(){return[]},$t=Ct;function Ut(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||T.test(t))&&t>-1&&t%1==0&&t<e}function Vt(t){if(null!=t){try{return X.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function zt(t,e){return t===e||t!=t&&e!=e}(ht&&$t(new ht(new ArrayBuffer(1)))!=_||dt&&$t(new dt)!=g||ft&&$t(ft.resolve())!=y||pt&&$t(new pt)!=O||gt&&$t(new gt)!=S)&&($t=function(t){var e=Ct(t),r=e==b?t.constructor:void 0,n=r?Vt(r):"";if(n)switch(n){case vt:return _;case bt:return g;case yt:return y;case xt:return O;case wt:return S}return e});var Kt=qt(function(){return arguments}())?qt:function(t){return Xt(t)&&Y.call(t,"callee")&&!it.call(t,"callee")},Ht=Array.isArray;var Wt=ct||function(){return!1};function Gt(t){if(!Qt(t))return!1;var e=Ct(t);return e==f||e==p||e==c||e==x}function Zt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function Qt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Xt(t){return null!=t&&"object"==typeof t}var Yt=D?function(t){return function(e){return t(e)}}(D):function(t){return Xt(t)&&Zt(t.length)&&!!C[Ct(t)]};function Jt(t){return null!=(e=t)&&Zt(e.length)&&!Gt(e)?Lt(t):Mt(t);var e}t.exports=function(t,e){return jt(t,e)}},1210:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(3465),s=r(2307);var i;!function(t){t.compose=function(t={},e={},r=!1){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});let s=n(e);r||(s=Object.keys(s).reduce(((t,e)=>(null!=s[e]&&(t[e]=s[e]),t)),{}));for(const r in t)void 0!==t[r]&&void 0===e[r]&&(s[r]=t[r]);return Object.keys(s).length>0?s:void 0},t.diff=function(t={},e={}){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});const r=Object.keys(t).concat(Object.keys(e)).reduce(((r,n)=>(s(t[n],e[n])||(r[n]=void 0===e[n]?null:e[n]),r)),{});return Object.keys(r).length>0?r:void 0},t.invert=function(t={},e={}){t=t||{};const r=Object.keys(e).reduce(((r,n)=>(e[n]!==t[n]&&void 0!==t[n]&&(r[n]=e[n]),r)),{});return Object.keys(t).reduce(((r,n)=>(t[n]!==e[n]&&void 0===e[n]&&(r[n]=null),r)),r)},t.transform=function(t,e,r=!1){if("object"!=typeof t)return e;if("object"!=typeof e)return;if(!r)return e;const n=Object.keys(e).reduce(((r,n)=>(void 0===t[n]&&(r[n]=e[n]),r)),{});return Object.keys(n).length>0?n:void 0}}(i||(i={})),e.default=i},8895:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const n=r(7529),s=r(3465),i=r(2307),o=r(1210);e.AttributeMap=o.default;const l=r(430);e.Op=l.default;const a=r(9534);e.OpIterator=a.default;const c=String.fromCharCode(0),u=(t,e)=>{if("object"!=typeof t||null===t)throw new Error("cannot retain a "+typeof t);if("object"!=typeof e||null===e)throw new Error("cannot retain a "+typeof e);const r=Object.keys(t)[0];if(!r||r!==Object.keys(e)[0])throw new Error(`embed types not matched: ${r} != ${Object.keys(e)[0]}`);return[r,t[r],e[r]]};class h{constructor(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]}static registerEmbed(t,e){this.handlers[t]=e}static unregisterEmbed(t){delete this.handlers[t]}static getHandler(t){const e=this.handlers[t];if(!e)throw new Error(`no handlers for embed type "${t}"`);return e}insert(t,e){const r={};return"string"==typeof t&&0===t.length?this:(r.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(r.attributes=e),this.push(r))}delete(t){return t<=0?this:this.push({delete:t})}retain(t,e){if("number"==typeof t&&t<=0)return this;const r={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(r.attributes=e),this.push(r)}push(t){let e=this.ops.length,r=this.ops[e-1];if(t=s(t),"object"==typeof r){if("number"==typeof t.delete&&"number"==typeof r.delete)return this.ops[e-1]={delete:r.delete+t.delete},this;if("number"==typeof r.delete&&null!=t.insert&&(e-=1,r=this.ops[e-1],"object"!=typeof r))return this.ops.unshift(t),this;if(i(t.attributes,r.attributes)){if("string"==typeof t.insert&&"string"==typeof r.insert)return this.ops[e-1]={insert:r.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof r.retain)return this.ops[e-1]={retain:r.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this}chop(){const t=this.ops[this.ops.length-1];return t&&"number"==typeof t.retain&&!t.attributes&&this.ops.pop(),this}filter(t){return this.ops.filter(t)}forEach(t){this.ops.forEach(t)}map(t){return this.ops.map(t)}partition(t){const e=[],r=[];return this.forEach((n=>{(t(n)?e:r).push(n)})),[e,r]}reduce(t,e){return this.ops.reduce(t,e)}changeLength(){return this.reduce(((t,e)=>e.insert?t+l.default.length(e):e.delete?t-e.delete:t),0)}length(){return this.reduce(((t,e)=>t+l.default.length(e)),0)}slice(t=0,e=1/0){const r=[],n=new a.default(this.ops);let s=0;for(;s<e&&n.hasNext();){let i;s<t?i=n.next(t-s):(i=n.next(e-s),r.push(i)),s+=l.default.length(i)}return new h(r)}compose(t){const e=new a.default(this.ops),r=new a.default(t.ops),n=[],s=r.peek();if(null!=s&&"number"==typeof s.retain&&null==s.attributes){let t=s.retain;for(;"insert"===e.peekType()&&e.peekLength()<=t;)t-=e.peekLength(),n.push(e.next());s.retain-t>0&&r.next(s.retain-t)}const l=new h(n);for(;e.hasNext()||r.hasNext();)if("insert"===r.peekType())l.push(r.next());else if("delete"===e.peekType())l.push(e.next());else{const t=Math.min(e.peekLength(),r.peekLength()),n=e.next(t),s=r.next(t);if(s.retain){const a={};if("number"==typeof n.retain)a.retain="number"==typeof s.retain?t:s.retain;else if("number"==typeof s.retain)null==n.retain?a.insert=n.insert:a.retain=n.retain;else{const t=null==n.retain?"insert":"retain",[e,r,i]=u(n[t],s.retain),o=h.getHandler(e);a[t]={[e]:o.compose(r,i,"retain"===t)}}const c=o.default.compose(n.attributes,s.attributes,"number"==typeof n.retain);if(c&&(a.attributes=c),l.push(a),!r.hasNext()&&i(l.ops[l.ops.length-1],a)){const t=new h(e.rest());return l.concat(t).chop()}}else"number"==typeof s.delete&&("number"==typeof n.retain||"object"==typeof n.retain&&null!==n.retain)&&l.push(s)}return l.chop()}concat(t){const e=new h(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e}diff(t,e){if(this.ops===t.ops)return new h;const r=[this,t].map((e=>e.map((r=>{if(null!=r.insert)return"string"==typeof r.insert?r.insert:c;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")})).join(""))),s=new h,l=n(r[0],r[1],e,!0),u=new a.default(this.ops),d=new a.default(t.ops);return l.forEach((t=>{let e=t[1].length;for(;e>0;){let r=0;switch(t[0]){case n.INSERT:r=Math.min(d.peekLength(),e),s.push(d.next(r));break;case n.DELETE:r=Math.min(e,u.peekLength()),u.next(r),s.delete(r);break;case n.EQUAL:r=Math.min(u.peekLength(),d.peekLength(),e);const t=u.next(r),l=d.next(r);i(t.insert,l.insert)?s.retain(r,o.default.diff(t.attributes,l.attributes)):s.push(l).delete(r)}e-=r}})),s.chop()}eachLine(t,e="\n"){const r=new a.default(this.ops);let n=new h,s=0;for(;r.hasNext();){if("insert"!==r.peekType())return;const i=r.peek(),o=l.default.length(i)-r.peekLength(),a="string"==typeof i.insert?i.insert.indexOf(e,o)-o:-1;if(a<0)n.push(r.next());else if(a>0)n.push(r.next(a));else{if(!1===t(n,r.next(1).attributes||{},s))return;s+=1,n=new h}}n.length()>0&&t(n,{},s)}invert(t){const e=new h;return this.reduce(((r,n)=>{if(n.insert)e.delete(l.default.length(n));else{if("number"==typeof n.retain&&null==n.attributes)return e.retain(n.retain),r+n.retain;if(n.delete||"number"==typeof n.retain){const s=n.delete||n.retain;return t.slice(r,r+s).forEach((t=>{n.delete?e.push(t):n.retain&&n.attributes&&e.retain(l.default.length(t),o.default.invert(n.attributes,t.attributes))})),r+s}if("object"==typeof n.retain&&null!==n.retain){const s=t.slice(r,r+1),i=new a.default(s.ops).next(),[l,c,d]=u(n.retain,i.insert),f=h.getHandler(l);return e.retain({[l]:f.invert(c,d)},o.default.invert(n.attributes,i.attributes)),r+1}}return r}),0),e.chop()}transform(t,e=!1){if(e=!!e,"number"==typeof t)return this.transformPosition(t,e);const r=t,n=new a.default(this.ops),s=new a.default(r.ops),i=new h;for(;n.hasNext()||s.hasNext();)if("insert"!==n.peekType()||!e&&"insert"===s.peekType())if("insert"===s.peekType())i.push(s.next());else{const t=Math.min(n.peekLength(),s.peekLength()),r=n.next(t),l=s.next(t);if(r.delete)continue;if(l.delete)i.push(l);else{const n=r.retain,s=l.retain;let a="object"==typeof s&&null!==s?s:t;if("object"==typeof n&&null!==n&&"object"==typeof s&&null!==s){const t=Object.keys(n)[0];if(t===Object.keys(s)[0]){const r=h.getHandler(t);r&&(a={[t]:r.transform(n[t],s[t],e)})}}i.retain(a,o.default.transform(r.attributes,l.attributes,e))}}else i.retain(l.default.length(n.next()));return i.chop()}transformPosition(t,e=!1){e=!!e;const r=new a.default(this.ops);let n=0;for(;r.hasNext()&&n<=t;){const s=r.peekLength(),i=r.peekType();r.next(),"delete"!==i?("insert"===i&&(n<t||!e)&&(t+=s),n+=s):t-=Math.min(s,t-n)}return t}}h.Op=l.default,h.OpIterator=a.default,h.AttributeMap=o.default,h.handlers={},e.default=h,t.exports=h,t.exports.default=h},430:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.length=function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"object"==typeof t.retain&&null!==t.retain?1:"string"==typeof t.insert?t.insert.length:1}}(r||(r={})),e.default=r},9534:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(430);e.default=class{constructor(t){this.ops=t,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(t){t||(t=1/0);const e=this.ops[this.index];if(e){const r=this.offset,s=n.default.length(e);if(t>=s-r?(t=s-r,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};{const n={};return e.attributes&&(n.attributes=e.attributes),"number"==typeof e.retain?n.retain=t:"object"==typeof e.retain&&null!==e.retain?n.retain=e.retain:"string"==typeof e.insert?n.insert=e.insert.substr(r,t):n.insert=e.insert,n}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const t=this.ops[this.index];return t?"number"==typeof t.delete?"delete":"number"==typeof t.retain||"object"==typeof t.retain&&null!==t.retain?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);{const t=this.offset,e=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=t,this.index=e,[r].concat(n)}}return[]}}},4183:function(t){t.exports=function(){"use strict";function t(t,e){t.split(/\s+/).forEach((t=>{e(t)}))}class e{constructor(){this._events=void 0,this._events={}}on(e,r){t(e,(t=>{const e=this._events[t]||[];e.push(r),this._events[t]=e}))}off(e,r){var n=arguments.length;0!==n?t(e,(t=>{if(1===n)return void delete this._events[t];const e=this._events[t];void 0!==e&&(e.splice(e.indexOf(r),1),this._events[t]=e)})):this._events={}}trigger(e,...r){var n=this;t(e,(t=>{const e=n._events[t];void 0!==e&&e.forEach((t=>{t.apply(n,r)}))}))}}function r(t){return t.plugins={},class extends t{constructor(...t){super(...t),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(e,r){t.plugins[e]={name:e,fn:r}}initializePlugins(t){var e,r;const n=this,s=[];if(Array.isArray(t))t.forEach((t=>{"string"==typeof t?s.push(t):(n.plugins.settings[t.name]=t.options,s.push(t.name))}));else if(t)for(e in t)t.hasOwnProperty(e)&&(n.plugins.settings[e]=t[e],s.push(e));for(;r=s.shift();)n.require(r)}loadPlugin(e){var r=this,n=r.plugins,s=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');n.requested[e]=!0,n.loaded[e]=s.fn.apply(r,[r.plugins.settings[e]||{}]),n.names.push(e)}require(t){var e=this,r=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(r.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return r.loaded[t]}}}const n=t=>(t=t.filter(Boolean)).length<2?t[0]||"":1==a(t)?"["+t.join("")+"]":"(?:"+t.join("|")+")",s=t=>{if(!o(t))return t.join("");let e="",r=0;const n=()=>{r>1&&(e+="{"+r+"}")};return t.forEach(((s,i)=>{s!==t[i-1]?(n(),e+=s,r=1):r++})),n(),e},i=t=>{let e=u(t);return n(e)},o=t=>new Set(t).size!==t.length,l=t=>(t+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),a=t=>t.reduce(((t,e)=>Math.max(t,c(e))),0),c=t=>u(t).length,u=t=>Array.from(t),h=t=>{if(1===t.length)return[[t]];let e=[];const r=t.substring(1);return h(r).forEach((function(r){let n=r.slice(0);n[0]=t.charAt(0)+n[0],e.push(n),n=r.slice(0),n.unshift(t.charAt(0)),e.push(n)})),e},d=[[0,65535]],f="[̀-ͯ·ʾʼ]";let p,g;const m=3,v={},b={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let t in b){let e=b[t]||"";for(let r=0;r<e.length;r++){let n=e.substring(r,r+1);v[n]=t}}const y=new RegExp(Object.keys(v).join("|")+"|"+f,"gu"),x=t=>{void 0===p&&(p=S(t||d))},w=(t,e="NFKD")=>t.normalize(e),O=t=>u(t).reduce(((t,e)=>t+E(e)),""),E=t=>(t=w(t).toLowerCase().replace(y,(t=>v[t]||"")),w(t,"NFC"));function*A(t){for(const[e,r]of t)for(let t=e;t<=r;t++){let e=String.fromCharCode(t),r=O(e);r!=e.toLowerCase()&&(r.length>m||0!=r.length&&(yield{folded:r,composed:e,code_point:t}))}}const N=t=>{const e={},r=(t,r)=>{const n=e[t]||new Set,s=new RegExp("^"+i(n)+"$","iu");r.match(s)||(n.add(l(r)),e[t]=n)};for(let e of A(t))r(e.folded,e.folded),r(e.folded,e.composed);return e},S=t=>{const e=N(t),r={};let s=[];for(let t in e){let n=e[t];n&&(r[t]=i(n)),t.length>1&&s.push(l(t))}s.sort(((t,e)=>e.length-t.length));const o=n(s);return g=new RegExp("^"+o,"u"),r},k=(t,e=1)=>{let r=0;return t=t.map((t=>(p[t]&&(r+=t.length),p[t]||t))),r>=e?s(t):""},_=(t,e=1)=>(e=Math.max(e,t.length-1),n(h(t).map((t=>k(t,e))))),L=(t,e=!0)=>{let r=t.length>1?1:0;return n(t.map((t=>{let n=[];const i=e?t.length():t.length()-1;for(let e=0;e<i;e++)n.push(_(t.substrs[e]||"",r));return s(n)})))},T=(t,e)=>{for(const r of e){if(r.start!=t.start||r.end!=t.end)continue;if(r.substrs.join("")!==t.substrs.join(""))continue;let e=t.parts;const n=t=>{for(const r of e){if(r.start===t.start&&r.substr===t.substr)return!1;if(1!=t.length&&1!=r.length){if(t.start<r.start&&t.end>r.start)return!0;if(r.start<t.start&&r.end>t.start)return!0}}return!1};if(!(r.parts.filter(n).length>0))return!0}return!1};class C{constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(t){t&&(this.parts.push(t),this.substrs.push(t.substr),this.start=Math.min(t.start,this.start),this.end=Math.max(t.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(t,e){let r=new C,n=JSON.parse(JSON.stringify(this.parts)),s=n.pop();for(const t of n)r.add(t);let i=e.substr.substring(0,t-s.start),o=i.length;return r.add({start:s.start,end:s.start+o,length:o,substr:i}),r}}const q=t=>{x(),t=O(t);let e="",r=[new C];for(let n=0;n<t.length;n++){let s=t.substring(n).match(g);const i=t.substring(n,n+1),o=s?s[0]:null;let l=[],a=new Set;for(const t of r){const e=t.last();if(!e||1==e.length||e.end<=n)if(o){const e=o.length;t.add({start:n,end:n+e,length:e,substr:o}),a.add("1")}else t.add({start:n,end:n+1,length:1,substr:i}),a.add("2");else if(o){let r=t.clone(n,e);const s=o.length;r.add({start:n,end:n+s,length:s,substr:o}),l.push(r)}else a.add("3")}if(l.length>0){l=l.sort(((t,e)=>t.length()-e.length()));for(let t of l)T(t,r)||r.push(t)}else if(n>0&&1==a.size&&!a.has("3")){e+=L(r,!1);let t=new C;const n=r[0];n&&t.add(n.last()),r=[t]}}return e+=L(r,!0),e},j=(t,e)=>{if(t)return t[e]},I=(t,e)=>{if(t){for(var r,n=e.split(".");(r=n.shift())&&(t=t[r]););return t}},M=(t,e,r)=>{var n,s;return t?(t+="",null==e.regex||-1===(s=t.search(e.regex))?0:(n=e.string.length/t.length,0===s&&(n+=.5),n*r)):0},R=(t,e)=>{var r=t[e];if("function"==typeof r)return r;r&&!Array.isArray(r)&&(t[e]=[r])},F=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var r in t)t.hasOwnProperty(r)&&e(t[r],r)},B=(t,e)=>"number"==typeof t&&"number"==typeof e?t>e?1:t<e?-1:0:(t=O(t+"").toLowerCase())>(e=O(e+"").toLowerCase())?1:e>t?-1:0;class P{constructor(t,e){this.items=void 0,this.settings=void 0,this.items=t,this.settings=e||{diacritics:!0}}tokenize(t,e,r){if(!t||!t.length)return[];const n=[],s=t.split(/\s+/);var i;return r&&(i=new RegExp("^("+Object.keys(r).map(l).join("|")+"):(.*)$")),s.forEach((t=>{let r,s=null,o=null;i&&(r=t.match(i))&&(s=r[1],t=r[2]),t.length>0&&(o=this.settings.diacritics?q(t)||null:l(t),o&&e&&(o="\\b"+o)),n.push({string:t,regex:o?new RegExp(o,"iu"):null,field:s})})),n}getScoreFunction(t,e){var r=this.prepareSearch(t,e);return this._getScoreFunction(r)}_getScoreFunction(t){const e=t.tokens,r=e.length;if(!r)return function(){return 0};const n=t.options.fields,s=t.weights,i=n.length,o=t.getAttrFn;if(!i)return function(){return 1};const l=1===i?function(t,e){const r=n[0].field;return M(o(e,r),t,s[r]||1)}:function(t,e){var r=0;if(t.field){const n=o(e,t.field);!t.regex&&n?r+=1/i:r+=M(n,t,1)}else F(s,((n,s)=>{r+=M(o(e,s),t,n)}));return r/i};return 1===r?function(t){return l(e[0],t)}:"and"===t.options.conjunction?function(t){var n,s=0;for(let r of e){if((n=l(r,t))<=0)return 0;s+=n}return s/r}:function(t){var n=0;return F(e,(e=>{n+=l(e,t)})),n/r}}getSortFunction(t,e){var r=this.prepareSearch(t,e);return this._getSortFunction(r)}_getSortFunction(t){var e,r=[];const n=this,s=t.options,i=!t.query&&s.sort_empty?s.sort_empty:s.sort;if("function"==typeof i)return i.bind(this);const o=function(e,r){return"$score"===e?r.score:t.getAttrFn(n.items[r.id],e)};if(i)for(let e of i)(t.query||"$score"!==e.field)&&r.push(e);if(t.query){e=!0;for(let t of r)if("$score"===t.field){e=!1;break}e&&r.unshift({field:"$score",direction:"desc"})}else r=r.filter((t=>"$score"!==t.field));return r.length?function(t,e){var n,s;for(let i of r)if(s=i.field,n=("desc"===i.direction?-1:1)*B(o(s,t),o(s,e)))return n;return 0}:null}prepareSearch(t,e){const r={};var n=Object.assign({},e);if(R(n,"sort"),R(n,"sort_empty"),n.fields){R(n,"fields");const t=[];n.fields.forEach((e=>{"string"==typeof e&&(e={field:e,weight:1}),t.push(e),r[e.field]="weight"in e?e.weight:1})),n.fields=t}return{options:n,query:t.toLowerCase().trim(),tokens:this.tokenize(t,n.respect_word_boundaries,r),total:0,items:[],weights:r,getAttrFn:n.nesting?I:j}}search(t,e){var r,n,s=this;n=this.prepareSearch(t,e),e=n.options,t=n.query;const i=e.score||s._getScoreFunction(n);t.length?F(s.items,((t,s)=>{r=i(t),(!1===e.filter||r>0)&&n.items.push({score:r,id:s})})):F(s.items,((t,e)=>{n.items.push({score:1,id:e})}));const o=s._getSortFunction(n);return o&&n.items.sort(o),n.total=n.items.length,"number"==typeof e.limit&&(n.items=n.items.slice(0,e.limit)),n}}const D=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var r in t)t.hasOwnProperty(r)&&e(t[r],r)},$=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(U(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},U=t=>"string"==typeof t&&t.indexOf("<")>-1,V=t=>t.replace(/['"\\]/g,"\\$&"),z=(t,e)=>{var r=document.createEvent("HTMLEvents");r.initEvent(e,!0,!1),t.dispatchEvent(r)},K=(t,e)=>{Object.assign(t.style,e)},H=(t,...e)=>{var r=G(e);(t=Z(t)).map((t=>{r.map((e=>{t.classList.add(e)}))}))},W=(t,...e)=>{var r=G(e);(t=Z(t)).map((t=>{r.map((e=>{t.classList.remove(e)}))}))},G=t=>{var e=[];return D(t,(t=>{"string"==typeof t&&(t=t.trim().split(/[\11\12\14\15\40]/)),Array.isArray(t)&&(e=e.concat(t))})),e.filter(Boolean)},Z=t=>(Array.isArray(t)||(t=[t]),t),Q=(t,e,r)=>{if(!r||r.contains(t))for(;t&&t.matches;){if(t.matches(e))return t;t=t.parentNode}},X=(t,e=0)=>e>0?t[t.length-1]:t[0],Y=t=>0===Object.keys(t).length,J=(t,e)=>{if(!t)return-1;e=e||t.nodeName;for(var r=0;t=t.previousElementSibling;)t.matches(e)&&r++;return r},tt=(t,e)=>{D(e,((e,r)=>{null==e?t.removeAttribute(r):t.setAttribute(r,""+e)}))},et=(t,e)=>{t.parentNode&&t.parentNode.replaceChild(e,t)},rt=(t,e)=>{if(null===e)return;if("string"==typeof e){if(!e.length)return;e=new RegExp(e,"i")}const r=t=>{var r=t.data.match(e);if(r&&t.data.length>0){var n=document.createElement("span");n.className="highlight";var s=t.splitText(r.index);s.splitText(r[0].length);var i=s.cloneNode(!0);return n.appendChild(i),et(s,n),1}return 0},n=t=>{1!==t.nodeType||!t.childNodes||/(script|style)/i.test(t.tagName)||"highlight"===t.className&&"SPAN"===t.tagName||Array.from(t.childNodes).forEach((t=>{s(t)}))},s=t=>3===t.nodeType?r(t):(n(t),0);s(t)},nt=t=>{var e=t.querySelectorAll("span.highlight");Array.prototype.forEach.call(e,(function(t){var e=t.parentNode;e.replaceChild(t.firstChild,t),e.normalize()}))},st=65,it=13,ot=27,lt=37,at=38,ct=39,ut=40,ht=8,dt=46,ft=9,pt="undefined"!=typeof navigator&&/Mac/.test(navigator.userAgent)?"metaKey":"ctrlKey";var gt={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(t){return t.length>0},render:{}};const mt=t=>null==t?null:vt(t),vt=t=>"boolean"==typeof t?t?"1":"0":t+"",bt=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),yt=(t,e)=>e>0?setTimeout(t,e):(t.call(null),null),xt=(t,e)=>{var r;return function(n,s){var i=this;r&&(i.loading=Math.max(i.loading-1,0),clearTimeout(r)),r=setTimeout((function(){r=null,i.loadedSearches[n]=!0,t.call(i,n,s)}),e)}},wt=(t,e,r)=>{var n,s=t.trigger,i={};for(n of(t.trigger=function(){var r=arguments[0];if(-1===e.indexOf(r))return s.apply(t,arguments);i[r]=arguments},r.apply(t,[]),t.trigger=s,e))n in i&&s.apply(t,i[n])},Ot=t=>({start:t.selectionStart||0,length:(t.selectionEnd||0)-(t.selectionStart||0)}),Et=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},At=(t,e,r,n)=>{t.addEventListener(e,r,n)},Nt=(t,e)=>!!e&&!!e[t]&&1==(e.altKey?1:0)+(e.ctrlKey?1:0)+(e.shiftKey?1:0)+(e.metaKey?1:0),St=(t,e)=>{const r=t.getAttribute("id");return r||(t.setAttribute("id",e),e)},kt=t=>t.replace(/[\\"']/g,"\\$&"),_t=(t,e)=>{e&&t.append(e)};function Lt(t,e){var r=Object.assign({},gt,e),n=r.dataAttr,s=r.labelField,i=r.valueField,o=r.disabledField,l=r.optgroupField,a=r.optgroupLabelField,c=r.optgroupValueField,u=t.tagName.toLowerCase(),h=t.getAttribute("placeholder")||t.getAttribute("data-placeholder");if(!h&&!r.allowEmptyOption){let e=t.querySelector('option[value=""]');e&&(h=e.textContent)}var d={placeholder:h,options:[],optgroups:[],items:[],maxItems:null},f=()=>{const e=t.getAttribute(n);if(e)d.options=JSON.parse(e),D(d.options,(t=>{d.items.push(t[i])}));else{var o=t.value.trim()||"";if(!r.allowEmptyOption&&!o.length)return;const e=o.split(r.delimiter);D(e,(t=>{const e={};e[s]=t,e[i]=t,d.options.push(e)})),d.items=e}};return"select"===u?(()=>{var e,u=d.options,h={},f=1;let p=0;var g=t=>{var e=Object.assign({},t.dataset),r=n&&e[n];return"string"==typeof r&&r.length&&(e=Object.assign(e,JSON.parse(r))),e},m=(t,e)=>{var n=mt(t.value);if(null!=n&&(n||r.allowEmptyOption)){if(h.hasOwnProperty(n)){if(e){var a=h[n][l];a?Array.isArray(a)?a.push(e):h[n][l]=[a,e]:h[n][l]=e}}else{var c=g(t);c[s]=c[s]||t.textContent,c[i]=c[i]||n,c[o]=c[o]||t.disabled,c[l]=c[l]||e,c.$option=t,c.$order=c.$order||++p,h[n]=c,u.push(c)}t.selected&&d.items.push(n)}},v=t=>{var e,r;(r=g(t))[a]=r[a]||t.getAttribute("label")||"",r[c]=r[c]||f++,r[o]=r[o]||t.disabled,r.$order=r.$order||++p,d.optgroups.push(r),e=r[c],D(t.children,(t=>{m(t,e)}))};d.maxItems=t.hasAttribute("multiple")?null:1,D(t.children,(t=>{"optgroup"===(e=t.tagName.toLowerCase())?v(t):"option"===e&&m(t)}))})():f(),Object.assign({},gt,d,e)}var Tt=0;class Ct extends(r(e)){constructor(t,e){var r;super(),this.control_input=void 0,this.wrapper=void 0,this.dropdown=void 0,this.control=void 0,this.dropdown_content=void 0,this.focus_node=void 0,this.order=0,this.settings=void 0,this.input=void 0,this.tabIndex=void 0,this.is_select_tag=void 0,this.rtl=void 0,this.inputId=void 0,this._destroy=void 0,this.sifter=void 0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isRequired=void 0,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.currentResults=void 0,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,Tt++;var n=$(t);if(n.tomselect)throw new Error("Tom Select already initialized on this element");n.tomselect=this,r=(window.getComputedStyle&&window.getComputedStyle(n,null)).getPropertyValue("direction");const s=Lt(n,e);this.settings=s,this.input=n,this.tabIndex=n.tabIndex||0,this.is_select_tag="select"===n.tagName.toLowerCase(),this.rtl=/rtl/i.test(r),this.inputId=St(n,"tomselect-"+Tt),this.isRequired=n.required,this.sifter=new P(this.options,{diacritics:s.diacritics}),s.mode=s.mode||(1===s.maxItems?"single":"multi"),"boolean"!=typeof s.hideSelected&&(s.hideSelected="multi"===s.mode),"boolean"!=typeof s.hidePlaceholder&&(s.hidePlaceholder="multi"!==s.mode);var i=s.createFilter;"function"!=typeof i&&("string"==typeof i&&(i=new RegExp(i)),i instanceof RegExp?s.createFilter=t=>i.test(t):s.createFilter=t=>this.settings.duplicates||!this.options[t]),this.initializePlugins(s.plugins),this.setupCallbacks(),this.setupTemplates();const o=$("<div>"),l=$("<div>"),a=this._render("dropdown"),c=$('<div role="listbox" tabindex="-1">'),u=this.input.getAttribute("class")||"",h=s.mode;var d;H(o,s.wrapperClass,u,h),H(l,s.controlClass),_t(o,l),H(a,s.dropdownClass,h),s.copyClassesToDropdown&&H(a,u),H(c,s.dropdownContentClass),_t(a,c),$(s.dropdownParent||o).appendChild(a),U(s.controlInput)?(d=$(s.controlInput),F(["autocorrect","autocapitalize","autocomplete","spellcheck"],(t=>{n.getAttribute(t)&&tt(d,{[t]:n.getAttribute(t)})})),d.tabIndex=-1,l.appendChild(d),this.focus_node=d):s.controlInput?(d=$(s.controlInput),this.focus_node=d):(d=$("<input/>"),this.focus_node=l),this.wrapper=o,this.dropdown=a,this.dropdown_content=c,this.control=l,this.control_input=d,this.setup()}setup(){const t=this,e=t.settings,r=t.control_input,n=t.dropdown,s=t.dropdown_content,i=t.wrapper,o=t.control,a=t.input,c=t.focus_node,u={passive:!0},h=t.inputId+"-ts-dropdown";tt(s,{id:h}),tt(c,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":h});const d=St(c,t.inputId+"-ts-control"),f="label[for='"+V(t.inputId)+"']",p=document.querySelector(f),g=t.focus.bind(t);if(p){At(p,"click",g),tt(p,{for:d});const e=St(p,t.inputId+"-ts-label");tt(c,{"aria-labelledby":e}),tt(s,{"aria-labelledby":e})}if(i.style.width=a.style.width,t.plugins.names.length){const e="plugin-"+t.plugins.names.join(" plugin-");H([i,n],e)}(null===e.maxItems||e.maxItems>1)&&t.is_select_tag&&tt(a,{multiple:"multiple"}),e.placeholder&&tt(r,{placeholder:e.placeholder}),!e.splitOn&&e.delimiter&&(e.splitOn=new RegExp("\\s*"+l(e.delimiter)+"+\\s*")),e.load&&e.loadThrottle&&(e.load=xt(e.load,e.loadThrottle)),At(n,"mousemove",(()=>{t.ignoreHover=!1})),At(n,"mouseenter",(e=>{var r=Q(e.target,"[data-selectable]",n);r&&t.onOptionHover(e,r)}),{capture:!0}),At(n,"click",(e=>{const r=Q(e.target,"[data-selectable]");r&&(t.onOptionSelect(e,r),Et(e,!0))})),At(o,"click",(e=>{var n=Q(e.target,"[data-ts-item]",o);n&&t.onItemSelect(e,n)?Et(e,!0):""==r.value&&(t.onClick(),Et(e,!0))})),At(c,"keydown",(e=>t.onKeyDown(e))),At(r,"keypress",(e=>t.onKeyPress(e))),At(r,"input",(e=>t.onInput(e))),At(c,"blur",(e=>t.onBlur(e))),At(c,"focus",(e=>t.onFocus(e))),At(r,"paste",(e=>t.onPaste(e)));const m=e=>{const s=e.composedPath()[0];if(!i.contains(s)&&!n.contains(s))return t.isFocused&&t.blur(),void t.inputState();s==r&&t.isOpen?e.stopPropagation():Et(e,!0)},v=()=>{t.isOpen&&t.positionDropdown()};At(document,"mousedown",m),At(window,"scroll",v,u),At(window,"resize",v,u),this._destroy=()=>{document.removeEventListener("mousedown",m),window.removeEventListener("scroll",v),window.removeEventListener("resize",v),p&&p.removeEventListener("click",g)},this.revertSettings={innerHTML:a.innerHTML,tabIndex:a.tabIndex},a.tabIndex=-1,a.insertAdjacentElement("afterend",t.wrapper),t.sync(!1),e.items=[],delete e.optgroups,delete e.options,At(a,"invalid",(()=>{t.isValid&&(t.isValid=!1,t.isInvalid=!0,t.refreshState())})),t.updateOriginalInput(),t.refreshItems(),t.close(!1),t.inputState(),t.isSetup=!0,a.disabled?t.disable():a.readOnly?t.setReadOnly(!0):t.enable(),t.on("change",this.onChange),H(a,"tomselected","ts-hidden-accessible"),t.trigger("initialize"),!0===e.preload&&t.preload()}setupOptions(t=[],e=[]){this.addOptions(t),F(e,(t=>{this.registerOptionGroup(t)}))}setupTemplates(){var t=this,e=t.settings.labelField,r=t.settings.optgroupLabelField,n={optgroup:t=>{let e=document.createElement("div");return e.className="optgroup",e.appendChild(t.options),e},optgroup_header:(t,e)=>'<div class="optgroup-header">'+e(t[r])+"</div>",option:(t,r)=>"<div>"+r(t[e])+"</div>",item:(t,r)=>"<div>"+r(t[e])+"</div>",option_create:(t,e)=>'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};t.settings.render=Object.assign({},n,t.settings.render)}setupCallbacks(){var t,e,r={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in r)(e=this.settings[r[t]])&&this.on(t,e)}sync(t=!0){const e=this,r=t?Lt(e.input,{delimiter:e.settings.delimiter}):e.settings;e.setupOptions(r.options,r.optgroups),e.setValue(r.items||[],!0),e.lastQuery=null}onClick(){var t=this;if(t.activeItems.length>0)return t.clearActiveItems(),void t.focus();t.isFocused&&t.isOpen?t.blur():t.focus()}onMouseDown(){}onChange(){z(this.input,"input"),z(this.input,"change")}onPaste(t){var e=this;e.isInputHidden||e.isLocked?Et(t):e.settings.splitOn&&setTimeout((()=>{var t=e.inputValue();if(t.match(e.settings.splitOn)){var r=t.trim().split(e.settings.splitOn);F(r,(t=>{mt(t)&&(this.options[t]?e.addItem(t):e.createItem(t))}))}}),0)}onKeyPress(t){var e=this;if(!e.isLocked){var r=String.fromCharCode(t.keyCode||t.which);return e.settings.create&&"multi"===e.settings.mode&&r===e.settings.delimiter?(e.createItem(),void Et(t)):void 0}Et(t)}onKeyDown(t){var e=this;if(e.ignoreHover=!0,e.isLocked)t.keyCode!==ft&&Et(t);else{switch(t.keyCode){case st:if(Nt(pt,t)&&""==e.control_input.value)return Et(t),void e.selectAll();break;case ot:return e.isOpen&&(Et(t,!0),e.close()),void e.clearActiveItems();case ut:if(!e.isOpen&&e.hasOptions)e.open();else if(e.activeOption){let t=e.getAdjacent(e.activeOption,1);t&&e.setActiveOption(t)}return void Et(t);case at:if(e.activeOption){let t=e.getAdjacent(e.activeOption,-1);t&&e.setActiveOption(t)}return void Et(t);case it:return void(e.canSelect(e.activeOption)?(e.onOptionSelect(t,e.activeOption),Et(t)):(e.settings.create&&e.createItem()||document.activeElement==e.control_input&&e.isOpen)&&Et(t));case lt:return void e.advanceSelection(-1,t);case ct:return void e.advanceSelection(1,t);case ft:return void(e.settings.selectOnTab&&(e.canSelect(e.activeOption)&&(e.onOptionSelect(t,e.activeOption),Et(t)),e.settings.create&&e.createItem()&&Et(t)));case ht:case dt:return void e.deleteSelection(t)}e.isInputHidden&&!Nt(pt,t)&&Et(t)}}onInput(t){if(this.isLocked)return;const e=this.inputValue();this.lastValue!==e&&(this.lastValue=e,""!=e?(this.refreshTimeout&&clearTimeout(this.refreshTimeout),this.refreshTimeout=yt((()=>{this.refreshTimeout=null,this._onInput()}),this.settings.refreshThrottle)):this._onInput())}_onInput(){const t=this.lastValue;this.settings.shouldLoad.call(this,t)&&this.load(t),this.refreshOptions(),this.trigger("type",t)}onOptionHover(t,e){this.ignoreHover||this.setActiveOption(e,!1)}onFocus(t){var e=this,r=e.isFocused;if(e.isDisabled||e.isReadOnly)return e.blur(),void Et(t);e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.preload(),r||e.trigger("focus"),e.activeItems.length||(e.inputState(),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())}onBlur(t){if(!1!==document.hasFocus()){var e=this;if(e.isFocused){e.isFocused=!1,e.ignoreFocus=!1;var r=()=>{e.close(),e.setActiveItem(),e.setCaret(e.items.length),e.trigger("blur")};e.settings.create&&e.settings.createOnBlur?e.createItem(null,r):r()}}}onOptionSelect(t,e){var r,n=this;e.parentElement&&e.parentElement.matches("[data-disabled]")||(e.classList.contains("create")?n.createItem(null,(()=>{n.settings.closeAfterSelect&&n.close()})):void 0!==(r=e.dataset.value)&&(n.lastQuery=null,n.addItem(r),n.settings.closeAfterSelect&&n.close(),!n.settings.hideSelected&&t.type&&/click/.test(t.type)&&n.setActiveOption(e)))}canSelect(t){return!!(this.isOpen&&t&&this.dropdown_content.contains(t))}onItemSelect(t,e){var r=this;return!r.isLocked&&"multi"===r.settings.mode&&(Et(t),r.setActiveItem(e,t),!0)}canLoad(t){return!!this.settings.load&&!this.loadedSearches.hasOwnProperty(t)}load(t){const e=this;if(!e.canLoad(t))return;H(e.wrapper,e.settings.loadingClass),e.loading++;const r=e.loadCallback.bind(e);e.settings.load.call(e,t,r)}loadCallback(t,e){const r=this;r.loading=Math.max(r.loading-1,0),r.lastQuery=null,r.clearActiveOption(),r.setupOptions(t,e),r.refreshOptions(r.isFocused&&!r.isInputHidden),r.loading||W(r.wrapper,r.settings.loadingClass),r.trigger("load",t,e)}preload(){var t=this.wrapper.classList;t.contains("preloaded")||(t.add("preloaded"),this.load(""))}setTextboxValue(t=""){var e=this.control_input;e.value!==t&&(e.value=t,z(e,"update"),this.lastValue=t)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(t,e){wt(this,e?[]:["change"],(()=>{this.clear(e),this.addItems(t,e)}))}setMaxItems(t){0===t&&(t=null),this.settings.maxItems=t,this.refreshState()}setActiveItem(t,e){var r,n,s,i,o,l,a=this;if("single"!==a.settings.mode){if(!t)return a.clearActiveItems(),void(a.isFocused&&a.inputState());if("click"===(r=e&&e.type.toLowerCase())&&Nt("shiftKey",e)&&a.activeItems.length){for(l=a.getLastActive(),(s=Array.prototype.indexOf.call(a.control.children,l))>(i=Array.prototype.indexOf.call(a.control.children,t))&&(o=s,s=i,i=o),n=s;n<=i;n++)t=a.control.children[n],-1===a.activeItems.indexOf(t)&&a.setActiveItemClass(t);Et(e)}else"click"===r&&Nt(pt,e)||"keydown"===r&&Nt("shiftKey",e)?t.classList.contains("active")?a.removeActiveItem(t):a.setActiveItemClass(t):(a.clearActiveItems(),a.setActiveItemClass(t));a.inputState(),a.isFocused||a.focus()}}setActiveItemClass(t){const e=this,r=e.control.querySelector(".last-active");r&&W(r,"last-active"),H(t,"active last-active"),e.trigger("item_select",t),-1==e.activeItems.indexOf(t)&&e.activeItems.push(t)}removeActiveItem(t){var e=this.activeItems.indexOf(t);this.activeItems.splice(e,1),W(t,"active")}clearActiveItems(){W(this.activeItems,"active"),this.activeItems=[]}setActiveOption(t,e=!0){t!==this.activeOption&&(this.clearActiveOption(),t&&(this.activeOption=t,tt(this.focus_node,{"aria-activedescendant":t.getAttribute("id")}),tt(t,{"aria-selected":"true"}),H(t,"active"),e&&this.scrollToOption(t)))}scrollToOption(t,e){if(!t)return;const r=this.dropdown_content,n=r.clientHeight,s=r.scrollTop||0,i=t.offsetHeight,o=t.getBoundingClientRect().top-r.getBoundingClientRect().top+s;o+i>n+s?this.scroll(o-n+i,e):o<s&&this.scroll(o,e)}scroll(t,e){const r=this.dropdown_content;e&&(r.style.scrollBehavior=e),r.scrollTop=t,r.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(W(this.activeOption,"active"),tt(this.activeOption,{"aria-selected":null})),this.activeOption=null,tt(this.focus_node,{"aria-activedescendant":null})}selectAll(){const t=this;if("single"===t.settings.mode)return;const e=t.controlChildren();e.length&&(t.inputState(),t.close(),t.activeItems=e,F(e,(e=>{t.setActiveItemClass(e)})))}inputState(){var t=this;t.control.contains(t.control_input)&&(tt(t.control_input,{placeholder:t.settings.placeholder}),t.activeItems.length>0||!t.isFocused&&t.settings.hidePlaceholder&&t.items.length>0?(t.setTextboxValue(),t.isInputHidden=!0):(t.settings.hidePlaceholder&&t.items.length>0&&tt(t.control_input,{placeholder:""}),t.isInputHidden=!1),t.wrapper.classList.toggle("input-hidden",t.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var t=this;t.isDisabled||t.isReadOnly||(t.ignoreFocus=!0,t.control_input.offsetWidth?t.control_input.focus():t.focus_node.focus(),setTimeout((()=>{t.ignoreFocus=!1,t.onFocus()}),0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())}getSearchOptions(){var t=this.settings,e=t.sortField;return"string"==typeof t.sortField&&(e=[{field:t.sortField}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e,nesting:t.nesting}}search(t){var e,r,n=this,s=this.getSearchOptions();if(n.settings.score&&"function"!=typeof(r=n.settings.score.call(n,t)))throw new Error('Tom Select "score" setting must be a function that returns a function');return t!==n.lastQuery?(n.lastQuery=t,e=n.sifter.search(t,Object.assign(s,{score:r})),n.currentResults=e):e=Object.assign({},n.currentResults),n.settings.hideSelected&&(e.items=e.items.filter((t=>{let e=mt(t.id);return!(e&&-1!==n.items.indexOf(e))}))),e}refreshOptions(t=!0){var e,r,n,s,i,o,l,a,c,u;const h={},d=[];var f=this,p=f.inputValue();const g=p===f.lastQuery||""==p&&null==f.lastQuery;var m=f.search(p),v=null,b=f.settings.shouldOpen||!1,y=f.dropdown_content;g&&(v=f.activeOption)&&(c=v.closest("[data-group]")),s=m.items.length,"number"==typeof f.settings.maxOptions&&(s=Math.min(s,f.settings.maxOptions)),s>0&&(b=!0);const x=(t,e)=>{let r=h[t];if(void 0!==r){let t=d[r];if(void 0!==t)return[r,t.fragment]}let n=document.createDocumentFragment();return r=d.length,d.push({fragment:n,order:e,optgroup:t}),[r,n]};for(e=0;e<s;e++){let t=m.items[e];if(!t)continue;let s=t.id,l=f.options[s];if(void 0===l)continue;let a=vt(s),u=f.getOption(a,!0);for(f.settings.hideSelected||u.classList.toggle("selected",f.items.includes(a)),i=l[f.settings.optgroupField]||"",r=0,n=(o=Array.isArray(i)?i:[i])&&o.length;r<n;r++){i=o[r];let t=l.$order,e=f.optgroups[i];void 0===e?i="":t=e.$order;const[n,a]=x(i,t);r>0&&(u=u.cloneNode(!0),tt(u,{id:l.$id+"-clone-"+r,"aria-selected":null}),u.classList.add("ts-cloned"),W(u,"active"),f.activeOption&&f.activeOption.dataset.value==s&&c&&c.dataset.group===i.toString()&&(v=u)),a.appendChild(u),""!=i&&(h[i]=n)}}f.settings.lockOptgroupOrder&&d.sort(((t,e)=>t.order-e.order)),l=document.createDocumentFragment(),F(d,(t=>{let e=t.fragment,r=t.optgroup;if(!e||!e.children.length)return;let n=f.optgroups[r];if(void 0!==n){let t=document.createDocumentFragment(),r=f.render("optgroup_header",n);_t(t,r),_t(t,e);let s=f.render("optgroup",{group:n,options:t});_t(l,s)}else _t(l,e)})),y.innerHTML="",_t(y,l),f.settings.highlight&&(nt(y),m.query.length&&m.tokens.length&&F(m.tokens,(t=>{rt(y,t.regex)})));var w=t=>{let e=f.render(t,{input:p});return e&&(b=!0,y.insertBefore(e,y.firstChild)),e};if(f.loading?w("loading"):f.settings.shouldLoad.call(f,p)?0===m.items.length&&w("no_results"):w("not_loading"),(a=f.canCreate(p))&&(u=w("option_create")),f.hasOptions=m.items.length>0||a,b){if(m.items.length>0){if(v||"single"!==f.settings.mode||null==f.items[0]||(v=f.getOption(f.items[0])),!y.contains(v)){let t=0;u&&!f.settings.addPrecedence&&(t=1),v=f.selectable()[t]}}else u&&(v=u);t&&!f.isOpen&&(f.open(),f.scrollToOption(v,"auto")),f.setActiveOption(v)}else f.clearActiveOption(),t&&f.isOpen&&f.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(t,e=!1){const r=this;if(Array.isArray(t))return r.addOptions(t,e),!1;const n=mt(t[r.settings.valueField]);return null!==n&&!r.options.hasOwnProperty(n)&&(t.$order=t.$order||++r.order,t.$id=r.inputId+"-opt-"+t.$order,r.options[n]=t,r.lastQuery=null,e&&(r.userOptions[n]=e,r.trigger("option_add",n,t)),n)}addOptions(t,e=!1){F(t,(t=>{this.addOption(t,e)}))}registerOption(t){return this.addOption(t)}registerOptionGroup(t){var e=mt(t[this.settings.optgroupValueField]);return null!==e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)}addOptionGroup(t,e){var r;e[this.settings.optgroupValueField]=t,(r=this.registerOptionGroup(e))&&this.trigger("optgroup_add",r,e)}removeOptionGroup(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.clearCache(),this.trigger("optgroup_remove",t))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(t,e){const r=this;var n,s;const i=mt(t),o=mt(e[r.settings.valueField]);if(null===i)return;const l=r.options[i];if(null==l)return;if("string"!=typeof o)throw new Error("Value must be set in option data");const a=r.getOption(i),c=r.getItem(i);if(e.$order=e.$order||l.$order,delete r.options[i],r.uncacheValue(o),r.options[o]=e,a){if(r.dropdown_content.contains(a)){const t=r._render("option",e);et(a,t),r.activeOption===a&&r.setActiveOption(t)}a.remove()}c&&(-1!==(s=r.items.indexOf(i))&&r.items.splice(s,1,o),n=r._render("item",e),c.classList.contains("active")&&H(n,"active"),et(c,n)),r.lastQuery=null}removeOption(t,e){const r=this;t=vt(t),r.uncacheValue(t),delete r.userOptions[t],delete r.options[t],r.lastQuery=null,r.trigger("option_remove",t),r.removeItem(t,e)}clearOptions(t){const e=(t||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const r={};F(this.options,((t,n)=>{e(t,n)&&(r[n]=t)})),this.options=this.sifter.items=r,this.lastQuery=null,this.trigger("option_clear")}clearFilter(t,e){return this.items.indexOf(e)>=0}getOption(t,e=!1){const r=mt(t);if(null===r)return null;const n=this.options[r];if(null!=n){if(n.$div)return n.$div;if(e)return this._render("option",n)}return null}getAdjacent(t,e,r="option"){var n,s=this;if(!t)return null;n="item"==r?s.controlChildren():s.dropdown_content.querySelectorAll("[data-selectable]");for(let r=0;r<n.length;r++)if(n[r]==t)return e>0?n[r+1]:n[r-1];return null}getItem(t){if("object"==typeof t)return t;var e=mt(t);return null!==e?this.control.querySelector(`[data-value="${kt(e)}"]`):null}addItems(t,e){var r=this,n=Array.isArray(t)?t:[t];const s=(n=n.filter((t=>-1===r.items.indexOf(t))))[n.length-1];n.forEach((t=>{r.isPending=t!==s,r.addItem(t,e)}))}addItem(t,e){wt(this,e?[]:["change","dropdown_close"],(()=>{var r,n;const s=this,i=s.settings.mode,o=mt(t);if((!o||-1===s.items.indexOf(o)||("single"===i&&s.close(),"single"!==i&&s.settings.duplicates))&&null!==o&&s.options.hasOwnProperty(o)&&("single"===i&&s.clear(e),"multi"!==i||!s.isFull())){if(r=s._render("item",s.options[o]),s.control.contains(r)&&(r=r.cloneNode(!0)),n=s.isFull(),s.items.splice(s.caretPos,0,o),s.insertAtCaret(r),s.isSetup){if(!s.isPending&&s.settings.hideSelected){let t=s.getOption(o),e=s.getAdjacent(t,1);e&&s.setActiveOption(e)}s.isPending||s.settings.closeAfterSelect||s.refreshOptions(s.isFocused&&"single"!==i),0!=s.settings.closeAfterSelect&&s.isFull()?s.close():s.isPending||s.positionDropdown(),s.trigger("item_add",o,r),s.isPending||s.updateOriginalInput({silent:e})}(!s.isPending||!n&&s.isFull())&&(s.inputState(),s.refreshState())}}))}removeItem(t=null,e){const r=this;if(!(t=r.getItem(t)))return;var n,s;const i=t.dataset.value;n=J(t),t.remove(),t.classList.contains("active")&&(s=r.activeItems.indexOf(t),r.activeItems.splice(s,1),W(t,"active")),r.items.splice(n,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(i)&&r.removeOption(i,e),n<r.caretPos&&r.setCaret(r.caretPos-1),r.updateOriginalInput({silent:e}),r.refreshState(),r.positionDropdown(),r.trigger("item_remove",i,t)}createItem(t=null,e=(()=>{})){3===arguments.length&&(e=arguments[2]),"function"!=typeof e&&(e=()=>{});var r,n=this,s=n.caretPos;if(t=t||n.inputValue(),!n.canCreate(t))return e(),!1;n.lock();var i=!1,o=t=>{if(n.unlock(),!t||"object"!=typeof t)return e();var r=mt(t[n.settings.valueField]);if("string"!=typeof r)return e();n.setTextboxValue(),n.addOption(t,!0),n.setCaret(s),n.addItem(r),e(t),i=!0};return r="function"==typeof n.settings.create?n.settings.create.call(this,t,o):{[n.settings.labelField]:t,[n.settings.valueField]:t},i||o(r),!0}refreshItems(){var t=this;t.lastQuery=null,t.isSetup&&t.addItems(t.items),t.updateOriginalInput(),t.refreshState()}refreshState(){const t=this;t.refreshValidityState();const e=t.isFull(),r=t.isLocked;t.wrapper.classList.toggle("rtl",t.rtl);const n=t.wrapper.classList;n.toggle("focus",t.isFocused),n.toggle("disabled",t.isDisabled),n.toggle("readonly",t.isReadOnly),n.toggle("required",t.isRequired),n.toggle("invalid",!t.isValid),n.toggle("locked",r),n.toggle("full",e),n.toggle("input-active",t.isFocused&&!t.isInputHidden),n.toggle("dropdown-active",t.isOpen),n.toggle("has-options",Y(t.options)),n.toggle("has-items",t.items.length>0)}refreshValidityState(){var t=this;t.input.validity&&(t.isValid=t.input.validity.valid,t.isInvalid=!t.isValid)}isFull(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems}updateOriginalInput(t={}){const e=this;var r,n;const s=e.input.querySelector('option[value=""]');if(e.is_select_tag){const i=[],o=e.input.querySelectorAll("option:checked").length;function l(t,r,n){return t||(t=$('<option value="'+bt(r)+'">'+bt(n)+"</option>")),t!=s&&e.input.append(t),i.push(t),(t!=s||o>0)&&(t.selected=!0),t}e.input.querySelectorAll("option:checked").forEach((t=>{t.selected=!1})),0==e.items.length&&"single"==e.settings.mode?l(s,"",""):e.items.forEach((t=>{r=e.options[t],n=r[e.settings.labelField]||"",i.includes(r.$option)?l(e.input.querySelector(`option[value="${kt(t)}"]:not(:checked)`),t,n):r.$option=l(r.$option,t,n)}))}else e.input.value=e.getValue();e.isSetup&&(t.silent||e.trigger("change",e.getValue()))}open(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.isOpen=!0,tt(t.focus_node,{"aria-expanded":"true"}),t.refreshState(),K(t.dropdown,{visibility:"hidden",display:"block"}),t.positionDropdown(),K(t.dropdown,{visibility:"visible",display:"block"}),t.focus(),t.trigger("dropdown_open",t.dropdown))}close(t=!0){var e=this,r=e.isOpen;t&&(e.setTextboxValue(),"single"===e.settings.mode&&e.items.length&&e.inputState()),e.isOpen=!1,tt(e.focus_node,{"aria-expanded":"false"}),K(e.dropdown,{display:"none"}),e.settings.hideSelected&&e.clearActiveOption(),e.refreshState(),r&&e.trigger("dropdown_close",e.dropdown)}positionDropdown(){if("body"===this.settings.dropdownParent){var t=this.control,e=t.getBoundingClientRect(),r=t.offsetHeight+e.top+window.scrollY,n=e.left+window.scrollX;K(this.dropdown,{width:e.width+"px",top:r+"px",left:n+"px"})}}clear(t){var e=this;if(e.items.length){var r=e.controlChildren();F(r,(t=>{e.removeItem(t,!0)})),e.inputState(),t||e.updateOriginalInput(),e.trigger("clear")}}insertAtCaret(t){const e=this,r=e.caretPos,n=e.control;n.insertBefore(t,n.children[r]||null),e.setCaret(r+1)}deleteSelection(t){var e,r,n,s,i=this;e=t&&t.keyCode===ht?-1:1,r=Ot(i.control_input);const o=[];if(i.activeItems.length)s=X(i.activeItems,e),n=J(s),e>0&&n++,F(i.activeItems,(t=>o.push(t)));else if((i.isFocused||"single"===i.settings.mode)&&i.items.length){const t=i.controlChildren();let n;e<0&&0===r.start&&0===r.length?n=t[i.caretPos-1]:e>0&&r.start===i.inputValue().length&&(n=t[i.caretPos]),void 0!==n&&o.push(n)}if(!i.shouldDelete(o,t))return!1;for(Et(t,!0),void 0!==n&&i.setCaret(n);o.length;)i.removeItem(o.pop());return i.inputState(),i.positionDropdown(),i.refreshOptions(!1),!0}shouldDelete(t,e){const r=t.map((t=>t.dataset.value));return!(!r.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete(r,e))}advanceSelection(t,e){var r,n,s=this;s.rtl&&(t*=-1),s.inputValue().length||(Nt(pt,e)||Nt("shiftKey",e)?(n=(r=s.getLastActive(t))?r.classList.contains("active")?s.getAdjacent(r,t,"item"):r:t>0?s.control_input.nextElementSibling:s.control_input.previousElementSibling)&&(n.classList.contains("active")&&s.removeActiveItem(r),s.setActiveItemClass(n)):s.moveCaret(t))}moveCaret(t){}getLastActive(t){let e=this.control.querySelector(".last-active");if(e)return e;var r=this.control.querySelectorAll(".active");return r?X(r,t):void 0}setCaret(t){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(t=this.isReadOnly||this.isDisabled){this.isLocked=t,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(t){this.focus_node.tabIndex=t?-1:this.tabIndex,this.isDisabled=t,this.input.disabled=t,this.control_input.disabled=t,this.setLocked()}setReadOnly(t){this.isReadOnly=t,this.input.readOnly=t,this.control_input.readOnly=t,this.setLocked()}destroy(){var t=this,e=t.revertSettings;t.trigger("destroy"),t.off(),t.wrapper.remove(),t.dropdown.remove(),t.input.innerHTML=e.innerHTML,t.input.tabIndex=e.tabIndex,W(t.input,"tomselected","ts-hidden-accessible"),t._destroy(),delete t.input.tomselect}render(t,e){var r,n;const s=this;if("function"!=typeof this.settings.render[t])return null;if(!(n=s.settings.render[t].call(this,e,bt)))return null;if(n=$(n),"option"===t||"option_create"===t?e[s.settings.disabledField]?tt(n,{"aria-disabled":"true"}):tt(n,{"data-selectable":""}):"optgroup"===t&&(r=e.group[s.settings.optgroupValueField],tt(n,{"data-group":r}),e.group[s.settings.disabledField]&&tt(n,{"data-disabled":""})),"option"===t||"item"===t){const r=vt(e[s.settings.valueField]);tt(n,{"data-value":r}),"item"===t?(H(n,s.settings.itemClass),tt(n,{"data-ts-item":""})):(H(n,s.settings.optionClass),tt(n,{role:"option",id:e.$id}),e.$div=n,s.options[r]=e)}return n}_render(t,e){const r=this.render(t,e);if(null==r)throw"HTMLElement expected";return r}clearCache(){F(this.options,(t=>{t.$div&&(t.$div.remove(),delete t.$div)}))}uncacheValue(t){const e=this.getOption(t);e&&e.remove()}canCreate(t){return this.settings.create&&t.length>0&&this.settings.createFilter.call(this,t)}hook(t,e,r){var n=this,s=n[e];n[e]=function(){var e,i;return"after"===t&&(e=s.apply(n,arguments)),i=r.apply(n,arguments),"instead"===t?i:("before"===t&&(e=s.apply(n,arguments)),e)}}}function qt(){At(this.input,"change",(()=>{this.sync()}))}function jt(t){var e=this,r=e.onOptionSelect;e.settings.hideSelected=!1;const n=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},t);var s=function(t,e){e?(t.checked=!0,n.uncheckedClassNames&&t.classList.remove(...n.uncheckedClassNames),n.checkedClassNames&&t.classList.add(...n.checkedClassNames)):(t.checked=!1,n.checkedClassNames&&t.classList.remove(...n.checkedClassNames),n.uncheckedClassNames&&t.classList.add(...n.uncheckedClassNames))},i=function(t){setTimeout((()=>{var e=t.querySelector("input."+n.className);e instanceof HTMLInputElement&&s(e,t.classList.contains("selected"))}),1)};e.hook("after","setupTemplates",(()=>{var t=e.settings.render.option;e.settings.render.option=(r,i)=>{var o=$(t.call(e,r,i)),l=document.createElement("input");n.className&&l.classList.add(n.className),l.addEventListener("click",(function(t){Et(t)})),l.type="checkbox";const a=mt(r[e.settings.valueField]);return s(l,!!(a&&e.items.indexOf(a)>-1)),o.prepend(l),o}})),e.on("item_remove",(t=>{var r=e.getOption(t);r&&(r.classList.remove("selected"),i(r))})),e.on("item_add",(t=>{var r=e.getOption(t);r&&i(r)})),e.hook("instead","onOptionSelect",((t,n)=>{if(n.classList.contains("selected"))return n.classList.remove("selected"),e.removeItem(n.dataset.value),e.refreshOptions(),void Et(t,!0);r.call(e,t,n),i(n)}))}function It(t){const e=this,r=Object.assign({className:"clear-button",title:"Clear All",html:t=>`<div class="${t.className}" title="${t.title}">&#10799;</div>`},t);e.on("initialize",(()=>{var t=$(r.html(r));t.addEventListener("click",(t=>{e.isLocked||(e.clear(),"single"===e.settings.mode&&e.settings.allowEmptyOption&&e.addItem(""),t.preventDefault(),t.stopPropagation())})),e.control.appendChild(t)}))}const Mt=(t,e)=>{var r;null==(r=t.parentNode)||r.insertBefore(e,t.nextSibling)},Rt=(t,e)=>{var r;null==(r=t.parentNode)||r.insertBefore(e,t)},Ft=(t,e)=>{do{var r;if(t==(e=null==(r=e)?void 0:r.previousElementSibling))return!0}while(e&&e.previousElementSibling);return!1};function Bt(){var t=this;if("multi"!==t.settings.mode)return;var e=t.lock,r=t.unlock;let n,s=!0;t.hook("after","setupTemplates",(()=>{var e=t.settings.render.item;t.settings.render.item=(r,i)=>{const o=$(e.call(t,r,i));tt(o,{draggable:"true"});const l=t=>{n=o,setTimeout((()=>{o.classList.add("ts-dragging")}),0)},a=t=>{t.preventDefault(),o.classList.add("ts-drag-over"),u(o,n)},c=()=>{o.classList.remove("ts-drag-over")},u=(t,e)=>{void 0!==e&&(Ft(e,o)?Mt(t,e):Rt(t,e))},h=()=>{var e;document.querySelectorAll(".ts-drag-over").forEach((t=>t.classList.remove("ts-drag-over"))),null==(e=n)||e.classList.remove("ts-dragging"),n=void 0;var r=[];t.control.querySelectorAll("[data-value]").forEach((t=>{if(t.dataset.value){let e=t.dataset.value;e&&r.push(e)}})),t.setValue(r)};return At(o,"mousedown",(t=>{s||Et(t),t.stopPropagation()})),At(o,"dragstart",l),At(o,"dragenter",a),At(o,"dragover",a),At(o,"dragleave",c),At(o,"dragend",h),o}})),t.hook("instead","lock",(()=>(s=!1,e.call(t)))),t.hook("instead","unlock",(()=>(s=!0,r.call(t))))}function Pt(t){const e=this,r=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:t=>'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a class="'+t.closeClass+'">&times;</a></div></div>'},t);e.on("initialize",(()=>{var t=$(r.html(r)),n=t.querySelector("."+r.closeClass);n&&n.addEventListener("click",(t=>{Et(t,!0),e.close()})),e.dropdown.insertBefore(t,e.dropdown.firstChild)}))}function Dt(){var t=this;t.hook("instead","setCaret",(e=>{"single"!==t.settings.mode&&t.control.contains(t.control_input)?(e=Math.max(0,Math.min(t.items.length,e)))==t.caretPos||t.isPending||t.controlChildren().forEach(((r,n)=>{n<e?t.control_input.insertAdjacentElement("beforebegin",r):t.control.appendChild(r)})):e=t.items.length,t.caretPos=e})),t.hook("instead","moveCaret",(e=>{if(!t.isFocused)return;const r=t.getLastActive(e);if(r){const n=J(r);t.setCaret(e>0?n+1:n),t.setActiveItem(),W(r,"last-active")}else t.setCaret(t.caretPos+e)}))}function $t(){const t=this;t.settings.shouldOpen=!0,t.hook("before","setup",(()=>{t.focus_node=t.control,H(t.control_input,"dropdown-input");const e=$('<div class="dropdown-input-wrap">');e.append(t.control_input),t.dropdown.insertBefore(e,t.dropdown.firstChild);const r=$('<input class="items-placeholder" tabindex="-1" />');r.placeholder=t.settings.placeholder||"",t.control.append(r)})),t.on("initialize",(()=>{t.control_input.addEventListener("keydown",(e=>{switch(e.keyCode){case ot:return t.isOpen&&(Et(e,!0),t.close()),void t.clearActiveItems();case ft:t.focus_node.tabIndex=-1}return t.onKeyDown.call(t,e)})),t.on("blur",(()=>{t.focus_node.tabIndex=t.isDisabled?-1:t.tabIndex})),t.on("dropdown_open",(()=>{t.control_input.focus()}));const e=t.onBlur;t.hook("instead","onBlur",(r=>{if(!r||r.relatedTarget!=t.control_input)return e.call(t)})),At(t.control_input,"blur",(()=>t.onBlur())),t.hook("before","close",(()=>{t.isOpen&&t.focus_node.focus({preventScroll:!0})}))}))}function Ut(){var t=this;t.on("initialize",(()=>{var e=document.createElement("span"),r=t.control_input;e.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",t.wrapper.appendChild(e);var n=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const t of n)e.style[t]=r.style[t];var s=()=>{e.textContent=r.value,r.style.width=e.clientWidth+"px"};s(),t.on("update item_add item_remove",s),At(r,"input",s),At(r,"keyup",s),At(r,"blur",s),At(r,"update",s)}))}function Vt(){var t=this,e=t.deleteSelection;this.hook("instead","deleteSelection",(r=>!!t.activeItems.length&&e.call(t,r)))}function zt(){this.hook("instead","setActiveItem",(()=>{})),this.hook("instead","selectAll",(()=>{}))}function Kt(){var t=this,e=t.onKeyDown;t.hook("instead","onKeyDown",(r=>{var n,s,i,o;if(!t.isOpen||r.keyCode!==lt&&r.keyCode!==ct)return e.call(t,r);t.ignoreHover=!0,o=Q(t.activeOption,"[data-group]"),n=J(t.activeOption,"[data-selectable]"),o&&(o=r.keyCode===lt?o.previousSibling:o.nextSibling)&&(s=(i=o.querySelectorAll("[data-selectable]"))[Math.min(i.length-1,n)])&&t.setActiveOption(s)}))}function Ht(t){const e=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},t);var r=this;if(e.append){var n='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+bt(e.title)+'">'+e.label+"</a>";r.hook("after","setupTemplates",(()=>{var t=r.settings.render.item;r.settings.render.item=(e,s)=>{var i=$(t.call(r,e,s)),o=$(n);return i.appendChild(o),At(o,"mousedown",(t=>{Et(t,!0)})),At(o,"click",(t=>{r.isLocked||(Et(t,!0),r.isLocked||r.shouldDelete([i],t)&&(r.removeItem(i),r.refreshOptions(!1),r.inputState()))})),i}}))}}function Wt(t){const e=this,r=Object.assign({text:t=>t[e.settings.labelField]},t);e.on("item_remove",(function(t){if(e.isFocused&&""===e.control_input.value.trim()){var n=e.options[t];n&&e.setTextboxValue(r.text.call(e,n))}}))}function Gt(){const t=this,e=t.canLoad,r=t.clearActiveOption,n=t.loadCallback;var s,i,o={},l=!1,a=[];if(t.settings.shouldLoadMore||(t.settings.shouldLoadMore=()=>{if(s.clientHeight/(s.scrollHeight-s.scrollTop)>.9)return!0;if(t.activeOption){var e=t.selectable();if(Array.from(e).indexOf(t.activeOption)>=e.length-2)return!0}return!1}),!t.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";t.settings.sortField=[{field:"$order"},{field:"$score"}];const c=e=>!("number"==typeof t.settings.maxOptions&&s.children.length>=t.settings.maxOptions||!(e in o)||!o[e]),u=(e,r)=>t.items.indexOf(r)>=0||a.indexOf(r)>=0;t.setNextUrl=(t,e)=>{o[t]=e},t.getUrl=e=>{if(e in o){const t=o[e];return o[e]=!1,t}return t.clearPagination(),t.settings.firstUrl.call(t,e)},t.clearPagination=()=>{o={}},t.hook("instead","clearActiveOption",(()=>{if(!l)return r.call(t)})),t.hook("instead","canLoad",(r=>r in o?c(r):e.call(t,r))),t.hook("instead","loadCallback",((e,r)=>{if(l){if(i){const r=e[0];void 0!==r&&(i.dataset.value=r[t.settings.valueField])}}else t.clearOptions(u);n.call(t,e,r),l=!1})),t.hook("after","refreshOptions",(()=>{const e=t.lastValue;var r;c(e)?(r=t.render("loading_more",{query:e}))&&(r.setAttribute("data-selectable",""),i=r):e in o&&!s.querySelector(".no-results")&&(r=t.render("no_more_results",{query:e})),r&&(H(r,t.settings.optionClass),s.append(r))})),t.on("initialize",(()=>{a=Object.keys(t.options),s=t.dropdown_content,t.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},t.settings.render),s.addEventListener("scroll",(()=>{t.settings.shouldLoadMore.call(t)&&c(t.lastValue)&&(l||(l=!0,t.load.call(t,t.lastValue)))}))}))}return Ct.define("change_listener",qt),Ct.define("checkbox_options",jt),Ct.define("clear_button",It),Ct.define("drag_drop",Bt),Ct.define("dropdown_header",Pt),Ct.define("caret_position",Dt),Ct.define("dropdown_input",$t),Ct.define("input_autogrow",Ut),Ct.define("no_backspace_delete",Vt),Ct.define("no_active_items",zt),Ct.define("optgroup_columns",Kt),Ct.define("remove_button",Ht),Ct.define("restore_on_backspace",Wt),Ct.define("virtual_scroll",Gt),Ct}()},509:(t,e,r)=>{"use strict";var n=r(9985),s=r(3691),i=TypeError;t.exports=function(t){if(n(t))return t;throw new i(s(t)+" is not a function")}},2655:(t,e,r)=>{"use strict";var n=r(9429),s=r(3691),i=TypeError;t.exports=function(t){if(n(t))return t;throw new i(s(t)+" is not a constructor")}},3550:(t,e,r)=>{"use strict";var n=r(9985),s=String,i=TypeError;t.exports=function(t){if("object"==typeof t||n(t))return t;throw new i("Can't set "+s(t)+" as a prototype")}},7370:(t,e,r)=>{"use strict";var n=r(4201),s=r(5391),i=r(2560).f,o=n("unscopables"),l=Array.prototype;void 0===l[o]&&i(l,o,{configurable:!0,value:s(null)}),t.exports=function(t){l[o][t]=!0}},1514:(t,e,r)=>{"use strict";var n=r(730).charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},5027:(t,e,r)=>{"use strict";var n=r(8999),s=String,i=TypeError;t.exports=function(t){if(n(t))return t;throw new i(s(t)+" is not an object")}},7612:(t,e,r)=>{"use strict";var n=r(2960).forEach,s=r(6834)("forEach");t.exports=s?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},1055:(t,e,r)=>{"use strict";var n=r(4071),s=r(2615),i=r(690),o=r(1228),l=r(3292),a=r(9429),c=r(6310),u=r(6522),h=r(5185),d=r(1664),f=Array;t.exports=function(t){var e=i(t),r=a(this),p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g;m&&(g=n(g,p>2?arguments[2]:void 0));var v,b,y,x,w,O,E=d(e),A=0;if(!E||this===f&&l(E))for(v=c(e),b=r?new this(v):f(v);v>A;A++)O=m?g(e[A],A):e[A],u(b,A,O);else for(w=(x=h(e,E)).next,b=r?new this:[];!(y=s(w,x)).done;A++)O=m?o(x,g,[y.value,A],!0):y.value,u(b,A,O);return b.length=A,b}},4328:(t,e,r)=>{"use strict";var n=r(5290),s=r(7578),i=r(6310),o=function(t){return function(e,r,o){var l,a=n(e),c=i(a),u=s(o,c);if(t&&r!=r){for(;c>u;)if((l=a[u++])!=l)return!0}else for(;c>u;u++)if((t||u in a)&&a[u]===r)return t||u||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},2960:(t,e,r)=>{"use strict";var n=r(4071),s=r(8844),i=r(4413),o=r(690),l=r(6310),a=r(7120),c=s([].push),u=function(t){var e=1===t,r=2===t,s=3===t,u=4===t,h=6===t,d=7===t,f=5===t||h;return function(p,g,m,v){for(var b,y,x=o(p),w=i(x),O=n(g,m),E=l(w),A=0,N=v||a,S=e?N(p,E):r||d?N(p,0):void 0;E>A;A++)if((f||A in w)&&(y=O(b=w[A],A,x),t))if(e)S[A]=y;else if(y)switch(t){case 3:return!0;case 5:return b;case 6:return A;case 2:c(S,b)}else switch(t){case 4:return!1;case 7:c(S,b)}return h?-1:s||u?u:S}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},6834:(t,e,r)=>{"use strict";var n=r(3689);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){return 1},1)}))}},9015:(t,e,r)=>{"use strict";var n=r(7578),s=r(6310),i=r(6522),o=Array,l=Math.max;t.exports=function(t,e,r){for(var a=s(t),c=n(e,a),u=n(void 0===r?a:r,a),h=o(l(u-c,0)),d=0;c<u;c++,d++)i(h,d,t[c]);return h.length=d,h}},6004:(t,e,r)=>{"use strict";var n=r(8844);t.exports=n([].slice)},5271:(t,e,r)=>{"use strict";var n=r(2297),s=r(9429),i=r(8999),o=r(4201)("species"),l=Array;t.exports=function(t){var e;return n(t)&&(e=t.constructor,(s(e)&&(e===l||n(e.prototype))||i(e)&&null===(e=e[o]))&&(e=void 0)),void 0===e?l:e}},7120:(t,e,r)=>{"use strict";var n=r(5271);t.exports=function(t,e){return new(n(t))(0===e?0:e)}},1228:(t,e,r)=>{"use strict";var n=r(5027),s=r(2125);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){s(t,"throw",e)}}},6431:(t,e,r)=>{"use strict";var n=r(4201)("iterator"),s=!1;try{var i=0,o={next:function(){return{done:!!i++}},return:function(){s=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){try{if(!e&&!s)return!1}catch(t){return!1}var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},t(i)}catch(t){}return r}},6648:(t,e,r)=>{"use strict";var n=r(8844),s=n({}.toString),i=n("".slice);t.exports=function(t){return i(s(t),8,-1)}},926:(t,e,r)=>{"use strict";var n=r(3043),s=r(9985),i=r(6648),o=r(4201)("toStringTag"),l=Object,a="Arguments"===i(function(){return arguments}());t.exports=n?i:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=l(t),o))?r:a?i(e):"Object"===(n=i(e))&&s(e.callee)?"Arguments":n}},8758:(t,e,r)=>{"use strict";var n=r(6812),s=r(9152),i=r(2474),o=r(2560);t.exports=function(t,e,r){for(var l=s(e),a=o.f,c=i.f,u=0;u<l.length;u++){var h=l[u];n(t,h)||r&&n(r,h)||a(t,h,c(e,h))}}},1748:(t,e,r)=>{"use strict";var n=r(3689);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},7807:t=>{"use strict";t.exports=function(t,e){return{value:t,done:e}}},5773:(t,e,r)=>{"use strict";var n=r(7697),s=r(2560),i=r(5684);t.exports=n?function(t,e,r){return s.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},5684:t=>{"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6522:(t,e,r)=>{"use strict";var n=r(8360),s=r(2560),i=r(5684);t.exports=function(t,e,r){var o=n(e);o in t?s.f(t,o,i(0,r)):t[o]=r}},1797:(t,e,r)=>{"use strict";var n=r(5027),s=r(5899),i=TypeError;t.exports=function(t){if(n(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw new i("Incorrect hint");return s(this,t)}},2148:(t,e,r)=>{"use strict";var n=r(8702),s=r(2560);t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),s.f(t,e,r)}},1880:(t,e,r)=>{"use strict";var n=r(9985),s=r(2560),i=r(8702),o=r(5014);t.exports=function(t,e,r,l){l||(l={});var a=l.enumerable,c=void 0!==l.name?l.name:e;if(n(r)&&i(r,c,l),l.global)a?t[e]=r:o(e,r);else{try{l.unsafe?t[e]&&(a=!0):delete t[e]}catch(t){}a?t[e]=r:s.f(t,e,{value:r,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return t}},5014:(t,e,r)=>{"use strict";var n=r(9037),s=Object.defineProperty;t.exports=function(t,e){try{s(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},7697:(t,e,r)=>{"use strict";var n=r(3689);t.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2659:t=>{"use strict";var e="object"==typeof document&&document.all,r=void 0===e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:r}},6420:(t,e,r)=>{"use strict";var n=r(9037),s=r(8999),i=n.document,o=s(i)&&s(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},6338:t=>{"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3265:(t,e,r)=>{"use strict";var n=r(6420)("span").classList,s=n&&n.constructor&&n.constructor.prototype;t.exports=s===Object.prototype?void 0:s},71:t=>{"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3615:(t,e,r)=>{"use strict";var n,s,i=r(9037),o=r(71),l=i.process,a=i.Deno,c=l&&l.versions||a&&a.version,u=c&&c.v8;u&&(s=(n=u.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!s&&o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(s=+n[1]),t.exports=s},2739:t=>{"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9989:(t,e,r)=>{"use strict";var n=r(9037),s=r(2474).f,i=r(5773),o=r(1880),l=r(5014),a=r(8758),c=r(5266);t.exports=function(t,e){var r,u,h,d,f,p=t.target,g=t.global,m=t.stat;if(r=g?n:m?n[p]||l(p,{}):(n[p]||{}).prototype)for(u in e){if(d=e[u],h=t.dontCallGetSet?(f=s(r,u))&&f.value:r[u],!c(g?u:p+(m?".":"#")+u,t.forced)&&void 0!==h){if(typeof d==typeof h)continue;a(d,h)}(t.sham||h&&h.sham)&&i(d,"sham",!0),o(r,u,d,t)}}},3689:t=>{"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},8678:(t,e,r)=>{"use strict";r(4043);var n=r(6576),s=r(1880),i=r(6308),o=r(3689),l=r(4201),a=r(5773),c=l("species"),u=RegExp.prototype;t.exports=function(t,e,r,h){var d=l(t),f=!o((function(){var e={};return e[d]=function(){return 7},7!==""[t](e)})),p=f&&!o((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return e=!0,null},r[d](""),!e}));if(!f||!p||r){var g=n(/./[d]),m=e(d,""[t],(function(t,e,r,s,o){var l=n(t),a=e.exec;return a===i||a===u.exec?f&&!o?{done:!0,value:g(e,r,s)}:{done:!0,value:l(r,e,s)}:{done:!1}}));s(String.prototype,t,m[0]),s(u,d,m[1])}h&&a(u[d],"sham",!0)}},1735:(t,e,r)=>{"use strict";var n=r(7215),s=Function.prototype,i=s.apply,o=s.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(i):function(){return o.apply(i,arguments)})},4071:(t,e,r)=>{"use strict";var n=r(6576),s=r(509),i=r(7215),o=n(n.bind);t.exports=function(t,e){return s(t),void 0===e?t:i?o(t,e):function(){return t.apply(e,arguments)}}},7215:(t,e,r)=>{"use strict";var n=r(3689);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6761:(t,e,r)=>{"use strict";var n=r(8844),s=r(509),i=r(8999),o=r(6812),l=r(6004),a=r(7215),c=Function,u=n([].concat),h=n([].join),d={};t.exports=a?c.bind:function(t){var e=s(this),r=e.prototype,n=l(arguments,1),a=function(){var r=u(n,l(arguments));return this instanceof a?function(t,e,r){if(!o(d,e)){for(var n=[],s=0;s<e;s++)n[s]="a["+s+"]";d[e]=c("C,a","return new C("+h(n,",")+")")}return d[e](t,r)}(e,r.length,r):e.apply(t,r)};return i(r)&&(a.prototype=r),a}},2615:(t,e,r)=>{"use strict";var n=r(7215),s=Function.prototype.call;t.exports=n?s.bind(s):function(){return s.apply(s,arguments)}},1236:(t,e,r)=>{"use strict";var n=r(7697),s=r(6812),i=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,l=s(i,"name"),a=l&&"something"===function(){}.name,c=l&&(!n||n&&o(i,"name").configurable);t.exports={EXISTS:l,PROPER:a,CONFIGURABLE:c}},2743:(t,e,r)=>{"use strict";var n=r(8844),s=r(509);t.exports=function(t,e,r){try{return n(s(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}}},6576:(t,e,r)=>{"use strict";var n=r(6648),s=r(8844);t.exports=function(t){if("Function"===n(t))return s(t)}},8844:(t,e,r)=>{"use strict";var n=r(7215),s=Function.prototype,i=s.call,o=n&&s.bind.bind(i,i);t.exports=n?o:function(t){return function(){return i.apply(t,arguments)}}},6058:(t,e,r)=>{"use strict";var n=r(9037),s=r(9985);t.exports=function(t,e){return arguments.length<2?(r=n[t],s(r)?r:void 0):n[t]&&n[t][e];var r}},1664:(t,e,r)=>{"use strict";var n=r(926),s=r(4849),i=r(981),o=r(9478),l=r(4201)("iterator");t.exports=function(t){if(!i(t))return s(t,l)||s(t,"@@iterator")||o[n(t)]}},5185:(t,e,r)=>{"use strict";var n=r(2615),s=r(509),i=r(5027),o=r(3691),l=r(1664),a=TypeError;t.exports=function(t,e){var r=arguments.length<2?l(t):e;if(s(r))return i(n(r,t));throw new a(o(t)+" is not iterable")}},2643:(t,e,r)=>{"use strict";var n=r(8844),s=r(2297),i=r(9985),o=r(6648),l=r(4327),a=n([].push);t.exports=function(t){if(i(t))return t;if(s(t)){for(var e=t.length,r=[],n=0;n<e;n++){var c=t[n];"string"==typeof c?a(r,c):"number"!=typeof c&&"Number"!==o(c)&&"String"!==o(c)||a(r,l(c))}var u=r.length,h=!0;return function(t,e){if(h)return h=!1,e;if(s(this))return e;for(var n=0;n<u;n++)if(r[n]===t)return e}}}},4849:(t,e,r)=>{"use strict";var n=r(509),s=r(981);t.exports=function(t,e){var r=t[e];return s(r)?void 0:n(r)}},7017:(t,e,r)=>{"use strict";var n=r(8844),s=r(690),i=Math.floor,o=n("".charAt),l=n("".replace),a=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,n,h,d){var f=r+t.length,p=n.length,g=u;return void 0!==h&&(h=s(h),g=c),l(d,g,(function(s,l){var c;switch(o(l,0)){case"$":return"$";case"&":return t;case"`":return a(e,0,r);case"'":return a(e,f);case"<":c=h[a(l,1,-1)];break;default:var u=+l;if(0===u)return s;if(u>p){var d=i(u/10);return 0===d?s:d<=p?void 0===n[d-1]?o(l,1):n[d-1]+o(l,1):s}c=n[u-1]}return void 0===c?"":c}))}},9037:function(t,e,r){"use strict";var n=function(t){return t&&t.Math===Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||this||Function("return this")()},6812:(t,e,r)=>{"use strict";var n=r(8844),s=r(690),i=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(s(t),e)}},7248:t=>{"use strict";t.exports={}},2688:(t,e,r)=>{"use strict";var n=r(6058);t.exports=n("document","documentElement")},8506:(t,e,r)=>{"use strict";var n=r(7697),s=r(3689),i=r(6420);t.exports=!n&&!s((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},4413:(t,e,r)=>{"use strict";var n=r(8844),s=r(3689),i=r(6648),o=Object,l=n("".split);t.exports=s((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"===i(t)?l(t,""):o(t)}:o},3457:(t,e,r)=>{"use strict";var n=r(9985),s=r(8999),i=r(9385);t.exports=function(t,e,r){var o,l;return i&&n(o=e.constructor)&&o!==r&&s(l=o.prototype)&&l!==r.prototype&&i(t,l),t}},6738:(t,e,r)=>{"use strict";var n=r(8844),s=r(9985),i=r(4091),o=n(Function.toString);s(i.inspectSource)||(i.inspectSource=function(t){return o(t)}),t.exports=i.inspectSource},618:(t,e,r)=>{"use strict";var n,s,i,o=r(9834),l=r(9037),a=r(8999),c=r(5773),u=r(6812),h=r(4091),d=r(2713),f=r(7248),p="Object already initialized",g=l.TypeError,m=l.WeakMap;if(o||h.state){var v=h.state||(h.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,n=function(t,e){if(v.has(t))throw new g(p);return e.facade=t,v.set(t,e),e},s=function(t){return v.get(t)||{}},i=function(t){return v.has(t)}}else{var b=d("state");f[b]=!0,n=function(t,e){if(u(t,b))throw new g(p);return e.facade=t,c(t,b,e),e},s=function(t){return u(t,b)?t[b]:{}},i=function(t){return u(t,b)}}t.exports={set:n,get:s,has:i,enforce:function(t){return i(t)?s(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!a(e)||(r=s(e)).type!==t)throw new g("Incompatible receiver, "+t+" required");return r}}}},3292:(t,e,r)=>{"use strict";var n=r(4201),s=r(9478),i=n("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(s.Array===t||o[i]===t)}},2297:(t,e,r)=>{"use strict";var n=r(6648);t.exports=Array.isArray||function(t){return"Array"===n(t)}},9985:(t,e,r)=>{"use strict";var n=r(2659),s=n.all;t.exports=n.IS_HTMLDDA?function(t){return"function"==typeof t||t===s}:function(t){return"function"==typeof t}},9429:(t,e,r)=>{"use strict";var n=r(8844),s=r(3689),i=r(9985),o=r(926),l=r(6058),a=r(6738),c=function(){},u=[],h=l("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=n(d.exec),p=!d.test(c),g=function(t){if(!i(t))return!1;try{return h(c,u,t),!0}catch(t){return!1}},m=function(t){if(!i(t))return!1;switch(o(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(d,a(t))}catch(t){return!0}};m.sham=!0,t.exports=!h||s((function(){var t;return g(g.call)||!g(Object)||!g((function(){t=!0}))||t}))?m:g},5266:(t,e,r)=>{"use strict";var n=r(3689),s=r(9985),i=/#|\.prototype\./,o=function(t,e){var r=a[l(t)];return r===u||r!==c&&(s(e)?n(e):!!e)},l=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},981:t=>{"use strict";t.exports=function(t){return null==t}},8999:(t,e,r)=>{"use strict";var n=r(9985),s=r(2659),i=s.all;t.exports=s.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:n(t)||t===i}:function(t){return"object"==typeof t?null!==t:n(t)}},3931:t=>{"use strict";t.exports=!1},734:(t,e,r)=>{"use strict";var n=r(6058),s=r(9985),i=r(3622),o=r(9525),l=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return s(e)&&i(e.prototype,l(t))}},2125:(t,e,r)=>{"use strict";var n=r(2615),s=r(5027),i=r(4849);t.exports=function(t,e,r){var o,l;s(t);try{if(!(o=i(t,"return"))){if("throw"===e)throw r;return r}o=n(o,t)}catch(t){l=!0,o=t}if("throw"===e)throw r;if(l)throw o;return s(o),r}},974:(t,e,r)=>{"use strict";var n=r(2013).IteratorPrototype,s=r(5391),i=r(5684),o=r(5997),l=r(9478),a=function(){return this};t.exports=function(t,e,r,c){var u=e+" Iterator";return t.prototype=s(n,{next:i(+!c,r)}),o(t,u,!1,!0),l[u]=a,t}},1934:(t,e,r)=>{"use strict";var n=r(9989),s=r(2615),i=r(3931),o=r(1236),l=r(9985),a=r(974),c=r(1868),u=r(9385),h=r(5997),d=r(5773),f=r(1880),p=r(4201),g=r(9478),m=r(2013),v=o.PROPER,b=o.CONFIGURABLE,y=m.IteratorPrototype,x=m.BUGGY_SAFARI_ITERATORS,w=p("iterator"),O="keys",E="values",A="entries",N=function(){return this};t.exports=function(t,e,r,o,p,m,S){a(r,e,o);var k,_,L,T=function(t){if(t===p&&M)return M;if(!x&&t&&t in j)return j[t];switch(t){case O:case E:case A:return function(){return new r(this,t)}}return function(){return new r(this)}},C=e+" Iterator",q=!1,j=t.prototype,I=j[w]||j["@@iterator"]||p&&j[p],M=!x&&I||T(p),R="Array"===e&&j.entries||I;if(R&&(k=c(R.call(new t)))!==Object.prototype&&k.next&&(i||c(k)===y||(u?u(k,y):l(k[w])||f(k,w,N)),h(k,C,!0,!0),i&&(g[C]=N)),v&&p===E&&I&&I.name!==E&&(!i&&b?d(j,"name",E):(q=!0,M=function(){return s(I,this)})),p)if(_={values:T(E),keys:m?M:T(O),entries:T(A)},S)for(L in _)(x||q||!(L in j))&&f(j,L,_[L]);else n({target:e,proto:!0,forced:x||q},_);return i&&!S||j[w]===M||f(j,w,M,{name:p}),g[e]=M,_}},2013:(t,e,r)=>{"use strict";var n,s,i,o=r(3689),l=r(9985),a=r(8999),c=r(5391),u=r(1868),h=r(1880),d=r(4201),f=r(3931),p=d("iterator"),g=!1;[].keys&&("next"in(i=[].keys())?(s=u(u(i)))!==Object.prototype&&(n=s):g=!0),!a(n)||o((function(){var t={};return n[p].call(t)!==t}))?n={}:f&&(n=c(n)),l(n[p])||h(n,p,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},9478:t=>{"use strict";t.exports={}},6310:(t,e,r)=>{"use strict";var n=r(3126);t.exports=function(t){return n(t.length)}},8702:(t,e,r)=>{"use strict";var n=r(8844),s=r(3689),i=r(9985),o=r(6812),l=r(7697),a=r(1236).CONFIGURABLE,c=r(6738),u=r(618),h=u.enforce,d=u.get,f=String,p=Object.defineProperty,g=n("".slice),m=n("".replace),v=n([].join),b=l&&!s((function(){return 8!==p((function(){}),"length",{value:8}).length})),y=String(String).split("String"),x=t.exports=function(t,e,r){"Symbol("===g(f(e),0,7)&&(e="["+m(f(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!o(t,"name")||a&&t.name!==e)&&(l?p(t,"name",{value:e,configurable:!0}):t.name=e),b&&r&&o(r,"arity")&&t.length!==r.arity&&p(t,"length",{value:r.arity});try{r&&o(r,"constructor")&&r.constructor?l&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=h(t);return o(n,"source")||(n.source=v(y,"string"==typeof e?e:"")),t};Function.prototype.toString=x((function(){return i(this)&&d(this).source||c(this)}),"toString")},8828:t=>{"use strict";var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},7897:(t,e,r)=>{"use strict";var n=r(9037),s=r(3689),i=r(8844),o=r(4327),l=r(1435).trim,a=r(6350),c=n.parseInt,u=n.Symbol,h=u&&u.iterator,d=/^[+-]?0x/i,f=i(d.exec),p=8!==c(a+"08")||22!==c(a+"0x16")||h&&!s((function(){c(Object(h))}));t.exports=p?function(t,e){var r=l(o(t));return c(r,e>>>0||(f(d,r)?16:10))}:c},5391:(t,e,r)=>{"use strict";var n,s=r(5027),i=r(8920),o=r(2739),l=r(7248),a=r(2688),c=r(6420),u=r(2713),h="prototype",d="script",f=u("IE_PROTO"),p=function(){},g=function(t){return"<"+d+">"+t+"</"+d+">"},m=function(t){t.write(g("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;v="undefined"!=typeof document?document.domain&&n?m(n):(e=c("iframe"),r="java"+d+":",e.style.display="none",a.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(g("document.F=Object")),t.close(),t.F):m(n);for(var s=o.length;s--;)delete v[h][o[s]];return v()};l[f]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(p[h]=s(t),r=new p,p[h]=null,r[f]=t):r=v(),void 0===e?r:i.f(r,e)}},8920:(t,e,r)=>{"use strict";var n=r(7697),s=r(5648),i=r(2560),o=r(5027),l=r(5290),a=r(300);e.f=n&&!s?Object.defineProperties:function(t,e){o(t);for(var r,n=l(e),s=a(e),c=s.length,u=0;c>u;)i.f(t,r=s[u++],n[r]);return t}},2560:(t,e,r)=>{"use strict";var n=r(7697),s=r(8506),i=r(5648),o=r(5027),l=r(8360),a=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",f="writable";e.f=n?i?function(t,e,r){if(o(t),e=l(e),o(r),"function"==typeof t&&"prototype"===e&&"value"in r&&f in r&&!r[f]){var n=u(t,e);n&&n[f]&&(t[e]=r.value,r={configurable:d in r?r[d]:n[d],enumerable:h in r?r[h]:n[h],writable:!1})}return c(t,e,r)}:c:function(t,e,r){if(o(t),e=l(e),o(r),s)try{return c(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new a("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},2474:(t,e,r)=>{"use strict";var n=r(7697),s=r(2615),i=r(9556),o=r(5684),l=r(5290),a=r(8360),c=r(6812),u=r(8506),h=Object.getOwnPropertyDescriptor;e.f=n?h:function(t,e){if(t=l(t),e=a(e),u)try{return h(t,e)}catch(t){}if(c(t,e))return o(!s(i.f,t,e),t[e])}},6062:(t,e,r)=>{"use strict";var n=r(6648),s=r(5290),i=r(2741).f,o=r(9015),l="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return l&&"Window"===n(t)?function(t){try{return i(t)}catch(t){return o(l)}}(t):i(s(t))}},2741:(t,e,r)=>{"use strict";var n=r(4948),s=r(2739).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,s)}},7518:(t,e)=>{"use strict";e.f=Object.getOwnPropertySymbols},1868:(t,e,r)=>{"use strict";var n=r(6812),s=r(9985),i=r(690),o=r(2713),l=r(1748),a=o("IE_PROTO"),c=Object,u=c.prototype;t.exports=l?c.getPrototypeOf:function(t){var e=i(t);if(n(e,a))return e[a];var r=e.constructor;return s(r)&&e instanceof r?r.prototype:e instanceof c?u:null}},3622:(t,e,r)=>{"use strict";var n=r(8844);t.exports=n({}.isPrototypeOf)},4948:(t,e,r)=>{"use strict";var n=r(8844),s=r(6812),i=r(5290),o=r(4328).indexOf,l=r(7248),a=n([].push);t.exports=function(t,e){var r,n=i(t),c=0,u=[];for(r in n)!s(l,r)&&s(n,r)&&a(u,r);for(;e.length>c;)s(n,r=e[c++])&&(~o(u,r)||a(u,r));return u}},300:(t,e,r)=>{"use strict";var n=r(4948),s=r(2739);t.exports=Object.keys||function(t){return n(t,s)}},9556:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,s=n&&!r.call({1:2},1);e.f=s?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},9385:(t,e,r)=>{"use strict";var n=r(2743),s=r(5027),i=r(3550);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return s(r),i(n),e?t(r,n):r.__proto__=n,r}}():void 0)},5073:(t,e,r)=>{"use strict";var n=r(3043),s=r(926);t.exports=n?{}.toString:function(){return"[object "+s(this)+"]"}},5899:(t,e,r)=>{"use strict";var n=r(2615),s=r(9985),i=r(8999),o=TypeError;t.exports=function(t,e){var r,l;if("string"===e&&s(r=t.toString)&&!i(l=n(r,t)))return l;if(s(r=t.valueOf)&&!i(l=n(r,t)))return l;if("string"!==e&&s(r=t.toString)&&!i(l=n(r,t)))return l;throw new o("Can't convert object to primitive value")}},9152:(t,e,r)=>{"use strict";var n=r(6058),s=r(8844),i=r(2741),o=r(7518),l=r(5027),a=s([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(l(t)),r=o.f;return r?a(e,r(t)):e}},496:(t,e,r)=>{"use strict";var n=r(9037);t.exports=n},6100:(t,e,r)=>{"use strict";var n=r(2615),s=r(5027),i=r(9985),o=r(6648),l=r(6308),a=TypeError;t.exports=function(t,e){var r=t.exec;if(i(r)){var c=n(r,t,e);return null!==c&&s(c),c}if("RegExp"===o(t))return n(l,t,e);throw new a("RegExp#exec called on incompatible receiver")}},6308:(t,e,r)=>{"use strict";var n,s,i=r(2615),o=r(8844),l=r(4327),a=r(9633),c=r(7901),u=r(3430),h=r(5391),d=r(618).get,f=r(2100),p=r(6422),g=u("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,v=m,b=o("".charAt),y=o("".indexOf),x=o("".replace),w=o("".slice),O=(s=/b*/g,i(m,n=/a/,"a"),i(m,s,"a"),0!==n.lastIndex||0!==s.lastIndex),E=c.BROKEN_CARET,A=void 0!==/()??/.exec("")[1];(O||A||E||f||p)&&(v=function(t){var e,r,n,s,o,c,u,f=this,p=d(f),N=l(t),S=p.raw;if(S)return S.lastIndex=f.lastIndex,e=i(v,S,N),f.lastIndex=S.lastIndex,e;var k=p.groups,_=E&&f.sticky,L=i(a,f),T=f.source,C=0,q=N;if(_&&(L=x(L,"y",""),-1===y(L,"g")&&(L+="g"),q=w(N,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==b(N,f.lastIndex-1))&&(T="(?: "+T+")",q=" "+q,C++),r=new RegExp("^(?:"+T+")",L)),A&&(r=new RegExp("^"+T+"$(?!\\s)",L)),O&&(n=f.lastIndex),s=i(m,_?r:f,q),_?s?(s.input=w(s.input,C),s[0]=w(s[0],C),s.index=f.lastIndex,f.lastIndex+=s[0].length):f.lastIndex=0:O&&s&&(f.lastIndex=f.global?s.index+s[0].length:n),A&&s&&s.length>1&&i(g,s[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(s[o]=void 0)})),s&&k)for(s.groups=c=h(null),o=0;o<k.length;o++)c[(u=k[o])[0]]=s[u[1]];return s}),t.exports=v},9633:(t,e,r)=>{"use strict";var n=r(5027);t.exports=function(){var t=n(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},3477:(t,e,r)=>{"use strict";var n=r(2615),s=r(6812),i=r(3622),o=r(9633),l=RegExp.prototype;t.exports=function(t){var e=t.flags;return void 0!==e||"flags"in l||s(t,"flags")||!i(l,t)?e:n(o,t)}},7901:(t,e,r)=>{"use strict";var n=r(3689),s=r(9037).RegExp,i=n((function(){var t=s("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),o=i||n((function(){return!s("a","y").sticky})),l=i||n((function(){var t=s("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:l,MISSED_STICKY:o,UNSUPPORTED_Y:i}},2100:(t,e,r)=>{"use strict";var n=r(3689),s=r(9037).RegExp;t.exports=n((function(){var t=s(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},6422:(t,e,r)=>{"use strict";var n=r(3689),s=r(9037).RegExp;t.exports=n((function(){var t=s("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4684:(t,e,r)=>{"use strict";var n=r(981),s=TypeError;t.exports=function(t){if(n(t))throw new s("Can't call method on "+t);return t}},5997:(t,e,r)=>{"use strict";var n=r(2560).f,s=r(6812),i=r(4201)("toStringTag");t.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!s(t,i)&&n(t,i,{configurable:!0,value:e})}},2713:(t,e,r)=>{"use strict";var n=r(3430),s=r(4630),i=n("keys");t.exports=function(t){return i[t]||(i[t]=s(t))}},4091:(t,e,r)=>{"use strict";var n=r(9037),s=r(5014),i="__core-js_shared__",o=n[i]||s(i,{});t.exports=o},3430:(t,e,r)=>{"use strict";var n=r(3931),s=r(4091);(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.1",mode:n?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.1/LICENSE",source:"https://github.com/zloirock/core-js"})},730:(t,e,r)=>{"use strict";var n=r(8844),s=r(8700),i=r(4327),o=r(4684),l=n("".charAt),a=n("".charCodeAt),c=n("".slice),u=function(t){return function(e,r){var n,u,h=i(o(e)),d=s(r),f=h.length;return d<0||d>=f?t?"":void 0:(n=a(h,d))<55296||n>56319||d+1===f||(u=a(h,d+1))<56320||u>57343?t?l(h,d):n:t?c(h,d,d+2):u-56320+(n-55296<<10)+65536}};t.exports={codeAt:u(!1),charAt:u(!0)}},1435:(t,e,r)=>{"use strict";var n=r(8844),s=r(4684),i=r(4327),o=r(6350),l=n("".replace),a=RegExp("^["+o+"]+"),c=RegExp("(^|[^"+o+"])["+o+"]+$"),u=function(t){return function(e){var r=i(s(e));return 1&t&&(r=l(r,a,"")),2&t&&(r=l(r,c,"$1")),r}};t.exports={start:u(1),end:u(2),trim:u(3)}},146:(t,e,r)=>{"use strict";var n=r(3615),s=r(3689),i=r(9037).String;t.exports=!!Object.getOwnPropertySymbols&&!s((function(){var t=Symbol("symbol detection");return!i(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},3032:(t,e,r)=>{"use strict";var n=r(2615),s=r(6058),i=r(4201),o=r(1880);t.exports=function(){var t=s("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,l=i("toPrimitive");e&&!e[l]&&o(e,l,(function(t){return n(r,this)}),{arity:1})}},6549:(t,e,r)=>{"use strict";var n=r(146);t.exports=n&&!!Symbol.for&&!!Symbol.keyFor},3648:(t,e,r)=>{"use strict";var n=r(8844);t.exports=n(1..valueOf)},7578:(t,e,r)=>{"use strict";var n=r(8700),s=Math.max,i=Math.min;t.exports=function(t,e){var r=n(t);return r<0?s(r+e,0):i(r,e)}},5290:(t,e,r)=>{"use strict";var n=r(4413),s=r(4684);t.exports=function(t){return n(s(t))}},8700:(t,e,r)=>{"use strict";var n=r(8828);t.exports=function(t){var e=+t;return e!=e||0===e?0:n(e)}},3126:(t,e,r)=>{"use strict";var n=r(8700),s=Math.min;t.exports=function(t){return t>0?s(n(t),9007199254740991):0}},690:(t,e,r)=>{"use strict";var n=r(4684),s=Object;t.exports=function(t){return s(n(t))}},8732:(t,e,r)=>{"use strict";var n=r(2615),s=r(8999),i=r(734),o=r(4849),l=r(5899),a=r(4201),c=TypeError,u=a("toPrimitive");t.exports=function(t,e){if(!s(t)||i(t))return t;var r,a=o(t,u);if(a){if(void 0===e&&(e="default"),r=n(a,t,e),!s(r)||i(r))return r;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),l(t,e)}},8360:(t,e,r)=>{"use strict";var n=r(8732),s=r(734);t.exports=function(t){var e=n(t,"string");return s(e)?e:e+""}},3043:(t,e,r)=>{"use strict";var n={};n[r(4201)("toStringTag")]="z",t.exports="[object z]"===String(n)},4327:(t,e,r)=>{"use strict";var n=r(926),s=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return s(t)}},3691:t=>{"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},4630:(t,e,r)=>{"use strict";var n=r(8844),s=0,i=Math.random(),o=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++s+i,36)}},9525:(t,e,r)=>{"use strict";var n=r(146);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5648:(t,e,r)=>{"use strict";var n=r(7697),s=r(3689);t.exports=n&&s((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},9834:(t,e,r)=>{"use strict";var n=r(9037),s=r(9985),i=n.WeakMap;t.exports=s(i)&&/native code/.test(String(i))},5405:(t,e,r)=>{"use strict";var n=r(496),s=r(6812),i=r(6145),o=r(2560).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});s(e,t)||o(e,t,{value:i.f(t)})}},6145:(t,e,r)=>{"use strict";var n=r(4201);e.f=n},4201:(t,e,r)=>{"use strict";var n=r(9037),s=r(3430),i=r(6812),o=r(4630),l=r(146),a=r(9525),c=n.Symbol,u=s("wks"),h=a?c.for||c:c&&c.withoutSetter||o;t.exports=function(t){return i(u,t)||(u[t]=l&&i(c,t)?c[t]:h("Symbol."+t)),u[t]}},6350:t=>{"use strict";t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},9693:(t,e,r)=>{"use strict";var n=r(9989),s=r(7612);n({target:"Array",proto:!0,forced:[].forEach!==s},{forEach:s})},7049:(t,e,r)=>{"use strict";var n=r(9989),s=r(1055);n({target:"Array",stat:!0,forced:!r(6431)((function(t){Array.from(t)}))},{from:s})},752:(t,e,r)=>{"use strict";var n=r(5290),s=r(7370),i=r(9478),o=r(618),l=r(2560).f,a=r(1934),c=r(7807),u=r(3931),h=r(7697),d="Array Iterator",f=o.set,p=o.getterFor(d);t.exports=a(Array,"Array",(function(t,e){f(this,{type:d,target:n(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=void 0,c(void 0,!0);switch(t.kind){case"keys":return c(r,!1);case"values":return c(e[r],!1)}return c([r,e[r]],!1)}),"values");var g=i.Arguments=i.Array;if(s("keys"),s("values"),s("entries"),!u&&h&&"values"!==g.name)try{l(g,"name",{value:"values"})}catch(t){}},9903:(t,e,r)=>{"use strict";var n=r(6812),s=r(1880),i=r(1797),o=r(4201)("toPrimitive"),l=Date.prototype;n(l,o)||s(l,o,i)},24:(t,e,r)=>{"use strict";var n=r(8844),s=r(1880),i=Date.prototype,o="Invalid Date",l="toString",a=n(i[l]),c=n(i.getTime);String(new Date(NaN))!==o&&s(i,l,(function(){var t=c(this);return t==t?a(this):o}))},1517:(t,e,r)=>{"use strict";var n=r(9989),s=r(6761);n({target:"Function",proto:!0,forced:Function.bind!==s},{bind:s})},4284:(t,e,r)=>{"use strict";var n=r(7697),s=r(1236).EXISTS,i=r(8844),o=r(2148),l=Function.prototype,a=i(l.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=i(c.exec);n&&!s&&o(l,"name",{configurable:!0,get:function(){try{return u(c,a(this))[1]}catch(t){return""}}})},8324:(t,e,r)=>{"use strict";var n=r(9989),s=r(6058),i=r(1735),o=r(2615),l=r(8844),a=r(3689),c=r(9985),u=r(734),h=r(6004),d=r(2643),f=r(146),p=String,g=s("JSON","stringify"),m=l(/./.exec),v=l("".charAt),b=l("".charCodeAt),y=l("".replace),x=l(1..toString),w=/[\uD800-\uDFFF]/g,O=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,A=!f||a((function(){var t=s("Symbol")("stringify detection");return"[null]"!==g([t])||"{}"!==g({a:t})||"{}"!==g(Object(t))})),N=a((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),S=function(t,e){var r=h(arguments),n=d(e);if(c(n)||void 0!==t&&!u(t))return r[1]=function(t,e){if(c(n)&&(e=o(n,this,p(t),e)),!u(e))return e},i(g,null,r)},k=function(t,e,r){var n=v(r,e-1),s=v(r,e+1);return m(O,t)&&!m(E,s)||m(E,t)&&!m(O,n)?"\\u"+x(b(t,0),16):t};g&&n({target:"JSON",stat:!0,arity:3,forced:A||N},{stringify:function(t,e,r){var n=h(arguments),s=i(A?S:g,null,n);return N&&"string"==typeof s?y(s,w,k):s}})},9288:(t,e,r)=>{"use strict";var n=r(9989),s=r(3931),i=r(7697),o=r(9037),l=r(496),a=r(8844),c=r(5266),u=r(6812),h=r(3457),d=r(3622),f=r(734),p=r(8732),g=r(3689),m=r(2741).f,v=r(2474).f,b=r(2560).f,y=r(3648),x=r(1435).trim,w="Number",O=o[w],E=l[w],A=O.prototype,N=o.TypeError,S=a("".slice),k=a("".charCodeAt),_=function(t){var e,r,n,s,i,o,l,a,c=p(t,"number");if(f(c))throw new N("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=x(c),43===(e=k(c,0))||45===e){if(88===(r=k(c,2))||120===r)return NaN}else if(48===e){switch(k(c,1)){case 66:case 98:n=2,s=49;break;case 79:case 111:n=8,s=55;break;default:return+c}for(o=(i=S(c,2)).length,l=0;l<o;l++)if((a=k(i,l))<48||a>s)return NaN;return parseInt(i,n)}return+c},L=c(w,!O(" 0o1")||!O("0b1")||O("+0x1")),T=function(t){var e,r=arguments.length<1?0:O(function(t){var e=p(t,"number");return"bigint"==typeof e?e:_(e)}(t));return d(A,e=this)&&g((function(){y(e)}))?h(Object(r),this,T):r};T.prototype=A,L&&!s&&(A.constructor=T),n({global:!0,constructor:!0,wrap:!0,forced:L},{Number:T});var C=function(t,e){for(var r,n=i?m(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),s=0;n.length>s;s++)u(e,r=n[s])&&!u(t,r)&&b(t,r,v(e,r))};s&&E&&C(l[w],E),(L||s)&&C(l[w],O)},1013:(t,e,r)=>{"use strict";r(9989)({target:"Object",stat:!0,sham:!r(7697)},{create:r(5391)})},739:(t,e,r)=>{"use strict";var n=r(9989),s=r(7697),i=r(2560).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!s},{defineProperty:i})},9434:(t,e,r)=>{"use strict";var n=r(9989),s=r(146),i=r(3689),o=r(7518),l=r(690);n({target:"Object",stat:!0,forced:!s||i((function(){o.f(1)}))},{getOwnPropertySymbols:function(t){var e=o.f;return e?e(l(t)):[]}})},8052:(t,e,r)=>{"use strict";var n=r(9989),s=r(3689),i=r(690),o=r(1868),l=r(1748);n({target:"Object",stat:!0,forced:s((function(){o(1)})),sham:!l},{getPrototypeOf:function(t){return o(i(t))}})},9358:(t,e,r)=>{"use strict";var n=r(9989),s=r(690),i=r(300);n({target:"Object",stat:!0,forced:r(3689)((function(){i(1)}))},{keys:function(t){return i(s(t))}})},5399:(t,e,r)=>{"use strict";r(9989)({target:"Object",stat:!0},{setPrototypeOf:r(9385)})},228:(t,e,r)=>{"use strict";var n=r(3043),s=r(1880),i=r(5073);n||s(Object.prototype,"toString",i,{unsafe:!0})},2320:(t,e,r)=>{"use strict";var n=r(9989),s=r(7897);n({global:!0,forced:parseInt!==s},{parseInt:s})},50:(t,e,r)=>{"use strict";var n=r(9989),s=r(6058),i=r(1735),o=r(6761),l=r(2655),a=r(5027),c=r(8999),u=r(5391),h=r(3689),d=s("Reflect","construct"),f=Object.prototype,p=[].push,g=h((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),m=!h((function(){d((function(){}))})),v=g||m;n({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(t,e){l(t),a(e);var r=arguments.length<3?t:l(arguments[2]);if(m&&!g)return d(t,e,r);if(t===r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return i(p,n,e),new(i(o,t,n))}var s=r.prototype,h=u(c(s)?s:f),v=i(t,h,e);return c(v)?v:h}})},4043:(t,e,r)=>{"use strict";var n=r(9989),s=r(6308);n({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},2826:(t,e,r)=>{"use strict";var n=r(1236).PROPER,s=r(1880),i=r(5027),o=r(4327),l=r(3689),a=r(3477),c="toString",u=RegExp.prototype[c],h=l((function(){return"/a/b"!==u.call({source:"a",flags:"b"})})),d=n&&u.name!==c;(h||d)&&s(RegExp.prototype,c,(function(){var t=i(this);return"/"+o(t.source)+"/"+o(a(t))}),{unsafe:!0})},1694:(t,e,r)=>{"use strict";var n=r(730).charAt,s=r(4327),i=r(618),o=r(1934),l=r(7807),a="String Iterator",c=i.set,u=i.getterFor(a);o(String,"String",(function(t){c(this,{type:a,string:s(t),index:0})}),(function(){var t,e=u(this),r=e.string,s=e.index;return s>=r.length?l(void 0,!0):(t=n(r,s),e.index+=t.length,l(t,!1))}))},7267:(t,e,r)=>{"use strict";var n=r(1735),s=r(2615),i=r(8844),o=r(8678),l=r(3689),a=r(5027),c=r(9985),u=r(981),h=r(8700),d=r(3126),f=r(4327),p=r(4684),g=r(1514),m=r(4849),v=r(7017),b=r(6100),y=r(4201)("replace"),x=Math.max,w=Math.min,O=i([].concat),E=i([].push),A=i("".indexOf),N=i("".slice),S="$0"==="a".replace(/./,"$0"),k=!!/./[y]&&""===/./[y]("a","$0");o("replace",(function(t,e,r){var i=k?"$":"$0";return[function(t,r){var n=p(this),i=u(t)?void 0:m(t,y);return i?s(i,t,n,r):s(e,f(n),t,r)},function(t,s){var o=a(this),l=f(t);if("string"==typeof s&&-1===A(s,i)&&-1===A(s,"$<")){var u=r(e,o,l,s);if(u.done)return u.value}var p=c(s);p||(s=f(s));var m,y=o.global;y&&(m=o.unicode,o.lastIndex=0);for(var S,k=[];null!==(S=b(o,l))&&(E(k,S),y);){""===f(S[0])&&(o.lastIndex=g(l,d(o.lastIndex),m))}for(var _,L="",T=0,C=0;C<k.length;C++){for(var q,j=f((S=k[C])[0]),I=x(w(h(S.index),l.length),0),M=[],R=1;R<S.length;R++)E(M,void 0===(_=S[R])?_:String(_));var F=S.groups;if(p){var B=O([j],M,I,l);void 0!==F&&E(B,F),q=f(n(s,void 0,B))}else q=v(j,l,I,M,F,s);I>=T&&(L+=N(l,T,I)+q,T=I+j.length)}return L+N(l,T)}]}),!!l((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!S||k)},7855:(t,e,r)=>{"use strict";var n=r(9989),s=r(9037),i=r(2615),o=r(8844),l=r(3931),a=r(7697),c=r(146),u=r(3689),h=r(6812),d=r(3622),f=r(5027),p=r(5290),g=r(8360),m=r(4327),v=r(5684),b=r(5391),y=r(300),x=r(2741),w=r(6062),O=r(7518),E=r(2474),A=r(2560),N=r(8920),S=r(9556),k=r(1880),_=r(2148),L=r(3430),T=r(2713),C=r(7248),q=r(4630),j=r(4201),I=r(6145),M=r(5405),R=r(3032),F=r(5997),B=r(618),P=r(2960).forEach,D=T("hidden"),$="Symbol",U="prototype",V=B.set,z=B.getterFor($),K=Object[U],H=s.Symbol,W=H&&H[U],G=s.RangeError,Z=s.TypeError,Q=s.QObject,X=E.f,Y=A.f,J=w.f,tt=S.f,et=o([].push),rt=L("symbols"),nt=L("op-symbols"),st=L("wks"),it=!Q||!Q[U]||!Q[U].findChild,ot=function(t,e,r){var n=X(K,e);n&&delete K[e],Y(t,e,r),n&&t!==K&&Y(K,e,n)},lt=a&&u((function(){return 7!==b(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?ot:Y,at=function(t,e){var r=rt[t]=b(W);return V(r,{type:$,tag:t,description:e}),a||(r.description=e),r},ct=function(t,e,r){t===K&&ct(nt,e,r),f(t);var n=g(e);return f(r),h(rt,n)?(r.enumerable?(h(t,D)&&t[D][n]&&(t[D][n]=!1),r=b(r,{enumerable:v(0,!1)})):(h(t,D)||Y(t,D,v(1,{})),t[D][n]=!0),lt(t,n,r)):Y(t,n,r)},ut=function(t,e){f(t);var r=p(e),n=y(r).concat(pt(r));return P(n,(function(e){a&&!i(ht,r,e)||ct(t,e,r[e])})),t},ht=function(t){var e=g(t),r=i(tt,this,e);return!(this===K&&h(rt,e)&&!h(nt,e))&&(!(r||!h(this,e)||!h(rt,e)||h(this,D)&&this[D][e])||r)},dt=function(t,e){var r=p(t),n=g(e);if(r!==K||!h(rt,n)||h(nt,n)){var s=X(r,n);return!s||!h(rt,n)||h(r,D)&&r[D][n]||(s.enumerable=!0),s}},ft=function(t){var e=J(p(t)),r=[];return P(e,(function(t){h(rt,t)||h(C,t)||et(r,t)})),r},pt=function(t){var e=t===K,r=J(e?nt:p(t)),n=[];return P(r,(function(t){!h(rt,t)||e&&!h(K,t)||et(n,rt[t])})),n};c||(k(W=(H=function(){if(d(W,this))throw new Z("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,e=q(t),r=function(t){var n=void 0===this?s:this;n===K&&i(r,nt,t),h(n,D)&&h(n[D],e)&&(n[D][e]=!1);var o=v(1,t);try{lt(n,e,o)}catch(t){if(!(t instanceof G))throw t;ot(n,e,o)}};return a&&it&&lt(K,e,{configurable:!0,set:r}),at(e,t)})[U],"toString",(function(){return z(this).tag})),k(H,"withoutSetter",(function(t){return at(q(t),t)})),S.f=ht,A.f=ct,N.f=ut,E.f=dt,x.f=w.f=ft,O.f=pt,I.f=function(t){return at(j(t),t)},a&&(_(W,"description",{configurable:!0,get:function(){return z(this).description}}),l||k(K,"propertyIsEnumerable",ht,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:H}),P(y(st),(function(t){M(t)})),n({target:$,stat:!0,forced:!c},{useSetter:function(){it=!0},useSimple:function(){it=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!a},{create:function(t,e){return void 0===e?b(t):ut(b(t),e)},defineProperty:ct,defineProperties:ut,getOwnPropertyDescriptor:dt}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ft}),R(),F(H,$),C[D]=!0},6544:(t,e,r)=>{"use strict";var n=r(9989),s=r(7697),i=r(9037),o=r(8844),l=r(6812),a=r(9985),c=r(3622),u=r(4327),h=r(2148),d=r(8758),f=i.Symbol,p=f&&f.prototype;if(s&&a(f)&&(!("description"in p)||void 0!==f().description)){var g={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),e=c(p,this)?new f(t):void 0===t?f():f(t);return""===t&&(g[e]=!0),e};d(m,f),m.prototype=p,p.constructor=m;var v="Symbol(description detection)"===String(f("description detection")),b=o(p.valueOf),y=o(p.toString),x=/^Symbol\((.*)\)[^)]+$/,w=o("".replace),O=o("".slice);h(p,"description",{configurable:!0,get:function(){var t=b(this);if(l(g,t))return"";var e=y(t),r=v?O(e,7,-1):w(e,x,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:m})}},3975:(t,e,r)=>{"use strict";var n=r(9989),s=r(6058),i=r(6812),o=r(4327),l=r(3430),a=r(6549),c=l("string-to-symbol-registry"),u=l("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!a},{for:function(t){var e=o(t);if(i(c,e))return c[e];var r=s("Symbol")(e);return c[e]=r,u[r]=e,r}})},4254:(t,e,r)=>{"use strict";r(5405)("iterator")},9749:(t,e,r)=>{"use strict";r(7855),r(3975),r(1445),r(8324),r(9434)},1445:(t,e,r)=>{"use strict";var n=r(9989),s=r(6812),i=r(734),o=r(3691),l=r(3430),a=r(6549),c=l("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!a},{keyFor:function(t){if(!i(t))throw new TypeError(o(t)+" is not a symbol");if(s(c,t))return c[t]}})},9373:(t,e,r)=>{"use strict";var n=r(5405),s=r(3032);n("toPrimitive"),s()},7522:(t,e,r)=>{"use strict";var n=r(9037),s=r(6338),i=r(3265),o=r(7612),l=r(5773),a=function(t){if(t&&t.forEach!==o)try{l(t,"forEach",o)}catch(e){t.forEach=o}};for(var c in s)s[c]&&a(n[c]&&n[c].prototype);a(i)},6265:(t,e,r)=>{"use strict";var n=r(9037),s=r(6338),i=r(3265),o=r(752),l=r(5773),a=r(4201),c=a("iterator"),u=a("toStringTag"),h=o.values,d=function(t,e){if(t){if(t[c]!==h)try{l(t,c,h)}catch(e){t[c]=h}if(t[u]||l(t,u,e),s[e])for(var r in o)if(t[r]!==o[r])try{l(t,r,o[r])}catch(e){t[r]=o[r]}}};for(var f in s)d(n[f]&&n[f].prototype,f);d(i,"DOMTokenList")}},e={};function r(n){var s=e[n];if(void 0!==s)return s.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t=r(6599);window.Stimulus=t.Mx.start();var e=r(4721);Stimulus.load(function(t){return t.keys().map((e=>function(t,e){const r=function(t){const e=(t.match(/^(?:\.\/)?(.+)(?:[_-]controller\..+?)$/)||[])[1];if(e)return e.replace(/_/g,"-").replace(/\//g,"--")}(e);if(r)return function(t,e){const r=t.default;if("function"==typeof r)return{identifier:e,controllerConstructor:r}}(t(e),r)}(t,e))).filter((t=>t))}(e))})()})();