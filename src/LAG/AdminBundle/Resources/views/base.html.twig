<!DOCTYPE html>
<html lang="{{ admin_config('locale') }}">
<head>
    <title>
        {% block title %}{{ admin_config('title') }}{% endblock %}
    </title>
    {% block admin_meta %}
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta name="description" content="{{ admin_config('description') }}"/>
        <meta name="keywords" content=""/>
        <meta name="author" content=""/>
    {% endblock %}
    {% include "LAGAdminBundle:Layout:header.html.twig" %}

    {% block stylesheets %}{% endblock %}
</head>

{% block body %}
    <body>
    {% block navbar %}
        <header class="navbar navbar-light bg-light flex-column flex-md-row bd-navbar">
            <a href="{{ path('admin.homepage') }}" class="navbar-brand">
                {% block brand %}{{ admin_config('title') }}{% endblock %}
            </a>

            {% if is_granted('ROLE_USER') %}
                {% block top_menu %}
                    <div class="navbar-nav">
                        {{ admin_menu_render('top') | raw }}
                    </div>
                {% endblock %}

                {% block user_menu %}
                    <div class="pull-right2">
                        {{ 'lag.admin.welcome_message' | trans({'%username%': app.user.username }) }}&nbsp;
                        <a href="{{ path('logout') }}">
                            <i class="fa fa-sign-out"></i>
                        </a>
                    </div>
                {% endblock %}
            {% endif %}
        </header>
    {% endblock %}

    {% block container %}
        <div class="container-fluid">
            <div class="row">

                {% block layout %}
                    <div id="main-menu-container"
                         class="col-4 col-xl-2"
                         role="navigation">
                        {% if is_granted('ROLE_USER') %}
                            {% block left_menu %}
                                {{ admin_menu_render('main') | raw }}
                            {% endblock %}
                        {% endif %}
                    </div>

                {% block content_container %}
                    <main class="col-7 col-xl-8"
                          role="main">

                        {% block flash_messages %}
                            {% include "LAGAdminBundle:Layout:flash_messages.html.twig" %}
                        {% endblock %}

                        {% block content %}{% endblock %}
                    </main>
                {% endblock %}
                {% endblock %}

                {% block right_menu_container %}
                    <div class="col-1 col-xl-2">
                        {% block right_menu %}
                            {{ admin_menu_render('right') }}
                        {% endblock %}
                    </div>
                {% endblock %}
            </div>
        </div>
    {% endblock %}

    {% block footer %}
        <footer>

            {% block javascripts %}
                <script src="{{ asset('bundles/lagadmin/js/admin.js') }}"></script>
            {% endblock %}
        </footer>
    {% endblock %}
    </body>
{% endblock %}
</html>

