{% extends admin.base %}

{% block content %}
    {% include '@LAGAdmin/CRUD/_title.html.twig' %}

    {% set form = admin.forms.entity %}
    {% form_theme form 'bootstrap_4_layout.html.twig' %}

    {% block form %}
        {# TODO use the form start/end helper #}
{#        {{ form_start() }}#}
        <form action=""
              method="post"
              role="form"
              name="{{ form.vars.name }}"
              enctype="multipart/form-data"
              class="admin-form{{ ' ' ~ form.vars.attr.class | default('') }}">

            {{ form_errors(form) }}

            {% block form_widgets %}
                {{ form_row(form) }}
            {% endblock %}

            {% block form_rest %}
                {{ form_rest(form) }}
            {% endblock %}

            {% block form_buttons %}
                <div class="text-right btn-group"
                     role="group">

                    {% if admin_action_allowed(admin, 'list') %}
                        <a href="{{ admin_url(admin, 'list') }}"
                           class="btn btn-secondary"><i class="fa fa-arrow-circle-left"></i>&nbsp;&nbsp;
                            {{ 'lag.admin.cancel' | trans }}</a>
                    {% endif %}

                    {% if admin.entities.first and admin_action_allowed(admin, 'delete') %}
                        <a href="{{ admin_url(admin, 'delete', admin.entities.first) }}"
                           class="btn btn-danger"
                           role="button">{{ 'lag.admin.delete' | trans }}
                            <i class="fa fa-trash-alt"></i>
                        </a>
                    {% endif %}

                    {% block submitButtons %}
                        <button type="submit"
                                value="save"
                                name="submit"
                                class="btn btn-primary">
                            {{ 'lag.admin.save' | trans }}
                            <i class="fa fa-save"></i></button>
                        <button type="submit"
                                value="submit_and_redirect"
                                name="submit_and_redirect"
                                class="btn btn-success">{{ 'lag.admin.save_and_return_to_list' | trans }}
                            <i class="fa fa-save"></i>
                            <i class="fa fa-check"></i>
                        </button>
                    {% endblock %}
                </div>
            {% endblock %}
        </form>
    {% endblock %}
{% endblock %}
